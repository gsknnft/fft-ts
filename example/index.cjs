"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const ua=require("fs"),Va=require("stream"),La=require("util"),ce=require("path"),Wa={LEFT:0,RIGHT:1,MIX:2,SINE:1,TRIANGLE:2,SAW:3,SQUARE:4,LOWPASS:0,HIGHPASS:1,BANDPASS:2,NOTCH:3,BARTLETT:1,BARTLETTHANN:2,BLACKMAN:3,COSINE:4,GAUSS:5,HAMMING:6,HANN:7,LANCZOS:8,RECTANGULAR:9,TRIANGULAR:10,OFF:0,FW:1,BW:2,FWBW:3,TWO_PI:2*Math.PI},je={};function Ua(o,a){const f=-2*Math.PI*(o/a);return je[a]=je[a]||{},je[a][o]=je[a][o]||[Math.cos(f),Math.sin(f)],je[a][o]}function Ga(o,a){return Math.sqrt(o*o+a*a)}function ca(o){const a=o.length>>>1,f=new Float64Array(a>>>1);for(let s=0;s<a;s+=2)f[s>>>1]=Ga(o[s],o[s+1]);return f}function la(o,a){const f=o.length>>>1,s=new Float64Array(f>>>1),i=a/(o.length>>>1);for(let h=0;h<s.length;h++)s[h]=h*i;return s}function za(o){if(o<1)return 1;let a=1;for(;a<o;)a<<=1;return a}class Xe{size;vector;table;_csize;_width;_bitrev;_out=null;_data=null;_inv=0;data;freq=0;constructor(a){const f=za(a);this.size=f,this._csize=f<<1,this.data=new Float64Array(this._csize);for(let h=0;h<a;h++)this.data[h<<1]=a[h];this.table=new Float64Array(this._csize);for(let h=0;h<this._csize;h+=2){const l=Math.PI*(h>>1)/f;this.table[h]=Math.cos(l),this.table[h+1]=-Math.sin(l)}let s=0;for(let h=1;h<f;h<<=1)s++;this._width=s%2===0?s-1:s;const i=1<<this._width;this._bitrev=new Uint32Array(i);for(let h=0;h<i;h++){let l=0;for(let d=0;d<this._width;d+=2){const w=this._width-d-2;l|=(h>>>d&3)<<w}this._bitrev[h]=l}}setInverse(a){this._inv=a?1:0}fromComplexArray(a,f){const s=f||new Float64Array(a.length>>>1);for(let i=0;i<a.length;i+=2)s[i>>>1]=a[i];return s}createComplexArray(){return new Float64Array(this._csize)}toComplexArray(a,f){const s=f||this.createComplexArray();for(let i=0;i<s.length;i+=2)s[i]=a[i>>>1]??0,s[i+1]=0;return s}completeSpectrum(a){const f=this._csize,s=f>>>1;for(let i=2;i<s;i+=2)a[f-i]=a[i],a[f-i+1]=-a[i+1];return a}transform(a,f){if(a===f)throw new Error("Input and output buffers must be different");this._out=a,this._data=f,this._inv=0,this._transform4(),this._out=null,this._data=null;const s=1/Math.sqrt(this.size);for(let i=0;i<a.length;i++)a[i]*=s}realTransform(a,f){if(a===f)throw new Error("Input and output buffers must be different");this._out=a,this._data=f instanceof Float64Array?f:Float64Array.from(f),this._inv=0,this._realTransform4(),this._out=null,this._data=null;const s=1/Math.sqrt(this.size);for(let i=0;i<a.length;i++)a[i]*=s}inverseTransform(a,f){if(a===f)throw new Error("Input and output buffers must be different");this._out=a,this._data=f,this._inv=1,this._transform4();const s=1/Math.sqrt(this.size);for(let i=0;i<a.length;i++)a[i]=this._out[i]*s;this._out=null,this._data=null}_transform4(){const a=this._out;if(!a)throw new Error("'out' buffer is null");const f=this._csize;let i=1<<this._width,h=f/i<<1,l,d;const w=this._bitrev;if(h===4)for(l=0,d=0;l<f;l+=h,d++){const j=w[d];this._singleTransform2(l,j,i)}else for(l=0,d=0;l<f;l+=h,d++){const j=w[d];this._singleTransform4(l,j,i)}const F=this._inv?-1:1;let P=this.table;for(i>>=2;i>=2;i>>=2){h=f/i<<1;const j=h>>>2;for(l=0;l<f;l+=h){const T=l+j;for(let M=l,$=0;M<T;M+=2,$+=i){const z=M,O=z+j,c=O+j,p=c+j,g=a[z],y=a[z+1],S=a[O],k=a[O+1],R=a[c],X=a[c+1],tt=a[p],Z=a[p+1],ct=g,lt=y,Ft=P[$],Pt=F*P[$+1],Nt=S*Ft-k*Pt,It=S*Pt+k*Ft,Dt=P[2*$],kt=F*P[2*$+1],et=R*Dt-X*kt,nt=R*kt+X*Dt,mt=P[3*$],q=F*P[3*$+1],L=tt*mt-Z*q,C=tt*q+Z*mt,E=ct+et,D=lt+nt,U=ct-et,W=lt-nt,Y=Nt+L,Q=It+C,st=F*(Nt-L),ft=F*(It-C),pt=E+Y,bt=D+Q,Et=E-Y,$t=D-Q,Kt=U+ft,Lt=W-st,K=U-ft,te=W+st;a[z]=pt,a[z+1]=bt,a[O]=Kt,a[O+1]=Lt,a[c]=Et,a[c+1]=$t,a[p]=K,a[p+1]=te}}}}_singleTransform2(a,f,s){const i=this._out,h=this._data;if(!h||!i)throw new Error("'data' buffer is null");const l=h[f],d=h[f+1],w=h[f+s],F=h[f+s+1],P=l+w,j=d+F,T=l-w,M=d-F;i[a]=P,i[a+1]=j,i[a+2]=T,i[a+3]=M}_singleTransform4(a,f,s){const i=this._out,h=this._data;if(!h||!i)throw new Error("'data' buffer is null");const l=this._inv?-1:1,d=s*2,w=s*3,F=h[f],P=h[f+1],j=h[f+s],T=h[f+s+1],M=h[f+d],$=h[f+d+1],z=h[f+w],O=h[f+w+1],c=F+M,p=P+$,g=F-M,y=P-$,S=j+z,k=T+O,R=l*(j-z),X=l*(T-O),tt=c+S,Z=p+k,ct=g+X,lt=y-R,Ft=c-S,Pt=p-k,Nt=g-X,It=y+R;i[a]=tt,i[a+1]=Z,i[a+2]=ct,i[a+3]=lt,i[a+4]=Ft,i[a+5]=Pt,i[a+6]=Nt,i[a+7]=It}_realTransform4(){const a=this._out;if(!a)throw new Error("'data' buffer is null");const f=this._csize;let i=1<<this._width,h=f/i<<1,l,d;const w=this._bitrev;if(h===4)for(l=0,d=0;l<f;l+=h,d++){const j=w[d];this._singleRealTransform2(l,j>>>1,i>>>1)}else for(l=0,d=0;l<f;l+=h,d++){const j=w[d];this._singleRealTransform4(l,j>>>1,i>>>1)}const F=this._inv?-1:1,P=this.table;for(i>>=2;i>=2;i>>=2){h=f/i<<1;const j=h>>>1,T=j>>>1,M=T>>>1;for(l=0;l<f;l+=h)for(let $=0,z=0;$<=M;$+=2,z+=i){const O=l+$,c=O+T,p=c+T,g=p+T,y=a[O],S=a[O+1],k=a[c],R=a[c+1],X=a[p],tt=a[p+1],Z=a[g],ct=a[g+1],lt=y,Ft=S,Pt=P[z],Nt=F*P[z+1],It=k*Pt-R*Nt,Dt=k*Nt+R*Pt,kt=P[2*z],et=F*P[2*z+1],nt=X*kt-tt*et,mt=X*et+tt*kt,q=P[3*z],L=F*P[3*z+1],C=Z*q-ct*L,E=Z*L+ct*q,D=lt+nt,U=Ft+mt,W=lt-nt,Y=Ft-mt,Q=It+C,st=Dt+E,ft=F*(It-C),pt=F*(Dt-E),bt=D+Q,Et=U+st,$t=W+pt,Kt=Y-ft;if(a[O]=bt,a[O+1]=Et,a[c]=$t,a[c+1]=Kt,$===0){const Mt=D-Q,Qt=U-st;a[p]=Mt,a[p+1]=Qt;continue}if($===M)continue;const Lt=W,K=-Y,te=D,Bt=-U,Ut=-F*pt,Ht=-F*ft,x=-F*st,G=-F*Q,ht=Lt+Ut,wt=K+Ht,vt=te+G,Rt=Bt-x,At=l+T-$,qt=l+j-$;a[At]=ht,a[At+1]=wt,a[qt]=vt,a[qt+1]=Rt}}}_singleRealTransform2(a,f,s){const i=this._out,h=this._data;if(!h||!i)throw new Error("'data' buffer is null");const l=h[f],d=h[f+s],w=l+d,F=l-d;i[a]=w,i[a+1]=0,i[a+2]=F,i[a+3]=0}_singleRealTransform4(a,f,s){const i=this._out,h=this._data;if(!h||!i)throw new Error("'data' buffer is null");const l=this._inv?-1:1,d=s*2,w=s*3,F=h[f],P=h[f+s],j=h[f+d],T=h[f+w],M=F+j,$=F-j,z=P+T,O=l*(P-T),c=M+z,p=$,g=-O,y=M-z,S=$,k=O;i[a]=c,i[a+1]=0,i[a+2]=p,i[a+3]=g,i[a+4]=y,i[a+5]=0,i[a+6]=S,i[a+7]=k}}let Ja=class si{other;ArrayType;real;imag;length=0;constructor(a,f=Float32Array){a instanceof si?(this.ArrayType=a.ArrayType,this.real=new this.ArrayType(a.real),this.imag=new this.ArrayType(a.imag)):(this.ArrayType=f,this.real=this.ArrayType===Array?a:new this.ArrayType(a),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length}conjugate=()=>new si(this).map(a=>a.imag*=-1);toString(){const a=[];return this.forEach((f,s)=>a.push(`(${f.real.toFixed(2)}, ${f.imag.toFixed(2)})`)),`[${a.join(", ")}]`}forEach(a){const f=this.length,s=Object.seal(Object.defineProperties({},{real:{writable:!0},imag:{writable:!0}}));for(let i=0;i<f;i++)s.real=this.real[i],s.imag=this.imag[i],a(s,i,f)}map(a){return this.forEach((f,s,i)=>{a(f,s,i),this.real[s]=f.real,this.imag[s]=f.imag}),this}magnitude(){const a=new this.ArrayType(this.length);return this.forEach((f,s)=>a[s]=Math.sqrt(f.real*f.real+f.imag*f.imag)),a}};const He=Math.PI,$e=Math.SQRT1_2;function Ya(o){return fa(o).InvFFT()}function Qa(o,a){return fa(o).frequencyMap(a)}class Te extends Ja{FFT(){return ai(this,!1)}InvFFT(){return ai(this,!0)}frequencyMap(a){return this.FFT().map(a).InvFFT()}}function fa(o){return o instanceof Te&&o||new Te(o)}function ai(o,a){const f=o.length;return f&f-1?Ka(o,a):Ha(o,a)}function Ka(o,a){const f=o.length;if(f===1)return o;const s=new Te(f,o.ArrayType),i=tu(f),h=f/i,l=1/Math.sqrt(i);let d=new Te(h,o.ArrayType);for(let w=0;w<i;w++){for(let M=0;M<h;M++)d.real[M]=o.real[M*i+w],d.imag[M]=o.imag[M*i+w];h>1&&(d=ai(d,a));const F=Math.cos(2*He*w/f),P=(a?-1:1)*Math.sin(2*He*w/f);let j=1,T=0;for(let M=0;M<f;M++){const $=d.real[M%h],z=d.imag[M%h];s.real[M]+=j*$-T*z,s.imag[M]+=j*z+T*$,[j,T]=[j*F-T*P,T=j*P+T*F]}}for(let w=0;w<f;w++)o.real[w]=l*s.real[w],o.imag[w]=l*s.imag[w];return o}function Ha(o,a){const f=o.length,s=Za(o),[i,h]=[s.real,s.imag];let l=1;for(;l<f;){const F=Math.cos(He/l),P=(a?-1:1)*Math.sin(He/l);for(var d=0;d<f/(2*l);++d){let j=1,T=0;for(var w=0;w<l;w++){const M=2*d*l+w,$=M+l,z=i[M],O=h[M],c=j*i[$]-T*h[$],p=T*i[$]+j*h[$];i[M]=$e*(z+c),h[M]=$e*(O+p),i[$]=$e*(z-c),h[$]=$e*(O-p),[j,T]=[j*F-T*P,j*P+T*F]}}l<<=1}return s}function Xa(o,a){let f=0;for(;a>1;)f<<=1,f+=o&1,o>>=1,a>>=1;return f}function Za(o){const a=o.length,f=new Set;for(let s=0;s<a;s++){const i=Xa(s,a);f.has(s)||([o.real[s],o.real[i]]=[o.real[i],o.real[s]],[o.imag[s],o.imag[i]]=[o.imag[i],o.imag[s]],f.add(i))}return o}function tu(o){const a=Math.sqrt(o);let f=3;for(;f<=a;){if(o%f===0)return f;f+=2}return o}function eu(o){const a=o.length,f=new Xe(a),s=f.createComplexArray(),i=f.toComplexArray(o);f.transform(s,i);const h=[];for(let l=0;l<a;l++){const d=s[2*l],w=s[2*l+1];h.push({real:d,imag:w,magnitude:Math.sqrt(d*d+w*w),phase:Math.atan2(w,d)})}return h}function ru(o){const a=new Xe(o.length),f=a.createComplexArray(),s=a.createComplexArray(),i=a.toComplexArray(o,s);a.transform(f,i);const h=new Float64Array(o.length/2);for(let l=0;l<h.length;l++){const d=f[2*l],w=f[2*l+1];h[l]=Math.sqrt(d*d+w*w)}return h}var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ci(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function li(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var a=o.default;if(typeof a=="function"){var f=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};f.prototype=a.prototype}else f={};return Object.defineProperty(f,"__esModule",{value:!0}),Object.keys(o).forEach(function(s){var i=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(f,s,i.get?i:{enumerable:!0,get:function(){return o[s]}})}),f}var Yt={},Fi;function nu(){if(Fi)return Yt;Fi=1;var o=32;Yt.INT_BITS=o,Yt.INT_MAX=2147483647,Yt.INT_MIN=-1<<o-1,Yt.sign=function(s){return(s>0)-(s<0)},Yt.abs=function(s){var i=s>>o-1;return(s^i)-i},Yt.min=function(s,i){return i^(s^i)&-(s<i)},Yt.max=function(s,i){return s^(s^i)&-(s<i)},Yt.isPow2=function(s){return!(s&s-1)&&!!s},Yt.log2=function(s){var i,h;return i=(s>65535)<<4,s>>>=i,h=(s>255)<<3,s>>>=h,i|=h,h=(s>15)<<2,s>>>=h,i|=h,h=(s>3)<<1,s>>>=h,i|=h,i|s>>1},Yt.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},Yt.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function a(s){var i=32;return s&=-s,s&&i--,s&65535&&(i-=16),s&16711935&&(i-=8),s&252645135&&(i-=4),s&858993459&&(i-=2),s&1431655765&&(i-=1),i}Yt.countTrailingZeros=a,Yt.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},Yt.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},Yt.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var f=new Array(256);return(function(s){for(var i=0;i<256;++i){var h=i,l=i,d=7;for(h>>>=1;h;h>>>=1)l<<=1,l|=h&1,--d;s[i]=l<<d&255}})(f),Yt.reverse=function(s){return f[s&255]<<24|f[s>>>8&255]<<16|f[s>>>16&255]<<8|f[s>>>24&255]},Yt.interleave2=function(s,i){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,s|i<<1},Yt.deinterleave2=function(s,i){return s=s>>>i&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},Yt.interleave3=function(s,i,h){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,s|=i<<1,h&=1023,h=(h|h<<16)&4278190335,h=(h|h<<8)&251719695,h=(h|h<<4)&3272356035,h=(h|h<<2)&1227133513,s|h<<2},Yt.deinterleave3=function(s,i){return s=s>>>i&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},Yt.nextCombination=function(s){var i=s|s-1;return i+1|(~i&-~i)-1>>>a(s)+1},Yt}var iu=nu();const fi=ci(iu);class ou{bufferSize;sampleRate;bandwidth;spectrum;real;imag;peakBand=0;peak=0;constructor(a,f){this.bufferSize=a,this.sampleRate=f,this.bandwidth=2/a*f/2,this.spectrum=new Float64Array(a/2),this.real=new Float64Array(a),this.imag=new Float64Array(a)}transform(){const a=this.bufferSize,f=new Float64Array(a*4),s=0,i=a,h=a*2;f.set(this.real,s),f.set(this.imag,i),su(1,1,a,f,s,i,h),this.real.set(f.subarray(s,s+a)),this.imag.set(f.subarray(i,i+a))}getBandFrequency(a){return this.bandwidth*a+this.bandwidth/2}calculateSpectrum(){for(let a=0;a<this.bufferSize/2;a++){const f=2/this.bufferSize*Math.sqrt(this.real[a]**2+this.imag[a]**2);f>this.peak&&(this.peakBand=a,this.peak=f),this.spectrum[a]=f}return this.spectrum}}function su(o,a,f,s,i,h,l){o|=0,a|=0,f|=0,i|=0,h|=0,fi.isPow2(f)?Ke(o,a,f,s,i,h):au(o,a,f,s,i,h,l)}function Ke(o,a,f,s,i,h){o|=0,a|=0,f|=0,i|=0,h|=0;var l,d,w,F,P,j,T,M,$,z,O,c,p,g,y,S,k,R,X,tt,Z,ct,lt,Ft,Pt;for(l=f,d=fi.log2(l),R=0;R<a;++R){for(T=l>>1,P=0,w=0;w<l-1;w++){for(w<P&&(p=s[i+w],s[i+w]=s[i+P],s[i+P]=p,p=s[h+w],s[h+w]=s[h+P],s[h+P]=p),j=T;j<=P;)P-=j,j>>=1;P+=j}for(O=-1,c=0,z=1,M=0;M<d;M++){for($=z,z<<=1,S=1,k=0,P=0;P<$;P++){for(w=P;w<l;w+=z)F=w+$,X=s[i+F],tt=s[h+F],Z=s[i+w],ct=s[h+w],lt=S*(X+tt),Ft=X*(k-S),Pt=tt*(S+k),g=lt-Pt,y=lt+Ft,s[i+F]=Z-g,s[h+F]=ct-y,s[i+w]+=g,s[h+w]+=y;lt=O*(S+k),Ft=S*(c-O),Pt=k*(O+c),S=lt-Pt,k=lt+Ft}c=Math.sqrt((1-O)/2),o<0&&(c=-c),O=Math.sqrt((1+O)/2)}if(o<0){var Nt=1/l;for(w=0;w<l;w++)s[i+w]*=Nt,s[h+w]*=Nt}i+=f,h+=f}}function au(o,a,f,s,i,h,l){o|=0,a|=0,f|=0,i|=0,h|=0,l|=0;var d=fi.nextPow2(2*f+1),w=l,F=w+f,P=F+f,j=P+d,T=j+d,M=T+d,$=-o*Math.PI/f,z,O,c,p,g,y,S,k,R;for(R=0;R<f;++R)O=$*(R*R%(f*2)),p=Math.cos(O),g=Math.sin(O),s[T+(d-R)]=s[T+R]=s[w+R]=p,s[M+(d-R)]=s[M+R]=s[F+R]=g;for(R=f;R<=d-f;++R)s[T+R]=0;for(R=f;R<=d-f;++R)s[M+R]=0;for(Ke(1,1,d,s,T,M),o<0?$=1/f:$=1,z=0;z<a;++z){for(R=0;R<f;++R)O=s[i+R],c=s[h+R],p=s[w+R],g=-s[F+R],y=p*(O+c),S=O*(g-p),k=c*(p+g),s[P+R]=y-k,s[j+R]=y+S;for(R=f;R<d;++R)s[P+R]=0;for(R=f;R<d;++R)s[j+R]=0;for(Ke(1,1,d,s,P,j),R=0;R<d;++R)O=s[P+R],c=s[j+R],p=s[T+R],g=s[M+R],y=p*(O+c),S=O*(g-p),k=c*(p+g),s[P+R]=y-k,s[j+R]=y+S;for(Ke(-1,1,d,s,P,j),R=0;R<f;++R)O=s[P+R],c=s[j+R],p=s[w+R],g=-s[F+R],y=p*(O+c),S=O*(g-p),k=c*(p+g),s[i+R]=$*(y-k),s[h+R]=$*(y+S);i+=f,h+=f}}function uu(o){const a=o.length;for(let f=0;f<a;f++)o[f]*=.5*(1-Math.cos(2*Math.PI*f/(a-1)))}class Me{freq=0;fft;ft;size;_hop=4;_tick=0;_buffer=new Float64Array(8);_index=0;constructor(a){if(a<2)throw new Error("FFT needs at least 2 samples");if((a&a-1)!==0)throw new Error("FFT size must be a power of two");this.size=a,this.fft=new Xe(this.size),this.ft=new ou(a,1)}forward(a){const f=this.fft.createComplexArray(),s=this.toComplexArray(a);this.fft.transform(f,s);const i=new Float64Array(this.size/2);for(let h=0;h<i.length;h++){const l=f[2*h],d=f[2*h+1];i[h]=Math.sqrt(l**2+d**2)}return i}forwardWithPhase(a){const f=this.fft.createComplexArray(),s=this.toComplexArray(a);this.fft.transform(f,s);const i=this.size/2,h=new Float64Array(i),l=new Float64Array(i),d=new Float64Array(i);for(let w=0;w<i;w++){const F=f[2*w],P=f[2*w+1];h[w]=Math.sqrt(F**2+P**2),l[w]=F,d[w]=P}return{magnitude:h,real:l,imag:d}}radix2(a){return this.ft.real.set(a),this.ft.transform(),this.ft.calculateSpectrum()}deriveCoherence(a){const f=this.forward(a),s=f.reduce((i,h)=>i+(isFinite(h)?h:0),0);return s?f[0]/s:0}realTransform(a){const f=this.fft.createComplexArray();return this.fft.realTransform(f,a),this.toRealArray(f)}inverse(a){const f=this.fft.createComplexArray();for(let i=0;i<a.length;i++)f[2*i]=a[i],f[2*i+1]=0;const s=new Float64Array(this.size);return this.fft.inverseTransform(s,f),Float64Array.from(s)}toComplexArray(a){const f=this.fft.createComplexArray();for(let s=0;s<a.length;s++)f[2*s]=a[s],f[2*s+1]=0;return f}toRealArray(a){const f=new Float64Array(this.size);for(let s=0;s<this.size;s++)f[s]=a[2*s];return f}magnitude(a){const f=new Float64Array(this.size/2);for(let s=0;s<f.length;s++){const i=a[2*s],h=a[2*s+1];f[s]=Math.sqrt(i**2+h**2)}return f}tickFFT(a){if(this._buffer[this._index]=Math.sin(this.freq*a),this._index=(this._index+1)%this._buffer.length,this._tick++,this._tick%this._hop===0&&this._index===0){uu(this._buffer);const s=new Me(this._buffer.length).forward(this._buffer),i=s[2],h=s[3],l=new Float64Array(s.length>>>1);for(let w=0;w<l.length;w++){const F=s[w<<1],P=s[(w<<1)+1];l[w]=Math.sqrt(F*F+P*P)}const d=Math.sqrt(i*i+h*h);return isFinite(d)||(console.warn("FFT anomaly at tick",this._tick),console.table(this._buffer)),{mag:d,magnitudes:l}}return 0}}var ue={},Be={},xe={},ji;function Ze(){if(ji)return xe;ji=1;class o extends Error{constructor(s,i,h){super(h),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=i,this.exitCode=s,this.nestedError=void 0}}class a extends o{constructor(s){super(1,"commander.invalidArgument",s),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}return xe.CommanderError=o,xe.InvalidArgumentError=a,xe}var Pi;function hi(){if(Pi)return Be;Pi=1;const{InvalidArgumentError:o}=Ze();class a{constructor(i,h){switch(this.description=h||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,i[0]){case"<":this.required=!0,this._name=i.slice(1,-1);break;case"[":this.required=!1,this._name=i.slice(1,-1);break;default:this.required=!0,this._name=i;break}this._name.endsWith("...")&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_collectValue(i,h){return h===this.defaultValue||!Array.isArray(h)?[i]:(h.push(i),h)}default(i,h){return this.defaultValue=i,this.defaultValueDescription=h,this}argParser(i){return this.parseArg=i,this}choices(i){return this.argChoices=i.slice(),this.parseArg=(h,l)=>{if(!this.argChoices.includes(h))throw new o(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._collectValue(h,l):h},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}}function f(s){const i=s.name()+(s.variadic===!0?"...":"");return s.required?"<"+i+">":"["+i+"]"}return Be.Argument=a,Be.humanReadableArgName=f,Be}var Ve={};const cu={},lu=Object.freeze(Object.defineProperty({__proto__:null,default:cu},Symbol.toStringTag,{value:"Module"})),Ee=li(lu);var Le={},Ri;function ha(){if(Ri)return Le;Ri=1;const{humanReadableArgName:o}=hi();class a{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(i){this.helpWidth=this.helpWidth??i.helpWidth??80}visibleCommands(i){const h=i.commands.filter(d=>!d._hidden),l=i._getHelpCommand();return l&&!l._hidden&&h.push(l),this.sortSubcommands&&h.sort((d,w)=>d.name().localeCompare(w.name())),h}compareOptions(i,h){const l=d=>d.short?d.short.replace(/^-/,""):d.long.replace(/^--/,"");return l(i).localeCompare(l(h))}visibleOptions(i){const h=i.options.filter(d=>!d.hidden),l=i._getHelpOption();if(l&&!l.hidden){const d=l.short&&i._findOption(l.short),w=l.long&&i._findOption(l.long);!d&&!w?h.push(l):l.long&&!w?h.push(i.createOption(l.long,l.description)):l.short&&!d&&h.push(i.createOption(l.short,l.description))}return this.sortOptions&&h.sort(this.compareOptions),h}visibleGlobalOptions(i){if(!this.showGlobalOptions)return[];const h=[];for(let l=i.parent;l;l=l.parent){const d=l.options.filter(w=>!w.hidden);h.push(...d)}return this.sortOptions&&h.sort(this.compareOptions),h}visibleArguments(i){return i._argsDescription&&i.registeredArguments.forEach(h=>{h.description=h.description||i._argsDescription[h.name()]||""}),i.registeredArguments.find(h=>h.description)?i.registeredArguments:[]}subcommandTerm(i){const h=i.registeredArguments.map(l=>o(l)).join(" ");return i._name+(i._aliases[0]?"|"+i._aliases[0]:"")+(i.options.length?" [options]":"")+(h?" "+h:"")}optionTerm(i){return i.flags}argumentTerm(i){return i.name()}longestSubcommandTermLength(i,h){return h.visibleCommands(i).reduce((l,d)=>Math.max(l,this.displayWidth(h.styleSubcommandTerm(h.subcommandTerm(d)))),0)}longestOptionTermLength(i,h){return h.visibleOptions(i).reduce((l,d)=>Math.max(l,this.displayWidth(h.styleOptionTerm(h.optionTerm(d)))),0)}longestGlobalOptionTermLength(i,h){return h.visibleGlobalOptions(i).reduce((l,d)=>Math.max(l,this.displayWidth(h.styleOptionTerm(h.optionTerm(d)))),0)}longestArgumentTermLength(i,h){return h.visibleArguments(i).reduce((l,d)=>Math.max(l,this.displayWidth(h.styleArgumentTerm(h.argumentTerm(d)))),0)}commandUsage(i){let h=i._name;i._aliases[0]&&(h=h+"|"+i._aliases[0]);let l="";for(let d=i.parent;d;d=d.parent)l=d.name()+" "+l;return l+h+" "+i.usage()}commandDescription(i){return i.description()}subcommandDescription(i){return i.summary()||i.description()}optionDescription(i){const h=[];if(i.argChoices&&h.push(`choices: ${i.argChoices.map(l=>JSON.stringify(l)).join(", ")}`),i.defaultValue!==void 0&&(i.required||i.optional||i.isBoolean()&&typeof i.defaultValue=="boolean")&&h.push(`default: ${i.defaultValueDescription||JSON.stringify(i.defaultValue)}`),i.presetArg!==void 0&&i.optional&&h.push(`preset: ${JSON.stringify(i.presetArg)}`),i.envVar!==void 0&&h.push(`env: ${i.envVar}`),h.length>0){const l=`(${h.join(", ")})`;return i.description?`${i.description} ${l}`:l}return i.description}argumentDescription(i){const h=[];if(i.argChoices&&h.push(`choices: ${i.argChoices.map(l=>JSON.stringify(l)).join(", ")}`),i.defaultValue!==void 0&&h.push(`default: ${i.defaultValueDescription||JSON.stringify(i.defaultValue)}`),h.length>0){const l=`(${h.join(", ")})`;return i.description?`${i.description} ${l}`:l}return i.description}formatItemList(i,h,l){return h.length===0?[]:[l.styleTitle(i),...h,""]}groupItems(i,h,l){const d=new Map;return i.forEach(w=>{const F=l(w);d.has(F)||d.set(F,[])}),h.forEach(w=>{const F=l(w);d.has(F)||d.set(F,[]),d.get(F).push(w)}),d}formatHelp(i,h){const l=h.padWidth(i,h),d=h.helpWidth??80;function w($,z){return h.formatItem($,l,z,h)}let F=[`${h.styleTitle("Usage:")} ${h.styleUsage(h.commandUsage(i))}`,""];const P=h.commandDescription(i);P.length>0&&(F=F.concat([h.boxWrap(h.styleCommandDescription(P),d),""]));const j=h.visibleArguments(i).map($=>w(h.styleArgumentTerm(h.argumentTerm($)),h.styleArgumentDescription(h.argumentDescription($))));if(F=F.concat(this.formatItemList("Arguments:",j,h)),this.groupItems(i.options,h.visibleOptions(i),$=>$.helpGroupHeading??"Options:").forEach(($,z)=>{const O=$.map(c=>w(h.styleOptionTerm(h.optionTerm(c)),h.styleOptionDescription(h.optionDescription(c))));F=F.concat(this.formatItemList(z,O,h))}),h.showGlobalOptions){const $=h.visibleGlobalOptions(i).map(z=>w(h.styleOptionTerm(h.optionTerm(z)),h.styleOptionDescription(h.optionDescription(z))));F=F.concat(this.formatItemList("Global Options:",$,h))}return this.groupItems(i.commands,h.visibleCommands(i),$=>$.helpGroup()||"Commands:").forEach(($,z)=>{const O=$.map(c=>w(h.styleSubcommandTerm(h.subcommandTerm(c)),h.styleSubcommandDescription(h.subcommandDescription(c))));F=F.concat(this.formatItemList(z,O,h))}),F.join(`
`)}displayWidth(i){return f(i).length}styleTitle(i){return i}styleUsage(i){return i.split(" ").map(h=>h==="[options]"?this.styleOptionText(h):h==="[command]"?this.styleSubcommandText(h):h[0]==="["||h[0]==="<"?this.styleArgumentText(h):this.styleCommandText(h)).join(" ")}styleCommandDescription(i){return this.styleDescriptionText(i)}styleOptionDescription(i){return this.styleDescriptionText(i)}styleSubcommandDescription(i){return this.styleDescriptionText(i)}styleArgumentDescription(i){return this.styleDescriptionText(i)}styleDescriptionText(i){return i}styleOptionTerm(i){return this.styleOptionText(i)}styleSubcommandTerm(i){return i.split(" ").map(h=>h==="[options]"?this.styleOptionText(h):h[0]==="["||h[0]==="<"?this.styleArgumentText(h):this.styleSubcommandText(h)).join(" ")}styleArgumentTerm(i){return this.styleArgumentText(i)}styleOptionText(i){return i}styleArgumentText(i){return i}styleSubcommandText(i){return i}styleCommandText(i){return i}padWidth(i,h){return Math.max(h.longestOptionTermLength(i,h),h.longestGlobalOptionTermLength(i,h),h.longestSubcommandTermLength(i,h),h.longestArgumentTermLength(i,h))}preformatted(i){return/\n[^\S\r\n]/.test(i)}formatItem(i,h,l,d){const F=" ".repeat(2);if(!l)return F+i;const P=i.padEnd(h+i.length-d.displayWidth(i)),j=2,M=(this.helpWidth??80)-h-j-2;let $;return M<this.minWidthToWrap||d.preformatted(l)?$=l:$=d.boxWrap(l,M).replace(/\n/g,`
`+" ".repeat(h+j)),F+P+" ".repeat(j)+$.replace(/\n/g,`
${F}`)}boxWrap(i,h){if(h<this.minWidthToWrap)return i;const l=i.split(/\r\n|\n/),d=/[\s]*[^\s]+/g,w=[];return l.forEach(F=>{const P=F.match(d);if(P===null){w.push("");return}let j=[P.shift()],T=this.displayWidth(j[0]);P.forEach(M=>{const $=this.displayWidth(M);if(T+$<=h){j.push(M),T+=$;return}w.push(j.join(""));const z=M.trimStart();j=[z],T=this.displayWidth(z)}),w.push(j.join(""))}),w.join(`
`)}}function f(s){const i=/\x1b\[\d*(;\d*)*m/g;return s.replace(i,"")}return Le.Help=a,Le.stripColor=f,Le}var We={},Ti;function pa(){if(Ti)return We;Ti=1;const{InvalidArgumentError:o}=Ze();class a{constructor(l,d){this.flags=l,this.description=d||"",this.required=l.includes("<"),this.optional=l.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(l),this.mandatory=!1;const w=i(l);this.short=w.shortFlag,this.long=w.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0,this.helpGroupHeading=void 0}default(l,d){return this.defaultValue=l,this.defaultValueDescription=d,this}preset(l){return this.presetArg=l,this}conflicts(l){return this.conflictsWith=this.conflictsWith.concat(l),this}implies(l){let d=l;return typeof l=="string"&&(d={[l]:!0}),this.implied=Object.assign(this.implied||{},d),this}env(l){return this.envVar=l,this}argParser(l){return this.parseArg=l,this}makeOptionMandatory(l=!0){return this.mandatory=!!l,this}hideHelp(l=!0){return this.hidden=!!l,this}_collectValue(l,d){return d===this.defaultValue||!Array.isArray(d)?[l]:(d.push(l),d)}choices(l){return this.argChoices=l.slice(),this.parseArg=(d,w)=>{if(!this.argChoices.includes(d))throw new o(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._collectValue(d,w):d},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?s(this.name().replace(/^no-/,"")):s(this.name())}helpGroup(l){return this.helpGroupHeading=l,this}is(l){return this.short===l||this.long===l}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class f{constructor(l){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,l.forEach(d=>{d.negate?this.negativeOptions.set(d.attributeName(),d):this.positiveOptions.set(d.attributeName(),d)}),this.negativeOptions.forEach((d,w)=>{this.positiveOptions.has(w)&&this.dualOptions.add(w)})}valueFromOption(l,d){const w=d.attributeName();if(!this.dualOptions.has(w))return!0;const F=this.negativeOptions.get(w).presetArg,P=F!==void 0?F:!1;return d.negate===(P===l)}}function s(h){return h.split("-").reduce((l,d)=>l+d[0].toUpperCase()+d.slice(1))}function i(h){let l,d;const w=/^-[^-]$/,F=/^--[^-]/,P=h.split(/[ |,]+/).concat("guard");if(w.test(P[0])&&(l=P.shift()),F.test(P[0])&&(d=P.shift()),!l&&w.test(P[0])&&(l=P.shift()),!l&&F.test(P[0])&&(l=d,d=P.shift()),P[0].startsWith("-")){const j=P[0],T=`option creation failed due to '${j}' in option flags '${h}'`;throw/^-[^-][^-]/.test(j)?new Error(`${T}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):w.test(j)?new Error(`${T}
- too many short flags`):F.test(j)?new Error(`${T}
- too many long flags`):new Error(`${T}
- unrecognised flag format`)}if(l===void 0&&d===void 0)throw new Error(`option creation failed due to no flags found in '${h}'.`);return{shortFlag:l,longFlag:d}}return We.Option=a,We.DualOptions=f,We}var or={},qi;function fu(){if(qi)return or;qi=1;const o=3;function a(s,i){if(Math.abs(s.length-i.length)>o)return Math.max(s.length,i.length);const h=[];for(let l=0;l<=s.length;l++)h[l]=[l];for(let l=0;l<=i.length;l++)h[0][l]=l;for(let l=1;l<=i.length;l++)for(let d=1;d<=s.length;d++){let w=1;s[d-1]===i[l-1]?w=0:w=1,h[d][l]=Math.min(h[d-1][l]+1,h[d][l-1]+1,h[d-1][l-1]+w),d>1&&l>1&&s[d-1]===i[l-2]&&s[d-2]===i[l-1]&&(h[d][l]=Math.min(h[d][l],h[d-2][l-2]+1))}return h[s.length][i.length]}function f(s,i){if(!i||i.length===0)return"";i=Array.from(new Set(i));const h=s.startsWith("--");h&&(s=s.slice(2),i=i.map(F=>F.slice(2)));let l=[],d=o;const w=.4;return i.forEach(F=>{if(F.length<=1)return;const P=a(s,F),j=Math.max(s.length,F.length);(j-P)/j>w&&(P<d?(d=P,l=[F]):P===d&&l.push(F))}),l.sort((F,P)=>F.localeCompare(P)),h&&(l=l.map(F=>`--${F}`)),l.length>1?`
(Did you mean one of ${l.join(", ")}?)`:l.length===1?`
(Did you mean ${l[0]}?)`:""}return or.suggestSimilar=f,or}var Ci;function hu(){if(Ci)return Ve;Ci=1;const o=Ee.EventEmitter,a=Ee,f=Ee,s=Ee,i=Ee,{Argument:h,humanReadableArgName:l}=hi(),{CommanderError:d}=Ze(),{Help:w,stripColor:F}=ha(),{Option:P,DualOptions:j}=pa(),{suggestSimilar:T}=fu();class M extends o{constructor(c){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=c||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:p=>i.stdout.write(p),writeErr:p=>i.stderr.write(p),outputError:(p,g)=>g(p),getOutHelpWidth:()=>i.stdout.isTTY?i.stdout.columns:void 0,getErrHelpWidth:()=>i.stderr.isTTY?i.stderr.columns:void 0,getOutHasColors:()=>z()??(i.stdout.isTTY&&i.stdout.hasColors?.()),getErrHasColors:()=>z()??(i.stderr.isTTY&&i.stderr.hasColors?.()),stripColor:p=>F(p)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={},this._helpGroupHeading=void 0,this._defaultCommandGroup=void 0,this._defaultOptionGroup=void 0}copyInheritedSettings(c){return this._outputConfiguration=c._outputConfiguration,this._helpOption=c._helpOption,this._helpCommand=c._helpCommand,this._helpConfiguration=c._helpConfiguration,this._exitCallback=c._exitCallback,this._storeOptionsAsProperties=c._storeOptionsAsProperties,this._combineFlagAndOptionalValue=c._combineFlagAndOptionalValue,this._allowExcessArguments=c._allowExcessArguments,this._enablePositionalOptions=c._enablePositionalOptions,this._showHelpAfterError=c._showHelpAfterError,this._showSuggestionAfterError=c._showSuggestionAfterError,this}_getCommandAndAncestors(){const c=[];for(let p=this;p;p=p.parent)c.push(p);return c}command(c,p,g){let y=p,S=g;typeof y=="object"&&y!==null&&(S=y,y=null),S=S||{};const[,k,R]=c.match(/([^ ]+) *(.*)/),X=this.createCommand(k);return y&&(X.description(y),X._executableHandler=!0),S.isDefault&&(this._defaultCommandName=X._name),X._hidden=!!(S.noHelp||S.hidden),X._executableFile=S.executableFile||null,R&&X.arguments(R),this._registerCommand(X),X.parent=this,X.copyInheritedSettings(this),y?this:X}createCommand(c){return new M(c)}createHelp(){return Object.assign(new w,this.configureHelp())}configureHelp(c){return c===void 0?this._helpConfiguration:(this._helpConfiguration=c,this)}configureOutput(c){return c===void 0?this._outputConfiguration:(this._outputConfiguration={...this._outputConfiguration,...c},this)}showHelpAfterError(c=!0){return typeof c!="string"&&(c=!!c),this._showHelpAfterError=c,this}showSuggestionAfterError(c=!0){return this._showSuggestionAfterError=!!c,this}addCommand(c,p){if(!c._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return p=p||{},p.isDefault&&(this._defaultCommandName=c._name),(p.noHelp||p.hidden)&&(c._hidden=!0),this._registerCommand(c),c.parent=this,c._checkForBrokenPassThrough(),this}createArgument(c,p){return new h(c,p)}argument(c,p,g,y){const S=this.createArgument(c,p);return typeof g=="function"?S.default(y).argParser(g):S.default(g),this.addArgument(S),this}arguments(c){return c.trim().split(/ +/).forEach(p=>{this.argument(p)}),this}addArgument(c){const p=this.registeredArguments.slice(-1)[0];if(p?.variadic)throw new Error(`only the last argument can be variadic '${p.name()}'`);if(c.required&&c.defaultValue!==void 0&&c.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${c.name()}'`);return this.registeredArguments.push(c),this}helpCommand(c,p){if(typeof c=="boolean")return this._addImplicitHelpCommand=c,c&&this._defaultCommandGroup&&this._initCommandGroup(this._getHelpCommand()),this;const g=c??"help [command]",[,y,S]=g.match(/([^ ]+) *(.*)/),k=p??"display help for command",R=this.createCommand(y);return R.helpOption(!1),S&&R.arguments(S),k&&R.description(k),this._addImplicitHelpCommand=!0,this._helpCommand=R,(c||p)&&this._initCommandGroup(R),this}addHelpCommand(c,p){return typeof c!="object"?(this.helpCommand(c,p),this):(this._addImplicitHelpCommand=!0,this._helpCommand=c,this._initCommandGroup(c),this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(c,p){const g=["preSubcommand","preAction","postAction"];if(!g.includes(c))throw new Error(`Unexpected value for event passed to hook : '${c}'.
Expecting one of '${g.join("', '")}'`);return this._lifeCycleHooks[c]?this._lifeCycleHooks[c].push(p):this._lifeCycleHooks[c]=[p],this}exitOverride(c){return c?this._exitCallback=c:this._exitCallback=p=>{if(p.code!=="commander.executeSubCommandAsync")throw p},this}_exit(c,p,g){this._exitCallback&&this._exitCallback(new d(c,p,g)),i.exit(c)}action(c){const p=g=>{const y=this.registeredArguments.length,S=g.slice(0,y);return this._storeOptionsAsProperties?S[y]=this:S[y]=this.opts(),S.push(this),c.apply(this,S)};return this._actionHandler=p,this}createOption(c,p){return new P(c,p)}_callParseArg(c,p,g,y){try{return c.parseArg(p,g)}catch(S){if(S.code==="commander.invalidArgument"){const k=`${y} ${S.message}`;this.error(k,{exitCode:S.exitCode,code:S.code})}throw S}}_registerOption(c){const p=c.short&&this._findOption(c.short)||c.long&&this._findOption(c.long);if(p){const g=c.long&&this._findOption(c.long)?c.long:c.short;throw new Error(`Cannot add option '${c.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${g}'
-  already used by option '${p.flags}'`)}this._initOptionGroup(c),this.options.push(c)}_registerCommand(c){const p=y=>[y.name()].concat(y.aliases()),g=p(c).find(y=>this._findCommand(y));if(g){const y=p(this._findCommand(g)).join("|"),S=p(c).join("|");throw new Error(`cannot add command '${S}' as already have command '${y}'`)}this._initCommandGroup(c),this.commands.push(c)}addOption(c){this._registerOption(c);const p=c.name(),g=c.attributeName();if(c.negate){const S=c.long.replace(/^--no-/,"--");this._findOption(S)||this.setOptionValueWithSource(g,c.defaultValue===void 0?!0:c.defaultValue,"default")}else c.defaultValue!==void 0&&this.setOptionValueWithSource(g,c.defaultValue,"default");const y=(S,k,R)=>{S==null&&c.presetArg!==void 0&&(S=c.presetArg);const X=this.getOptionValue(g);S!==null&&c.parseArg?S=this._callParseArg(c,S,X,k):S!==null&&c.variadic&&(S=c._collectValue(S,X)),S==null&&(c.negate?S=!1:c.isBoolean()||c.optional?S=!0:S=""),this.setOptionValueWithSource(g,S,R)};return this.on("option:"+p,S=>{const k=`error: option '${c.flags}' argument '${S}' is invalid.`;y(S,k,"cli")}),c.envVar&&this.on("optionEnv:"+p,S=>{const k=`error: option '${c.flags}' value '${S}' from env '${c.envVar}' is invalid.`;y(S,k,"env")}),this}_optionEx(c,p,g,y,S){if(typeof p=="object"&&p instanceof P)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const k=this.createOption(p,g);if(k.makeOptionMandatory(!!c.mandatory),typeof y=="function")k.default(S).argParser(y);else if(y instanceof RegExp){const R=y;y=(X,tt)=>{const Z=R.exec(X);return Z?Z[0]:tt},k.default(S).argParser(y)}else k.default(y);return this.addOption(k)}option(c,p,g,y){return this._optionEx({},c,p,g,y)}requiredOption(c,p,g,y){return this._optionEx({mandatory:!0},c,p,g,y)}combineFlagAndOptionalValue(c=!0){return this._combineFlagAndOptionalValue=!!c,this}allowUnknownOption(c=!0){return this._allowUnknownOption=!!c,this}allowExcessArguments(c=!0){return this._allowExcessArguments=!!c,this}enablePositionalOptions(c=!0){return this._enablePositionalOptions=!!c,this}passThroughOptions(c=!0){return this._passThroughOptions=!!c,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(c=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!c,this}getOptionValue(c){return this._storeOptionsAsProperties?this[c]:this._optionValues[c]}setOptionValue(c,p){return this.setOptionValueWithSource(c,p,void 0)}setOptionValueWithSource(c,p,g){return this._storeOptionsAsProperties?this[c]=p:this._optionValues[c]=p,this._optionValueSources[c]=g,this}getOptionValueSource(c){return this._optionValueSources[c]}getOptionValueSourceWithGlobals(c){let p;return this._getCommandAndAncestors().forEach(g=>{g.getOptionValueSource(c)!==void 0&&(p=g.getOptionValueSource(c))}),p}_prepareUserArgs(c,p){if(c!==void 0&&!Array.isArray(c))throw new Error("first parameter to parse must be array or undefined");if(p=p||{},c===void 0&&p.from===void 0){i.versions?.electron&&(p.from="electron");const y=i.execArgv??[];(y.includes("-e")||y.includes("--eval")||y.includes("-p")||y.includes("--print"))&&(p.from="eval")}c===void 0&&(c=i.argv),this.rawArgs=c.slice();let g;switch(p.from){case void 0:case"node":this._scriptPath=c[1],g=c.slice(2);break;case"electron":i.defaultApp?(this._scriptPath=c[1],g=c.slice(2)):g=c.slice(1);break;case"user":g=c.slice(0);break;case"eval":g=c.slice(1);break;default:throw new Error(`unexpected parse option { from: '${p.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",g}parse(c,p){this._prepareForParse();const g=this._prepareUserArgs(c,p);return this._parseCommand([],g),this}async parseAsync(c,p){this._prepareForParse();const g=this._prepareUserArgs(c,p);return await this._parseCommand([],g),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(c,p,g){if(s.existsSync(c))return;const y=p?`searched for local subcommand relative to directory '${p}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",S=`'${c}' does not exist
 - if '${g}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${y}`;throw new Error(S)}_executeSubCommand(c,p){p=p.slice();let g=!1;const y=[".js",".ts",".tsx",".mjs",".cjs"];function S(Z,ct){const lt=f.resolve(Z,ct);if(s.existsSync(lt))return lt;if(y.includes(f.extname(ct)))return;const Ft=y.find(Pt=>s.existsSync(`${lt}${Pt}`));if(Ft)return`${lt}${Ft}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let k=c._executableFile||`${this._name}-${c._name}`,R=this._executableDir||"";if(this._scriptPath){let Z;try{Z=s.realpathSync(this._scriptPath)}catch{Z=this._scriptPath}R=f.resolve(f.dirname(Z),R)}if(R){let Z=S(R,k);if(!Z&&!c._executableFile&&this._scriptPath){const ct=f.basename(this._scriptPath,f.extname(this._scriptPath));ct!==this._name&&(Z=S(R,`${ct}-${c._name}`))}k=Z||k}g=y.includes(f.extname(k));let X;i.platform!=="win32"?g?(p.unshift(k),p=$(i.execArgv).concat(p),X=a.spawn(i.argv[0],p,{stdio:"inherit"})):X=a.spawn(k,p,{stdio:"inherit"}):(this._checkForMissingExecutable(k,R,c._name),p.unshift(k),p=$(i.execArgv).concat(p),X=a.spawn(i.execPath,p,{stdio:"inherit"})),X.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(ct=>{i.on(ct,()=>{X.killed===!1&&X.exitCode===null&&X.kill(ct)})});const tt=this._exitCallback;X.on("close",Z=>{Z=Z??1,tt?tt(new d(Z,"commander.executeSubCommandAsync","(close)")):i.exit(Z)}),X.on("error",Z=>{if(Z.code==="ENOENT")this._checkForMissingExecutable(k,R,c._name);else if(Z.code==="EACCES")throw new Error(`'${k}' not executable`);if(!tt)i.exit(1);else{const ct=new d(1,"commander.executeSubCommandAsync","(error)");ct.nestedError=Z,tt(ct)}}),this.runningCommand=X}_dispatchSubcommand(c,p,g){const y=this._findCommand(c);y||this.help({error:!0}),y._prepareForParse();let S;return S=this._chainOrCallSubCommandHook(S,y,"preSubcommand"),S=this._chainOrCall(S,()=>{if(y._executableHandler)this._executeSubCommand(y,p.concat(g));else return y._parseCommand(p,g)}),S}_dispatchHelpCommand(c){c||this.help();const p=this._findCommand(c);return p&&!p._executableHandler&&p.help(),this._dispatchSubcommand(c,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((c,p)=>{c.required&&this.args[p]==null&&this.missingArgument(c.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const c=(g,y,S)=>{let k=y;if(y!==null&&g.parseArg){const R=`error: command-argument value '${y}' is invalid for argument '${g.name()}'.`;k=this._callParseArg(g,y,S,R)}return k};this._checkNumberOfArguments();const p=[];this.registeredArguments.forEach((g,y)=>{let S=g.defaultValue;g.variadic?y<this.args.length?(S=this.args.slice(y),g.parseArg&&(S=S.reduce((k,R)=>c(g,R,k),g.defaultValue))):S===void 0&&(S=[]):y<this.args.length&&(S=this.args[y],g.parseArg&&(S=c(g,S,g.defaultValue))),p[y]=S}),this.processedArgs=p}_chainOrCall(c,p){return c?.then&&typeof c.then=="function"?c.then(()=>p()):p()}_chainOrCallHooks(c,p){let g=c;const y=[];return this._getCommandAndAncestors().reverse().filter(S=>S._lifeCycleHooks[p]!==void 0).forEach(S=>{S._lifeCycleHooks[p].forEach(k=>{y.push({hookedCommand:S,callback:k})})}),p==="postAction"&&y.reverse(),y.forEach(S=>{g=this._chainOrCall(g,()=>S.callback(S.hookedCommand,this))}),g}_chainOrCallSubCommandHook(c,p,g){let y=c;return this._lifeCycleHooks[g]!==void 0&&this._lifeCycleHooks[g].forEach(S=>{y=this._chainOrCall(y,()=>S(this,p))}),y}_parseCommand(c,p){const g=this.parseOptions(p);if(this._parseOptionsEnv(),this._parseOptionsImplied(),c=c.concat(g.operands),p=g.unknown,this.args=c.concat(p),c&&this._findCommand(c[0]))return this._dispatchSubcommand(c[0],c.slice(1),p);if(this._getHelpCommand()&&c[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(c[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(p),this._dispatchSubcommand(this._defaultCommandName,c,p);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(g.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const y=()=>{g.unknown.length>0&&this.unknownOption(g.unknown[0])},S=`command:${this.name()}`;if(this._actionHandler){y(),this._processArguments();let k;return k=this._chainOrCallHooks(k,"preAction"),k=this._chainOrCall(k,()=>this._actionHandler(this.processedArgs)),this.parent&&(k=this._chainOrCall(k,()=>{this.parent.emit(S,c,p)})),k=this._chainOrCallHooks(k,"postAction"),k}if(this.parent?.listenerCount(S))y(),this._processArguments(),this.parent.emit(S,c,p);else if(c.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",c,p);this.listenerCount("command:*")?this.emit("command:*",c,p):this.commands.length?this.unknownCommand():(y(),this._processArguments())}else this.commands.length?(y(),this.help({error:!0})):(y(),this._processArguments())}_findCommand(c){if(c)return this.commands.find(p=>p._name===c||p._aliases.includes(c))}_findOption(c){return this.options.find(p=>p.is(c))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(c=>{c.options.forEach(p=>{p.mandatory&&c.getOptionValue(p.attributeName())===void 0&&c.missingMandatoryOptionValue(p)})})}_checkForConflictingLocalOptions(){const c=this.options.filter(g=>{const y=g.attributeName();return this.getOptionValue(y)===void 0?!1:this.getOptionValueSource(y)!=="default"});c.filter(g=>g.conflictsWith.length>0).forEach(g=>{const y=c.find(S=>g.conflictsWith.includes(S.attributeName()));y&&this._conflictingOption(g,y)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(c=>{c._checkForConflictingLocalOptions()})}parseOptions(c){const p=[],g=[];let y=p;function S(Z){return Z.length>1&&Z[0]==="-"}const k=Z=>/^-\d*\.?\d+(e[+-]?\d+)?$/.test(Z)?!this._getCommandAndAncestors().some(ct=>ct.options.map(lt=>lt.short).some(lt=>/^-\d$/.test(lt))):!1;let R=null,X=null,tt=0;for(;tt<c.length||X;){const Z=X??c[tt++];if(X=null,Z==="--"){y===g&&y.push(Z),y.push(...c.slice(tt));break}if(R&&(!S(Z)||k(Z))){this.emit(`option:${R.name()}`,Z);continue}if(R=null,S(Z)){const ct=this._findOption(Z);if(ct){if(ct.required){const lt=c[tt++];lt===void 0&&this.optionMissingArgument(ct),this.emit(`option:${ct.name()}`,lt)}else if(ct.optional){let lt=null;tt<c.length&&(!S(c[tt])||k(c[tt]))&&(lt=c[tt++]),this.emit(`option:${ct.name()}`,lt)}else this.emit(`option:${ct.name()}`);R=ct.variadic?ct:null;continue}}if(Z.length>2&&Z[0]==="-"&&Z[1]!=="-"){const ct=this._findOption(`-${Z[1]}`);if(ct){ct.required||ct.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${ct.name()}`,Z.slice(2)):(this.emit(`option:${ct.name()}`),X=`-${Z.slice(2)}`);continue}}if(/^--[^=]+=/.test(Z)){const ct=Z.indexOf("="),lt=this._findOption(Z.slice(0,ct));if(lt&&(lt.required||lt.optional)){this.emit(`option:${lt.name()}`,Z.slice(ct+1));continue}}if(y===p&&S(Z)&&!(this.commands.length===0&&k(Z))&&(y=g),(this._enablePositionalOptions||this._passThroughOptions)&&p.length===0&&g.length===0){if(this._findCommand(Z)){p.push(Z),g.push(...c.slice(tt));break}else if(this._getHelpCommand()&&Z===this._getHelpCommand().name()){p.push(Z,...c.slice(tt));break}else if(this._defaultCommandName){g.push(Z,...c.slice(tt));break}}if(this._passThroughOptions){y.push(Z,...c.slice(tt));break}y.push(Z)}return{operands:p,unknown:g}}opts(){if(this._storeOptionsAsProperties){const c={},p=this.options.length;for(let g=0;g<p;g++){const y=this.options[g].attributeName();c[y]=y===this._versionOptionName?this._version:this[y]}return c}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((c,p)=>Object.assign(c,p.opts()),{})}error(c,p){this._outputConfiguration.outputError(`${c}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));const g=p||{},y=g.exitCode||1,S=g.code||"commander.error";this._exit(y,S,c)}_parseOptionsEnv(){this.options.forEach(c=>{if(c.envVar&&c.envVar in i.env){const p=c.attributeName();(this.getOptionValue(p)===void 0||["default","config","env"].includes(this.getOptionValueSource(p)))&&(c.required||c.optional?this.emit(`optionEnv:${c.name()}`,i.env[c.envVar]):this.emit(`optionEnv:${c.name()}`))}})}_parseOptionsImplied(){const c=new j(this.options),p=g=>this.getOptionValue(g)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(g));this.options.filter(g=>g.implied!==void 0&&p(g.attributeName())&&c.valueFromOption(this.getOptionValue(g.attributeName()),g)).forEach(g=>{Object.keys(g.implied).filter(y=>!p(y)).forEach(y=>{this.setOptionValueWithSource(y,g.implied[y],"implied")})})}missingArgument(c){const p=`error: missing required argument '${c}'`;this.error(p,{code:"commander.missingArgument"})}optionMissingArgument(c){const p=`error: option '${c.flags}' argument missing`;this.error(p,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(c){const p=`error: required option '${c.flags}' not specified`;this.error(p,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(c,p){const g=k=>{const R=k.attributeName(),X=this.getOptionValue(R),tt=this.options.find(ct=>ct.negate&&R===ct.attributeName()),Z=this.options.find(ct=>!ct.negate&&R===ct.attributeName());return tt&&(tt.presetArg===void 0&&X===!1||tt.presetArg!==void 0&&X===tt.presetArg)?tt:Z||k},y=k=>{const R=g(k),X=R.attributeName();return this.getOptionValueSource(X)==="env"?`environment variable '${R.envVar}'`:`option '${R.flags}'`},S=`error: ${y(c)} cannot be used with ${y(p)}`;this.error(S,{code:"commander.conflictingOption"})}unknownOption(c){if(this._allowUnknownOption)return;let p="";if(c.startsWith("--")&&this._showSuggestionAfterError){let y=[],S=this;do{const k=S.createHelp().visibleOptions(S).filter(R=>R.long).map(R=>R.long);y=y.concat(k),S=S.parent}while(S&&!S._enablePositionalOptions);p=T(c,y)}const g=`error: unknown option '${c}'${p}`;this.error(g,{code:"commander.unknownOption"})}_excessArguments(c){if(this._allowExcessArguments)return;const p=this.registeredArguments.length,g=p===1?"":"s",S=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${p} argument${g} but got ${c.length}.`;this.error(S,{code:"commander.excessArguments"})}unknownCommand(){const c=this.args[0];let p="";if(this._showSuggestionAfterError){const y=[];this.createHelp().visibleCommands(this).forEach(S=>{y.push(S.name()),S.alias()&&y.push(S.alias())}),p=T(c,y)}const g=`error: unknown command '${c}'${p}`;this.error(g,{code:"commander.unknownCommand"})}version(c,p,g){if(c===void 0)return this._version;this._version=c,p=p||"-V, --version",g=g||"output the version number";const y=this.createOption(p,g);return this._versionOptionName=y.attributeName(),this._registerOption(y),this.on("option:"+y.name(),()=>{this._outputConfiguration.writeOut(`${c}
`),this._exit(0,"commander.version",c)}),this}description(c,p){return c===void 0&&p===void 0?this._description:(this._description=c,p&&(this._argsDescription=p),this)}summary(c){return c===void 0?this._summary:(this._summary=c,this)}alias(c){if(c===void 0)return this._aliases[0];let p=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(p=this.commands[this.commands.length-1]),c===p._name)throw new Error("Command alias can't be the same as its name");const g=this.parent?._findCommand(c);if(g){const y=[g.name()].concat(g.aliases()).join("|");throw new Error(`cannot add alias '${c}' to command '${this.name()}' as already have command '${y}'`)}return p._aliases.push(c),this}aliases(c){return c===void 0?this._aliases:(c.forEach(p=>this.alias(p)),this)}usage(c){if(c===void 0){if(this._usage)return this._usage;const p=this.registeredArguments.map(g=>l(g));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?p:[]).join(" ")}return this._usage=c,this}name(c){return c===void 0?this._name:(this._name=c,this)}helpGroup(c){return c===void 0?this._helpGroupHeading??"":(this._helpGroupHeading=c,this)}commandsGroup(c){return c===void 0?this._defaultCommandGroup??"":(this._defaultCommandGroup=c,this)}optionsGroup(c){return c===void 0?this._defaultOptionGroup??"":(this._defaultOptionGroup=c,this)}_initOptionGroup(c){this._defaultOptionGroup&&!c.helpGroupHeading&&c.helpGroup(this._defaultOptionGroup)}_initCommandGroup(c){this._defaultCommandGroup&&!c.helpGroup()&&c.helpGroup(this._defaultCommandGroup)}nameFromFilename(c){return this._name=f.basename(c,f.extname(c)),this}executableDir(c){return c===void 0?this._executableDir:(this._executableDir=c,this)}helpInformation(c){const p=this.createHelp(),g=this._getOutputContext(c);p.prepareContext({error:g.error,helpWidth:g.helpWidth,outputHasColors:g.hasColors});const y=p.formatHelp(this,p);return g.hasColors?y:this._outputConfiguration.stripColor(y)}_getOutputContext(c){c=c||{};const p=!!c.error;let g,y,S;return p?(g=R=>this._outputConfiguration.writeErr(R),y=this._outputConfiguration.getErrHasColors(),S=this._outputConfiguration.getErrHelpWidth()):(g=R=>this._outputConfiguration.writeOut(R),y=this._outputConfiguration.getOutHasColors(),S=this._outputConfiguration.getOutHelpWidth()),{error:p,write:R=>(y||(R=this._outputConfiguration.stripColor(R)),g(R)),hasColors:y,helpWidth:S}}outputHelp(c){let p;typeof c=="function"&&(p=c,c=void 0);const g=this._getOutputContext(c),y={error:g.error,write:g.write,command:this};this._getCommandAndAncestors().reverse().forEach(k=>k.emit("beforeAllHelp",y)),this.emit("beforeHelp",y);let S=this.helpInformation({error:g.error});if(p&&(S=p(S),typeof S!="string"&&!Buffer.isBuffer(S)))throw new Error("outputHelp callback must return a string or a Buffer");g.write(S),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",y),this._getCommandAndAncestors().forEach(k=>k.emit("afterAllHelp",y))}helpOption(c,p){return typeof c=="boolean"?(c?(this._helpOption===null&&(this._helpOption=void 0),this._defaultOptionGroup&&this._initOptionGroup(this._getHelpOption())):this._helpOption=null,this):(this._helpOption=this.createOption(c??"-h, --help",p??"display help for command"),(c||p)&&this._initOptionGroup(this._helpOption),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(c){return this._helpOption=c,this._initOptionGroup(c),this}help(c){this.outputHelp(c);let p=Number(i.exitCode??0);p===0&&c&&typeof c!="function"&&c.error&&(p=1),this._exit(p,"commander.help","(outputHelp)")}addHelpText(c,p){const g=["beforeAll","before","after","afterAll"];if(!g.includes(c))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${g.join("', '")}'`);const y=`${c}Help`;return this.on(y,S=>{let k;typeof p=="function"?k=p({error:S.error,command:S.command}):k=p,k&&S.write(`${k}
`)}),this}_outputHelpIfRequested(c){const p=this._getHelpOption();p&&c.find(y=>p.is(y))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}}function $(O){return O.map(c=>{if(!c.startsWith("--inspect"))return c;let p,g="127.0.0.1",y="9229",S;return(S=c.match(/^(--inspect(-brk)?)$/))!==null?p=S[1]:(S=c.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(p=S[1],/^\d+$/.test(S[3])?y=S[3]:g=S[3]):(S=c.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(p=S[1],g=S[3],y=S[4]),p&&y!=="0"?`${p}=${g}:${parseInt(y)+1}`:c})}function z(){if(i.env.NO_COLOR||i.env.FORCE_COLOR==="0"||i.env.FORCE_COLOR==="false")return!1;if(i.env.FORCE_COLOR||i.env.CLICOLOR_FORCE!==void 0)return!0}return Ve.Command=M,Ve.useColor=z,Ve}var Mi;function pu(){if(Mi)return ue;Mi=1;const{Argument:o}=hi(),{Command:a}=hu(),{CommanderError:f,InvalidArgumentError:s}=Ze(),{Help:i}=ha(),{Option:h}=pa();return ue.program=new a,ue.createCommand=l=>new a(l),ue.createOption=(l,d)=>new h(l,d),ue.createArgument=(l,d)=>new o(l,d),ue.Command=a,ue.Option=h,ue.Argument=o,ue.Help=i,ue.CommanderError=f,ue.InvalidArgumentError=s,ue.InvalidOptionArgumentError=s,ue}var mu=pu();const gu=ci(mu),{program:el,createCommand:rl,createArgument:nl,createOption:il,CommanderError:ol,InvalidArgumentError:sl,InvalidOptionArgumentError:al,Command:du,Argument:ul,Option:cl,Help:ll}=gu;var sr={},Ue={},Ii;function ie(){return Ii||(Ii=1,Ue.fromCallback=function(o){return Object.defineProperty(function(...a){if(typeof a[a.length-1]=="function")o.apply(this,a);else return new Promise((f,s)=>{a.push((i,h)=>i!=null?s(i):f(h)),o.apply(this,a)})},"name",{value:o.name})},Ue.fromPromise=function(o){return Object.defineProperty(function(...a){const f=a[a.length-1];if(typeof f!="function")return o.apply(this,a);a.pop(),o.apply(this,a).then(s=>f(null,s),f)},"name",{value:o.name})}),Ue}var ar,ki;function yu(){if(ki)return ar;ki=1;var o=Ee,a=process.cwd,f=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return f||(f=a.call(process)),f};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var i=process.chdir;process.chdir=function(l){f=null,i.call(process,l)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,i)}ar=h;function h(l){o.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&d(l),l.lutimes||w(l),l.chown=j(l.chown),l.fchown=j(l.fchown),l.lchown=j(l.lchown),l.chmod=F(l.chmod),l.fchmod=F(l.fchmod),l.lchmod=F(l.lchmod),l.chownSync=T(l.chownSync),l.fchownSync=T(l.fchownSync),l.lchownSync=T(l.lchownSync),l.chmodSync=P(l.chmodSync),l.fchmodSync=P(l.fchmodSync),l.lchmodSync=P(l.lchmodSync),l.stat=M(l.stat),l.fstat=M(l.fstat),l.lstat=M(l.lstat),l.statSync=$(l.statSync),l.fstatSync=$(l.fstatSync),l.lstatSync=$(l.lstatSync),l.chmod&&!l.lchmod&&(l.lchmod=function(O,c,p){p&&process.nextTick(p)},l.lchmodSync=function(){}),l.chown&&!l.lchown&&(l.lchown=function(O,c,p,g){g&&process.nextTick(g)},l.lchownSync=function(){}),s==="win32"&&(l.rename=typeof l.rename!="function"?l.rename:(function(O){function c(p,g,y){var S=Date.now(),k=0;O(p,g,function R(X){if(X&&(X.code==="EACCES"||X.code==="EPERM"||X.code==="EBUSY")&&Date.now()-S<6e4){setTimeout(function(){l.stat(g,function(tt,Z){tt&&tt.code==="ENOENT"?O(p,g,R):y(X)})},k),k<100&&(k+=10);return}y&&y(X)})}return Object.setPrototypeOf&&Object.setPrototypeOf(c,O),c})(l.rename)),l.read=typeof l.read!="function"?l.read:(function(O){function c(p,g,y,S,k,R){var X;if(R&&typeof R=="function"){var tt=0;X=function(Z,ct,lt){if(Z&&Z.code==="EAGAIN"&&tt<10)return tt++,O.call(l,p,g,y,S,k,X);R.apply(this,arguments)}}return O.call(l,p,g,y,S,k,X)}return Object.setPrototypeOf&&Object.setPrototypeOf(c,O),c})(l.read),l.readSync=typeof l.readSync!="function"?l.readSync:(function(O){return function(c,p,g,y,S){for(var k=0;;)try{return O.call(l,c,p,g,y,S)}catch(R){if(R.code==="EAGAIN"&&k<10){k++;continue}throw R}}})(l.readSync);function d(O){O.lchmod=function(c,p,g){O.open(c,o.O_WRONLY|o.O_SYMLINK,p,function(y,S){if(y){g&&g(y);return}O.fchmod(S,p,function(k){O.close(S,function(R){g&&g(k||R)})})})},O.lchmodSync=function(c,p){var g=O.openSync(c,o.O_WRONLY|o.O_SYMLINK,p),y=!0,S;try{S=O.fchmodSync(g,p),y=!1}finally{if(y)try{O.closeSync(g)}catch{}else O.closeSync(g)}return S}}function w(O){o.hasOwnProperty("O_SYMLINK")&&O.futimes?(O.lutimes=function(c,p,g,y){O.open(c,o.O_SYMLINK,function(S,k){if(S){y&&y(S);return}O.futimes(k,p,g,function(R){O.close(k,function(X){y&&y(R||X)})})})},O.lutimesSync=function(c,p,g){var y=O.openSync(c,o.O_SYMLINK),S,k=!0;try{S=O.futimesSync(y,p,g),k=!1}finally{if(k)try{O.closeSync(y)}catch{}else O.closeSync(y)}return S}):O.futimes&&(O.lutimes=function(c,p,g,y){y&&process.nextTick(y)},O.lutimesSync=function(){})}function F(O){return O&&function(c,p,g){return O.call(l,c,p,function(y){z(y)&&(y=null),g&&g.apply(this,arguments)})}}function P(O){return O&&function(c,p){try{return O.call(l,c,p)}catch(g){if(!z(g))throw g}}}function j(O){return O&&function(c,p,g,y){return O.call(l,c,p,g,function(S){z(S)&&(S=null),y&&y.apply(this,arguments)})}}function T(O){return O&&function(c,p,g){try{return O.call(l,c,p,g)}catch(y){if(!z(y))throw y}}}function M(O){return O&&function(c,p,g){typeof p=="function"&&(g=p,p=null);function y(S,k){k&&(k.uid<0&&(k.uid+=4294967296),k.gid<0&&(k.gid+=4294967296)),g&&g.apply(this,arguments)}return p?O.call(l,c,p,y):O.call(l,c,y)}}function $(O){return O&&function(c,p){var g=p?O.call(l,c,p):O.call(l,c);return g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),g}}function z(O){if(!O||O.code==="ENOSYS")return!0;var c=!process.getuid||process.getuid()!==0;return!!(c&&(O.code==="EINVAL"||O.code==="EPERM"))}}return ar}var ur,Di;function wu(){if(Di)return ur;Di=1;var o=Va.Stream;ur=a;function a(f){return{ReadStream:s,WriteStream:i};function s(h,l){if(!(this instanceof s))return new s(h,l);o.call(this);var d=this;this.path=h,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,l=l||{};for(var w=Object.keys(l),F=0,P=w.length;F<P;F++){var j=w[F];this[j]=l[j]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){d._read()});return}f.open(this.path,this.flags,this.mode,function(T,M){if(T){d.emit("error",T),d.readable=!1;return}d.fd=M,d.emit("open",M),d._read()})}function i(h,l){if(!(this instanceof i))return new i(h,l);o.call(this),this.path=h,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,l=l||{};for(var d=Object.keys(l),w=0,F=d.length;w<F;w++){var P=d[w];this[P]=l[P]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=f.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return ur}var cr,Ni;function vu(){if(Ni)return cr;Ni=1,cr=a;var o=Object.getPrototypeOf||function(f){return f.__proto__};function a(f){if(f===null||typeof f!="object")return f;if(f instanceof Object)var s={__proto__:o(f)};else var s=Object.create(null);return Object.getOwnPropertyNames(f).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(f,i))}),s}return cr}var lr={exports:{}},fr={},hr={},pr={},mr,$i;function pi(){return $i||($i=1,mr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var a={},f=Symbol("test"),s=Object(f);if(typeof f=="string"||Object.prototype.toString.call(f)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var i=42;a[f]=i;for(var h in a)return!1;if(typeof Object.keys=="function"&&Object.keys(a).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(a).length!==0)return!1;var l=Object.getOwnPropertySymbols(a);if(l.length!==1||l[0]!==f||!Object.prototype.propertyIsEnumerable.call(a,f))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(a,f);if(d.value!==i||d.enumerable!==!0)return!1}return!0}),mr}var gr,Bi;function tr(){if(Bi)return gr;Bi=1;var o=pi();return gr=function(){return o()&&!!Symbol.toStringTag},gr}var dr,xi;function mi(){return xi||(xi=1,dr=Object),dr}var yr,Vi;function bu(){return Vi||(Vi=1,yr=Error),yr}var wr,Li;function Su(){return Li||(Li=1,wr=EvalError),wr}var vr,Wi;function Eu(){return Wi||(Wi=1,vr=RangeError),vr}var br,Ui;function Ou(){return Ui||(Ui=1,br=ReferenceError),br}var Sr,Gi;function ma(){return Gi||(Gi=1,Sr=SyntaxError),Sr}var Er,zi;function Ie(){return zi||(zi=1,Er=TypeError),Er}var Or,Ji;function _u(){return Ji||(Ji=1,Or=URIError),Or}var _r,Yi;function Au(){return Yi||(Yi=1,_r=Math.abs),_r}var Ar,Qi;function Fu(){return Qi||(Qi=1,Ar=Math.floor),Ar}var Fr,Ki;function ju(){return Ki||(Ki=1,Fr=Math.max),Fr}var jr,Hi;function Pu(){return Hi||(Hi=1,jr=Math.min),jr}var Pr,Xi;function Ru(){return Xi||(Xi=1,Pr=Math.pow),Pr}var Rr,Zi;function Tu(){return Zi||(Zi=1,Rr=Math.round),Rr}var Tr,to;function qu(){return to||(to=1,Tr=Number.isNaN||function(a){return a!==a}),Tr}var qr,eo;function Cu(){if(eo)return qr;eo=1;var o=qu();return qr=function(f){return o(f)||f===0?f:f<0?-1:1},qr}var Cr,ro;function Mu(){return ro||(ro=1,Cr=Object.getOwnPropertyDescriptor),Cr}var Mr,no;function _e(){if(no)return Mr;no=1;var o=Mu();if(o)try{o([],"length")}catch{o=null}return Mr=o,Mr}var Ir,io;function er(){if(io)return Ir;io=1;var o=Object.defineProperty||!1;if(o)try{o({},"a",{value:1})}catch{o=!1}return Ir=o,Ir}var kr,oo;function Iu(){if(oo)return kr;oo=1;var o=typeof Symbol<"u"&&Symbol,a=pi();return kr=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:a()},kr}var Dr,so;function ga(){return so||(so=1,Dr=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Dr}var Nr,ao;function da(){if(ao)return Nr;ao=1;var o=mi();return Nr=o.getPrototypeOf||null,Nr}var $r,uo;function ku(){if(uo)return $r;uo=1;var o="Function.prototype.bind called on incompatible ",a=Object.prototype.toString,f=Math.max,s="[object Function]",i=function(w,F){for(var P=[],j=0;j<w.length;j+=1)P[j]=w[j];for(var T=0;T<F.length;T+=1)P[T+w.length]=F[T];return P},h=function(w,F){for(var P=[],j=F,T=0;j<w.length;j+=1,T+=1)P[T]=w[j];return P},l=function(d,w){for(var F="",P=0;P<d.length;P+=1)F+=d[P],P+1<d.length&&(F+=w);return F};return $r=function(w){var F=this;if(typeof F!="function"||a.apply(F)!==s)throw new TypeError(o+F);for(var P=h(arguments,1),j,T=function(){if(this instanceof j){var c=F.apply(this,i(P,arguments));return Object(c)===c?c:this}return F.apply(w,i(P,arguments))},M=f(0,F.length-P.length),$=[],z=0;z<M;z++)$[z]="$"+z;if(j=Function("binder","return function ("+l($,",")+"){ return binder.apply(this,arguments); }")(T),F.prototype){var O=function(){};O.prototype=F.prototype,j.prototype=new O,O.prototype=null}return j},$r}var Br,co;function ke(){if(co)return Br;co=1;var o=ku();return Br=Function.prototype.bind||o,Br}var xr,lo;function gi(){return lo||(lo=1,xr=Function.prototype.call),xr}var Vr,fo;function di(){return fo||(fo=1,Vr=Function.prototype.apply),Vr}var Lr,ho;function Du(){return ho||(ho=1,Lr=typeof Reflect<"u"&&Reflect&&Reflect.apply),Lr}var Wr,po;function ya(){if(po)return Wr;po=1;var o=ke(),a=di(),f=gi(),s=Du();return Wr=s||o.call(f,a),Wr}var Ur,mo;function yi(){if(mo)return Ur;mo=1;var o=ke(),a=Ie(),f=gi(),s=ya();return Ur=function(h){if(h.length<1||typeof h[0]!="function")throw new a("a function is required");return s(o,f,h)},Ur}var Gr,go;function Nu(){if(go)return Gr;go=1;var o=yi(),a=_e(),f;try{f=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var s=!!f&&a&&a(Object.prototype,"__proto__"),i=Object,h=i.getPrototypeOf;return Gr=s&&typeof s.get=="function"?o([s.get]):typeof h=="function"?function(d){return h(d==null?d:i(d))}:!1,Gr}var zr,yo;function wi(){if(yo)return zr;yo=1;var o=ga(),a=da(),f=Nu();return zr=o?function(i){return o(i)}:a?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return a(i)}:f?function(i){return f(i)}:null,zr}var Jr,wo;function wa(){if(wo)return Jr;wo=1;var o=Function.prototype.call,a=Object.prototype.hasOwnProperty,f=ke();return Jr=f.call(o,a),Jr}var Yr,vo;function vi(){if(vo)return Yr;vo=1;var o,a=mi(),f=bu(),s=Su(),i=Eu(),h=Ou(),l=ma(),d=Ie(),w=_u(),F=Au(),P=Fu(),j=ju(),T=Pu(),M=Ru(),$=Tu(),z=Cu(),O=Function,c=function(Y){try{return O('"use strict"; return ('+Y+").constructor;")()}catch{}},p=_e(),g=er(),y=function(){throw new d},S=p?(function(){try{return arguments.callee,y}catch{try{return p(arguments,"callee").get}catch{return y}}})():y,k=Iu()(),R=wi(),X=da(),tt=ga(),Z=di(),ct=gi(),lt={},Ft=typeof Uint8Array>"u"||!R?o:R(Uint8Array),Pt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?o:ArrayBuffer,"%ArrayIteratorPrototype%":k&&R?R([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":lt,"%AsyncGenerator%":lt,"%AsyncGeneratorFunction%":lt,"%AsyncIteratorPrototype%":lt,"%Atomics%":typeof Atomics>"u"?o:Atomics,"%BigInt%":typeof BigInt>"u"?o:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":f,"%eval%":eval,"%EvalError%":s,"%Float16Array%":typeof Float16Array>"u"?o:Float16Array,"%Float32Array%":typeof Float32Array>"u"?o:Float32Array,"%Float64Array%":typeof Float64Array>"u"?o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?o:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":lt,"%Int8Array%":typeof Int8Array>"u"?o:Int8Array,"%Int16Array%":typeof Int16Array>"u"?o:Int16Array,"%Int32Array%":typeof Int32Array>"u"?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&R?R(R([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%Map%":typeof Map>"u"?o:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!R?o:R(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":p,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?o:Promise,"%Proxy%":typeof Proxy>"u"?o:Proxy,"%RangeError%":i,"%ReferenceError%":h,"%Reflect%":typeof Reflect>"u"?o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?o:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!R?o:R(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&R?R(""[Symbol.iterator]()):o,"%Symbol%":k?Symbol:o,"%SyntaxError%":l,"%ThrowTypeError%":S,"%TypedArray%":Ft,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?o:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?o:Uint32Array,"%URIError%":w,"%WeakMap%":typeof WeakMap>"u"?o:WeakMap,"%WeakRef%":typeof WeakRef>"u"?o:WeakRef,"%WeakSet%":typeof WeakSet>"u"?o:WeakSet,"%Function.prototype.call%":ct,"%Function.prototype.apply%":Z,"%Object.defineProperty%":g,"%Object.getPrototypeOf%":X,"%Math.abs%":F,"%Math.floor%":P,"%Math.max%":j,"%Math.min%":T,"%Math.pow%":M,"%Math.round%":$,"%Math.sign%":z,"%Reflect.getPrototypeOf%":tt};if(R)try{null.error}catch(Y){var Nt=R(R(Y));Pt["%Error.prototype%"]=Nt}var It=function Y(Q){var st;if(Q==="%AsyncFunction%")st=c("async function () {}");else if(Q==="%GeneratorFunction%")st=c("function* () {}");else if(Q==="%AsyncGeneratorFunction%")st=c("async function* () {}");else if(Q==="%AsyncGenerator%"){var ft=Y("%AsyncGeneratorFunction%");ft&&(st=ft.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var pt=Y("%AsyncGenerator%");pt&&R&&(st=R(pt.prototype))}return Pt[Q]=st,st},Dt={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},kt=ke(),et=wa(),nt=kt.call(ct,Array.prototype.concat),mt=kt.call(Z,Array.prototype.splice),q=kt.call(ct,String.prototype.replace),L=kt.call(ct,String.prototype.slice),C=kt.call(ct,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,U=function(Q){var st=L(Q,0,1),ft=L(Q,-1);if(st==="%"&&ft!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(ft==="%"&&st!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var pt=[];return q(Q,E,function(bt,Et,$t,Kt){pt[pt.length]=$t?q(Kt,D,"$1"):Et||bt}),pt},W=function(Q,st){var ft=Q,pt;if(et(Dt,ft)&&(pt=Dt[ft],ft="%"+pt[0]+"%"),et(Pt,ft)){var bt=Pt[ft];if(bt===lt&&(bt=It(ft)),typeof bt>"u"&&!st)throw new d("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:pt,name:ft,value:bt}}throw new l("intrinsic "+Q+" does not exist!")};return Yr=function(Q,st){if(typeof Q!="string"||Q.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof st!="boolean")throw new d('"allowMissing" argument must be a boolean');if(C(/^%?[^%]*%?$/,Q)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ft=U(Q),pt=ft.length>0?ft[0]:"",bt=W("%"+pt+"%",st),Et=bt.name,$t=bt.value,Kt=!1,Lt=bt.alias;Lt&&(pt=Lt[0],mt(ft,nt([0,1],Lt)));for(var K=1,te=!0;K<ft.length;K+=1){var Bt=ft[K],Ut=L(Bt,0,1),Ht=L(Bt,-1);if((Ut==='"'||Ut==="'"||Ut==="`"||Ht==='"'||Ht==="'"||Ht==="`")&&Ut!==Ht)throw new l("property names with quotes must have matching quotes");if((Bt==="constructor"||!te)&&(Kt=!0),pt+="."+Bt,Et="%"+pt+"%",et(Pt,Et))$t=Pt[Et];else if($t!=null){if(!(Bt in $t)){if(!st)throw new d("base intrinsic for "+Q+" exists, but the property is not available.");return}if(p&&K+1>=ft.length){var x=p($t,Bt);te=!!x,te&&"get"in x&&!("originalValue"in x.get)?$t=x.get:$t=$t[Bt]}else te=et($t,Bt),$t=$t[Bt];te&&!Kt&&(Pt[Et]=$t)}}return $t},Yr}var Qr,bo;function Ae(){if(bo)return Qr;bo=1;var o=vi(),a=yi(),f=a([o("%String.prototype.indexOf%")]);return Qr=function(i,h){var l=o(i,!!h);return typeof l=="function"&&f(i,".prototype.")>-1?a([l]):l},Qr}var Kr,So;function $u(){if(So)return Kr;So=1;var o=tr()(),a=Ae(),f=a("Object.prototype.toString"),s=function(d){return o&&d&&typeof d=="object"&&Symbol.toStringTag in d?!1:f(d)==="[object Arguments]"},i=function(d){return s(d)?!0:d!==null&&typeof d=="object"&&"length"in d&&typeof d.length=="number"&&d.length>=0&&f(d)!=="[object Array]"&&"callee"in d&&f(d.callee)==="[object Function]"},h=(function(){return s(arguments)})();return s.isLegacyArguments=i,Kr=h?s:i,Kr}var Hr,Eo;function Bu(){if(Eo)return Hr;Eo=1;var o=Ae(),a=tr()(),f=wa(),s=_e(),i;if(a){var h=o("RegExp.prototype.exec"),l={},d=function(){throw l},w={toString:d,valueOf:d};typeof Symbol.toPrimitive=="symbol"&&(w[Symbol.toPrimitive]=d),i=function(T){if(!T||typeof T!="object")return!1;var M=s(T,"lastIndex"),$=M&&f(M,"value");if(!$)return!1;try{h(T,w)}catch(z){return z===l}}}else{var F=o("Object.prototype.toString"),P="[object RegExp]";i=function(T){return!T||typeof T!="object"&&typeof T!="function"?!1:F(T)===P}}return Hr=i,Hr}var Xr,Oo;function xu(){if(Oo)return Xr;Oo=1;var o=Ae(),a=Bu(),f=o("RegExp.prototype.exec"),s=Ie();return Xr=function(h){if(!a(h))throw new s("`regex` must be a RegExp");return function(d){return f(h,d)!==null}},Xr}var Zr,_o;function Vu(){if(_o)return Zr;_o=1;const o=(function*(){}).constructor;return Zr=()=>o,Zr}var tn,Ao;function Lu(){if(Ao)return tn;Ao=1;var o=Ae(),a=xu(),f=a(/^\s*(?:function)?\*/),s=tr()(),i=wi(),h=o("Object.prototype.toString"),l=o("Function.prototype.toString"),d=Vu();return tn=function(F){if(typeof F!="function")return!1;if(f(l(F)))return!0;if(!s){var P=h(F);return P==="[object GeneratorFunction]"}if(!i)return!1;var j=d();return j&&i(F)===j.prototype},tn}var en,Fo;function Wu(){if(Fo)return en;Fo=1;var o=Function.prototype.toString,a=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,f,s;if(typeof a=="function"&&typeof Object.defineProperty=="function")try{f=Object.defineProperty({},"length",{get:function(){throw s}}),s={},a(function(){throw 42},null,f)}catch(p){p!==s&&(a=null)}else a=null;var i=/^\s*class\b/,h=function(g){try{var y=o.call(g);return i.test(y)}catch{return!1}},l=function(g){try{return h(g)?!1:(o.call(g),!0)}catch{return!1}},d=Object.prototype.toString,w="[object Object]",F="[object Function]",P="[object GeneratorFunction]",j="[object HTMLAllCollection]",T="[object HTML document.all class]",M="[object HTMLCollection]",$=typeof Symbol=="function"&&!!Symbol.toStringTag,z=!(0 in[,]),O=function(){return!1};if(typeof document=="object"){var c=document.all;d.call(c)===d.call(document.all)&&(O=function(g){if((z||!g)&&(typeof g>"u"||typeof g=="object"))try{var y=d.call(g);return(y===j||y===T||y===M||y===w)&&g("")==null}catch{}return!1})}return en=a?function(g){if(O(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;try{a(g,null,f)}catch(y){if(y!==s)return!1}return!h(g)&&l(g)}:function(g){if(O(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;if($)return l(g);if(h(g))return!1;var y=d.call(g);return y!==F&&y!==P&&!/^\[object HTML/.test(y)?!1:l(g)},en}var rn,jo;function Uu(){if(jo)return rn;jo=1;var o=Wu(),a=Object.prototype.toString,f=Object.prototype.hasOwnProperty,s=function(w,F,P){for(var j=0,T=w.length;j<T;j++)f.call(w,j)&&(P==null?F(w[j],j,w):F.call(P,w[j],j,w))},i=function(w,F,P){for(var j=0,T=w.length;j<T;j++)P==null?F(w.charAt(j),j,w):F.call(P,w.charAt(j),j,w)},h=function(w,F,P){for(var j in w)f.call(w,j)&&(P==null?F(w[j],j,w):F.call(P,w[j],j,w))};function l(d){return a.call(d)==="[object Array]"}return rn=function(w,F,P){if(!o(F))throw new TypeError("iterator must be a function");var j;arguments.length>=3&&(j=P),l(w)?s(w,F,j):typeof w=="string"?i(w,F,j):h(w,F,j)},rn}var nn,Po;function Gu(){return Po||(Po=1,nn=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),nn}var on,Ro;function zu(){if(Ro)return on;Ro=1;var o=Gu(),a=typeof globalThis>"u"?Re:globalThis;return on=function(){for(var s=[],i=0;i<o.length;i++)typeof a[o[i]]=="function"&&(s[s.length]=o[i]);return s},on}var sn={exports:{}},an,To;function va(){if(To)return an;To=1;var o=er(),a=ma(),f=Ie(),s=_e();return an=function(h,l,d){if(!h||typeof h!="object"&&typeof h!="function")throw new f("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new f("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new f("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new f("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new f("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new f("`loose`, if provided, must be a boolean");var w=arguments.length>3?arguments[3]:null,F=arguments.length>4?arguments[4]:null,P=arguments.length>5?arguments[5]:null,j=arguments.length>6?arguments[6]:!1,T=!!s&&s(h,l);if(o)o(h,l,{configurable:P===null&&T?T.configurable:!P,enumerable:w===null&&T?T.enumerable:!w,value:d,writable:F===null&&T?T.writable:!F});else if(j||!w&&!F&&!P)h[l]=d;else throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},an}var un,qo;function ba(){if(qo)return un;qo=1;var o=er(),a=function(){return!!o};return a.hasArrayLengthDefineBug=function(){if(!o)return null;try{return o([],"length",{value:1}).length!==1}catch{return!0}},un=a,un}var cn,Co;function Ju(){if(Co)return cn;Co=1;var o=vi(),a=va(),f=ba()(),s=_e(),i=Ie(),h=o("%Math.floor%");return cn=function(d,w){if(typeof d!="function")throw new i("`fn` is not a function");if(typeof w!="number"||w<0||w>4294967295||h(w)!==w)throw new i("`length` must be a positive 32-bit integer");var F=arguments.length>2&&!!arguments[2],P=!0,j=!0;if("length"in d&&s){var T=s(d,"length");T&&!T.configurable&&(P=!1),T&&!T.writable&&(j=!1)}return(P||j||!F)&&(f?a(d,"length",w,!0,!0):a(d,"length",w)),d},cn}var ln,Mo;function Yu(){if(Mo)return ln;Mo=1;var o=ke(),a=di(),f=ya();return ln=function(){return f(o,a,arguments)},ln}var Io;function rr(){return Io||(Io=1,(function(o){var a=Ju(),f=er(),s=yi(),i=Yu();o.exports=function(l){var d=s(arguments),w=l.length-(arguments.length-1);return a(d,1+(w>0?w:0),!0)},f?f(o.exports,"apply",{value:i}):o.exports.apply=i})(sn)),sn.exports}var fn,ko;function Sa(){if(ko)return fn;ko=1;var o=Uu(),a=zu(),f=rr(),s=Ae(),i=_e(),h=wi(),l=s("Object.prototype.toString"),d=tr()(),w=typeof globalThis>"u"?Re:globalThis,F=a(),P=s("String.prototype.slice"),j=s("Array.prototype.indexOf",!0)||function(O,c){for(var p=0;p<O.length;p+=1)if(O[p]===c)return p;return-1},T={__proto__:null};d&&i&&h?o(F,function(z){var O=new w[z];if(Symbol.toStringTag in O&&h){var c=h(O),p=i(c,Symbol.toStringTag);if(!p&&c){var g=h(c);p=i(g,Symbol.toStringTag)}T["$"+z]=f(p.get)}}):o(F,function(z){var O=new w[z],c=O.slice||O.set;c&&(T["$"+z]=f(c))});var M=function(O){var c=!1;return o(T,function(p,g){if(!c)try{"$"+p(O)===g&&(c=P(g,1))}catch{}}),c},$=function(O){var c=!1;return o(T,function(p,g){if(!c)try{p(O),c=P(g,1)}catch{}}),c};return fn=function(O){if(!O||typeof O!="object")return!1;if(!d){var c=P(l(O),8,-1);return j(F,c)>-1?c:c!=="Object"?!1:$(O)}return i?M(O):null},fn}var hn,Do;function Qu(){if(Do)return hn;Do=1;var o=Sa();return hn=function(f){return!!o(f)},hn}var No;function Ku(){return No||(No=1,(function(o){var a=$u(),f=Lu(),s=Sa(),i=Qu();function h(K){return K.call.bind(K)}var l=typeof BigInt<"u",d=typeof Symbol<"u",w=h(Object.prototype.toString),F=h(Number.prototype.valueOf),P=h(String.prototype.valueOf),j=h(Boolean.prototype.valueOf);if(l)var T=h(BigInt.prototype.valueOf);if(d)var M=h(Symbol.prototype.valueOf);function $(K,te){if(typeof K!="object")return!1;try{return te(K),!0}catch{return!1}}o.isArgumentsObject=a,o.isGeneratorFunction=f,o.isTypedArray=i;function z(K){return typeof Promise<"u"&&K instanceof Promise||K!==null&&typeof K=="object"&&typeof K.then=="function"&&typeof K.catch=="function"}o.isPromise=z;function O(K){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(K):i(K)||L(K)}o.isArrayBufferView=O;function c(K){return s(K)==="Uint8Array"}o.isUint8Array=c;function p(K){return s(K)==="Uint8ClampedArray"}o.isUint8ClampedArray=p;function g(K){return s(K)==="Uint16Array"}o.isUint16Array=g;function y(K){return s(K)==="Uint32Array"}o.isUint32Array=y;function S(K){return s(K)==="Int8Array"}o.isInt8Array=S;function k(K){return s(K)==="Int16Array"}o.isInt16Array=k;function R(K){return s(K)==="Int32Array"}o.isInt32Array=R;function X(K){return s(K)==="Float32Array"}o.isFloat32Array=X;function tt(K){return s(K)==="Float64Array"}o.isFloat64Array=tt;function Z(K){return s(K)==="BigInt64Array"}o.isBigInt64Array=Z;function ct(K){return s(K)==="BigUint64Array"}o.isBigUint64Array=ct;function lt(K){return w(K)==="[object Map]"}lt.working=typeof Map<"u"&&lt(new Map);function Ft(K){return typeof Map>"u"?!1:lt.working?lt(K):K instanceof Map}o.isMap=Ft;function Pt(K){return w(K)==="[object Set]"}Pt.working=typeof Set<"u"&&Pt(new Set);function Nt(K){return typeof Set>"u"?!1:Pt.working?Pt(K):K instanceof Set}o.isSet=Nt;function It(K){return w(K)==="[object WeakMap]"}It.working=typeof WeakMap<"u"&&It(new WeakMap);function Dt(K){return typeof WeakMap>"u"?!1:It.working?It(K):K instanceof WeakMap}o.isWeakMap=Dt;function kt(K){return w(K)==="[object WeakSet]"}kt.working=typeof WeakSet<"u"&&kt(new WeakSet);function et(K){return kt(K)}o.isWeakSet=et;function nt(K){return w(K)==="[object ArrayBuffer]"}nt.working=typeof ArrayBuffer<"u"&&nt(new ArrayBuffer);function mt(K){return typeof ArrayBuffer>"u"?!1:nt.working?nt(K):K instanceof ArrayBuffer}o.isArrayBuffer=mt;function q(K){return w(K)==="[object DataView]"}q.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&q(new DataView(new ArrayBuffer(1),0,1));function L(K){return typeof DataView>"u"?!1:q.working?q(K):K instanceof DataView}o.isDataView=L;var C=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function E(K){return w(K)==="[object SharedArrayBuffer]"}function D(K){return typeof C>"u"?!1:(typeof E.working>"u"&&(E.working=E(new C)),E.working?E(K):K instanceof C)}o.isSharedArrayBuffer=D;function U(K){return w(K)==="[object AsyncFunction]"}o.isAsyncFunction=U;function W(K){return w(K)==="[object Map Iterator]"}o.isMapIterator=W;function Y(K){return w(K)==="[object Set Iterator]"}o.isSetIterator=Y;function Q(K){return w(K)==="[object Generator]"}o.isGeneratorObject=Q;function st(K){return w(K)==="[object WebAssembly.Module]"}o.isWebAssemblyCompiledModule=st;function ft(K){return $(K,F)}o.isNumberObject=ft;function pt(K){return $(K,P)}o.isStringObject=pt;function bt(K){return $(K,j)}o.isBooleanObject=bt;function Et(K){return l&&$(K,T)}o.isBigIntObject=Et;function $t(K){return d&&$(K,M)}o.isSymbolObject=$t;function Kt(K){return ft(K)||pt(K)||bt(K)||Et(K)||$t(K)}o.isBoxedPrimitive=Kt;function Lt(K){return typeof Uint8Array<"u"&&(mt(K)||D(K))}o.isAnyArrayBuffer=Lt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(K){Object.defineProperty(o,K,{enumerable:!1,value:function(){throw new Error(K+" is not supported in userland")}})})})(pr)),pr}var pn,$o;function Hu(){return $o||($o=1,pn=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}),pn}var Ge={exports:{}},Bo;function Xu(){return Bo||(Bo=1,typeof Object.create=="function"?Ge.exports=function(a,f){f&&(a.super_=f,a.prototype=Object.create(f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:Ge.exports=function(a,f){if(f){a.super_=f;var s=function(){};s.prototype=f.prototype,a.prototype=new s,a.prototype.constructor=a}}),Ge.exports}var xo;function qe(){return xo||(xo=1,(function(o){var a=Object.getOwnPropertyDescriptors||function(L){for(var C=Object.keys(L),E={},D=0;D<C.length;D++)E[C[D]]=Object.getOwnPropertyDescriptor(L,C[D]);return E},f=/%[sdj%]/g;o.format=function(q){if(!S(q)){for(var L=[],C=0;C<arguments.length;C++)L.push(l(arguments[C]));return L.join(" ")}for(var C=1,E=arguments,D=E.length,U=String(q).replace(f,function(Y){if(Y==="%%")return"%";if(C>=D)return Y;switch(Y){case"%s":return String(E[C++]);case"%d":return Number(E[C++]);case"%j":try{return JSON.stringify(E[C++])}catch{return"[Circular]"}default:return Y}}),W=E[C];C<D;W=E[++C])p(W)||!tt(W)?U+=" "+W:U+=" "+l(W);return U},o.deprecate=function(q,L){if(typeof process<"u"&&process.noDeprecation===!0)return q;if(typeof process>"u")return function(){return o.deprecate(q,L).apply(this,arguments)};var C=!1;function E(){if(!C){if(process.throwDeprecation)throw new Error(L);process.traceDeprecation?console.trace(L):console.error(L),C=!0}return q.apply(this,arguments)}return E};var s={},i=/^$/;if(process.env.NODE_DEBUG){var h=process.env.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+h+"$","i")}o.debuglog=function(q){if(q=q.toUpperCase(),!s[q])if(i.test(q)){var L=process.pid;s[q]=function(){var C=o.format.apply(o,arguments);console.error("%s %d: %s",q,L,C)}}else s[q]=function(){};return s[q]};function l(q,L){var C={seen:[],stylize:w};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),c(L)?C.showHidden=L:L&&o._extend(C,L),R(C.showHidden)&&(C.showHidden=!1),R(C.depth)&&(C.depth=2),R(C.colors)&&(C.colors=!1),R(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=d),P(C,q,C.depth)}o.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(q,L){var C=l.styles[L];return C?"\x1B["+l.colors[C][0]+"m"+q+"\x1B["+l.colors[C][1]+"m":q}function w(q,L){return q}function F(q){var L={};return q.forEach(function(C,E){L[C]=!0}),L}function P(q,L,C){if(q.customInspect&&L&&lt(L.inspect)&&L.inspect!==o.inspect&&!(L.constructor&&L.constructor.prototype===L)){var E=L.inspect(C,q);return S(E)||(E=P(q,E,C)),E}var D=j(q,L);if(D)return D;var U=Object.keys(L),W=F(U);if(q.showHidden&&(U=Object.getOwnPropertyNames(L)),ct(L)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return T(L);if(U.length===0){if(lt(L)){var Y=L.name?": "+L.name:"";return q.stylize("[Function"+Y+"]","special")}if(X(L))return q.stylize(RegExp.prototype.toString.call(L),"regexp");if(Z(L))return q.stylize(Date.prototype.toString.call(L),"date");if(ct(L))return T(L)}var Q="",st=!1,ft=["{","}"];if(O(L)&&(st=!0,ft=["[","]"]),lt(L)){var pt=L.name?": "+L.name:"";Q=" [Function"+pt+"]"}if(X(L)&&(Q=" "+RegExp.prototype.toString.call(L)),Z(L)&&(Q=" "+Date.prototype.toUTCString.call(L)),ct(L)&&(Q=" "+T(L)),U.length===0&&(!st||L.length==0))return ft[0]+Q+ft[1];if(C<0)return X(L)?q.stylize(RegExp.prototype.toString.call(L),"regexp"):q.stylize("[Object]","special");q.seen.push(L);var bt;return st?bt=M(q,L,C,W,U):bt=U.map(function(Et){return $(q,L,C,W,Et,st)}),q.seen.pop(),z(bt,Q,ft)}function j(q,L){if(R(L))return q.stylize("undefined","undefined");if(S(L)){var C="'"+JSON.stringify(L).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(C,"string")}if(y(L))return q.stylize(""+L,"number");if(c(L))return q.stylize(""+L,"boolean");if(p(L))return q.stylize("null","null")}function T(q){return"["+Error.prototype.toString.call(q)+"]"}function M(q,L,C,E,D){for(var U=[],W=0,Y=L.length;W<Y;++W)kt(L,String(W))?U.push($(q,L,C,E,String(W),!0)):U.push("");return D.forEach(function(Q){Q.match(/^\d+$/)||U.push($(q,L,C,E,Q,!0))}),U}function $(q,L,C,E,D,U){var W,Y,Q;if(Q=Object.getOwnPropertyDescriptor(L,D)||{value:L[D]},Q.get?Q.set?Y=q.stylize("[Getter/Setter]","special"):Y=q.stylize("[Getter]","special"):Q.set&&(Y=q.stylize("[Setter]","special")),kt(E,D)||(W="["+D+"]"),Y||(q.seen.indexOf(Q.value)<0?(p(C)?Y=P(q,Q.value,null):Y=P(q,Q.value,C-1),Y.indexOf(`
`)>-1&&(U?Y=Y.split(`
`).map(function(st){return"  "+st}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(st){return"   "+st}).join(`
`))):Y=q.stylize("[Circular]","special")),R(W)){if(U&&D.match(/^\d+$/))return Y;W=JSON.stringify(""+D),W.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.slice(1,-1),W=q.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=q.stylize(W,"string"))}return W+": "+Y}function z(q,L,C){var E=q.reduce(function(D,U){return U.indexOf(`
`)>=0,D+U.replace(/\u001b\[\d\d?m/g,"").length+1},0);return E>60?C[0]+(L===""?"":L+`
 `)+" "+q.join(`,
  `)+" "+C[1]:C[0]+L+" "+q.join(", ")+" "+C[1]}o.types=Ku();function O(q){return Array.isArray(q)}o.isArray=O;function c(q){return typeof q=="boolean"}o.isBoolean=c;function p(q){return q===null}o.isNull=p;function g(q){return q==null}o.isNullOrUndefined=g;function y(q){return typeof q=="number"}o.isNumber=y;function S(q){return typeof q=="string"}o.isString=S;function k(q){return typeof q=="symbol"}o.isSymbol=k;function R(q){return q===void 0}o.isUndefined=R;function X(q){return tt(q)&&Pt(q)==="[object RegExp]"}o.isRegExp=X,o.types.isRegExp=X;function tt(q){return typeof q=="object"&&q!==null}o.isObject=tt;function Z(q){return tt(q)&&Pt(q)==="[object Date]"}o.isDate=Z,o.types.isDate=Z;function ct(q){return tt(q)&&(Pt(q)==="[object Error]"||q instanceof Error)}o.isError=ct,o.types.isNativeError=ct;function lt(q){return typeof q=="function"}o.isFunction=lt;function Ft(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}o.isPrimitive=Ft,o.isBuffer=Hu();function Pt(q){return Object.prototype.toString.call(q)}function Nt(q){return q<10?"0"+q.toString(10):q.toString(10)}var It=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Dt(){var q=new Date,L=[Nt(q.getHours()),Nt(q.getMinutes()),Nt(q.getSeconds())].join(":");return[q.getDate(),It[q.getMonth()],L].join(" ")}o.log=function(){console.log("%s - %s",Dt(),o.format.apply(o,arguments))},o.inherits=Xu(),o._extend=function(q,L){if(!L||!tt(L))return q;for(var C=Object.keys(L),E=C.length;E--;)q[C[E]]=L[C[E]];return q};function kt(q,L){return Object.prototype.hasOwnProperty.call(q,L)}var et=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;o.promisify=function(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');if(et&&L[et]){var C=L[et];if(typeof C!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(C,et,{value:C,enumerable:!1,writable:!1,configurable:!0}),C}function C(){for(var E,D,U=new Promise(function(Q,st){E=Q,D=st}),W=[],Y=0;Y<arguments.length;Y++)W.push(arguments[Y]);W.push(function(Q,st){Q?D(Q):E(st)});try{L.apply(this,W)}catch(Q){D(Q)}return U}return Object.setPrototypeOf(C,Object.getPrototypeOf(L)),et&&Object.defineProperty(C,et,{value:C,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(C,a(L))},o.promisify.custom=et;function nt(q,L){if(!q){var C=new Error("Promise was rejected with a falsy value");C.reason=q,q=C}return L(q)}function mt(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');function L(){for(var C=[],E=0;E<arguments.length;E++)C.push(arguments[E]);var D=C.pop();if(typeof D!="function")throw new TypeError("The last argument must be of type Function");var U=this,W=function(){return D.apply(U,arguments)};q.apply(this,C).then(function(Y){process.nextTick(W.bind(null,null,Y))},function(Y){process.nextTick(nt.bind(null,Y,W))})}return Object.setPrototypeOf(L,Object.getPrototypeOf(q)),Object.defineProperties(L,a(q)),L}o.callbackify=mt})(hr)),hr}var Vo;function Ea(){if(Vo)return fr;Vo=1;function o(p){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o(p)}function a(p,g,y){return Object.defineProperty(p,"prototype",{writable:!1}),p}function f(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function s(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),g&&i(p,g)}function i(p,g){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,k){return S.__proto__=k,S},i(p,g)}function h(p){var g=w();return function(){var S=F(p),k;if(g){var R=F(this).constructor;k=Reflect.construct(S,arguments,R)}else k=S.apply(this,arguments);return l(this,k)}}function l(p,g){if(g&&(o(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(p)}function d(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(p){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},F(p)}var P={},j,T;function M(p,g,y){y||(y=Error);function S(R,X,tt){return typeof g=="string"?g:g(R,X,tt)}var k=(function(R){s(tt,R);var X=h(tt);function tt(Z,ct,lt){var Ft;return f(this,tt),Ft=X.call(this,S(Z,ct,lt)),Ft.code=p,Ft}return a(tt)})(y);P[p]=k}function $(p,g){if(Array.isArray(p)){var y=p.length;return p=p.map(function(S){return String(S)}),y>2?"one of ".concat(g," ").concat(p.slice(0,y-1).join(", "),", or ")+p[y-1]:y===2?"one of ".concat(g," ").concat(p[0]," or ").concat(p[1]):"of ".concat(g," ").concat(p[0])}else return"of ".concat(g," ").concat(String(p))}function z(p,g,y){return p.substr(0,g.length)===g}function O(p,g,y){return(y===void 0||y>p.length)&&(y=p.length),p.substring(y-g.length,y)===g}function c(p,g,y){return typeof y!="number"&&(y=0),y+g.length>p.length?!1:p.indexOf(g,y)!==-1}return M("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),M("ERR_INVALID_ARG_TYPE",function(p,g,y){j===void 0&&(j=ui()),j(typeof p=="string","'name' must be a string");var S;typeof g=="string"&&z(g,"not ")?(S="must not be",g=g.replace(/^not /,"")):S="must be";var k;if(O(p," argument"))k="The ".concat(p," ").concat(S," ").concat($(g,"type"));else{var R=c(p,".")?"property":"argument";k='The "'.concat(p,'" ').concat(R," ").concat(S," ").concat($(g,"type"))}return k+=". Received type ".concat(o(y)),k},TypeError),M("ERR_INVALID_ARG_VALUE",function(p,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";T===void 0&&(T=qe());var S=T.inspect(g);return S.length>128&&(S="".concat(S.slice(0,128),"...")),"The argument '".concat(p,"' ").concat(y,". Received ").concat(S)},TypeError),M("ERR_INVALID_RETURN_VALUE",function(p,g,y){var S;return y&&y.constructor&&y.constructor.name?S="instance of ".concat(y.constructor.name):S="type ".concat(o(y)),"Expected ".concat(p,' to be returned from the "').concat(g,'"')+" function but got ".concat(S,".")},TypeError),M("ERR_MISSING_ARGS",function(){for(var p=arguments.length,g=new Array(p),y=0;y<p;y++)g[y]=arguments[y];j===void 0&&(j=ui()),j(g.length>0,"At least one arg needs to be specified");var S="The ",k=g.length;switch(g=g.map(function(R){return'"'.concat(R,'"')}),k){case 1:S+="".concat(g[0]," argument");break;case 2:S+="".concat(g[0]," and ").concat(g[1]," arguments");break;default:S+=g.slice(0,k-1).join(", "),S+=", and ".concat(g[k-1]," arguments");break}return"".concat(S," must be specified")},TypeError),fr.codes=P,fr}var mn,Lo;function Zu(){if(Lo)return mn;Lo=1;function o(et,nt){var mt=Object.keys(et);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(et);nt&&(q=q.filter(function(L){return Object.getOwnPropertyDescriptor(et,L).enumerable})),mt.push.apply(mt,q)}return mt}function a(et){for(var nt=1;nt<arguments.length;nt++){var mt=arguments[nt]!=null?arguments[nt]:{};nt%2?o(Object(mt),!0).forEach(function(q){f(et,q,mt[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(mt)):o(Object(mt)).forEach(function(q){Object.defineProperty(et,q,Object.getOwnPropertyDescriptor(mt,q))})}return et}function f(et,nt,mt){return nt=l(nt),nt in et?Object.defineProperty(et,nt,{value:mt,enumerable:!0,configurable:!0,writable:!0}):et[nt]=mt,et}function s(et,nt){if(!(et instanceof nt))throw new TypeError("Cannot call a class as a function")}function i(et,nt){for(var mt=0;mt<nt.length;mt++){var q=nt[mt];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(et,l(q.key),q)}}function h(et,nt,mt){return nt&&i(et.prototype,nt),Object.defineProperty(et,"prototype",{writable:!1}),et}function l(et){var nt=d(et,"string");return p(nt)==="symbol"?nt:String(nt)}function d(et,nt){if(p(et)!=="object"||et===null)return et;var mt=et[Symbol.toPrimitive];if(mt!==void 0){var q=mt.call(et,nt);if(p(q)!=="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(et)}function w(et,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(nt&&nt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),nt&&O(et,nt)}function F(et){var nt=$();return function(){var q=c(et),L;if(nt){var C=c(this).constructor;L=Reflect.construct(q,arguments,C)}else L=q.apply(this,arguments);return P(this,L)}}function P(et,nt){if(nt&&(p(nt)==="object"||typeof nt=="function"))return nt;if(nt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(et)}function j(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function T(et){var nt=typeof Map=="function"?new Map:void 0;return T=function(q){if(q===null||!z(q))return q;if(typeof q!="function")throw new TypeError("Super expression must either be null or a function");if(typeof nt<"u"){if(nt.has(q))return nt.get(q);nt.set(q,L)}function L(){return M(q,arguments,c(this).constructor)}return L.prototype=Object.create(q.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),O(L,q)},T(et)}function M(et,nt,mt){return $()?M=Reflect.construct.bind():M=function(L,C,E){var D=[null];D.push.apply(D,C);var U=Function.bind.apply(L,D),W=new U;return E&&O(W,E.prototype),W},M.apply(null,arguments)}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function z(et){return Function.toString.call(et).indexOf("[native code]")!==-1}function O(et,nt){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,L){return q.__proto__=L,q},O(et,nt)}function c(et){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(mt){return mt.__proto__||Object.getPrototypeOf(mt)},c(et)}function p(et){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nt){return typeof nt}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},p(et)}var g=qe(),y=g.inspect,S=Ea(),k=S.codes.ERR_INVALID_ARG_TYPE;function R(et,nt,mt){return(mt===void 0||mt>et.length)&&(mt=et.length),et.substring(mt-nt.length,mt)===nt}function X(et,nt){if(nt=Math.floor(nt),et.length==0||nt==0)return"";var mt=et.length*nt;for(nt=Math.floor(Math.log(nt)/Math.log(2));nt;)et+=et,nt--;return et+=et.substring(0,mt-et.length),et}var tt="",Z="",ct="",lt="",Ft={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Pt=10;function Nt(et){var nt=Object.keys(et),mt=Object.create(Object.getPrototypeOf(et));return nt.forEach(function(q){mt[q]=et[q]}),Object.defineProperty(mt,"message",{value:et.message}),mt}function It(et){return y(et,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Dt(et,nt,mt){var q="",L="",C=0,E="",D=!1,U=It(et),W=U.split(`
`),Y=It(nt).split(`
`),Q=0,st="";if(mt==="strictEqual"&&p(et)==="object"&&p(nt)==="object"&&et!==null&&nt!==null&&(mt="strictEqualObject"),W.length===1&&Y.length===1&&W[0]!==Y[0]){var ft=W[0].length+Y[0].length;if(ft<=Pt){if((p(et)!=="object"||et===null)&&(p(nt)!=="object"||nt===null)&&(et!==0||nt!==0))return"".concat(Ft[mt],`

`)+"".concat(W[0]," !== ").concat(Y[0],`
`)}else if(mt!=="strictEqualObject"){var pt=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(ft<pt){for(;W[0][Q]===Y[0][Q];)Q++;Q>2&&(st=`
  `.concat(X(" ",Q),"^"),Q=0)}}}for(var bt=W[W.length-1],Et=Y[Y.length-1];bt===Et&&(Q++<2?E=`
  `.concat(bt).concat(E):q=bt,W.pop(),Y.pop(),!(W.length===0||Y.length===0));)bt=W[W.length-1],Et=Y[Y.length-1];var $t=Math.max(W.length,Y.length);if($t===0){var Kt=U.split(`
`);if(Kt.length>30)for(Kt[26]="".concat(tt,"...").concat(lt);Kt.length>27;)Kt.pop();return"".concat(Ft.notIdentical,`

`).concat(Kt.join(`
`),`
`)}Q>3&&(E=`
`.concat(tt,"...").concat(lt).concat(E),D=!0),q!==""&&(E=`
  `.concat(q).concat(E),q="");var Lt=0,K=Ft[mt]+`
`.concat(Z,"+ actual").concat(lt," ").concat(ct,"- expected").concat(lt),te=" ".concat(tt,"...").concat(lt," Lines skipped");for(Q=0;Q<$t;Q++){var Bt=Q-C;if(W.length<Q+1)Bt>1&&Q>2&&(Bt>4?(L+=`
`.concat(tt,"...").concat(lt),D=!0):Bt>3&&(L+=`
  `.concat(Y[Q-2]),Lt++),L+=`
  `.concat(Y[Q-1]),Lt++),C=Q,q+=`
`.concat(ct,"-").concat(lt," ").concat(Y[Q]),Lt++;else if(Y.length<Q+1)Bt>1&&Q>2&&(Bt>4?(L+=`
`.concat(tt,"...").concat(lt),D=!0):Bt>3&&(L+=`
  `.concat(W[Q-2]),Lt++),L+=`
  `.concat(W[Q-1]),Lt++),C=Q,L+=`
`.concat(Z,"+").concat(lt," ").concat(W[Q]),Lt++;else{var Ut=Y[Q],Ht=W[Q],x=Ht!==Ut&&(!R(Ht,",")||Ht.slice(0,-1)!==Ut);x&&R(Ut,",")&&Ut.slice(0,-1)===Ht&&(x=!1,Ht+=","),x?(Bt>1&&Q>2&&(Bt>4?(L+=`
`.concat(tt,"...").concat(lt),D=!0):Bt>3&&(L+=`
  `.concat(W[Q-2]),Lt++),L+=`
  `.concat(W[Q-1]),Lt++),C=Q,L+=`
`.concat(Z,"+").concat(lt," ").concat(Ht),q+=`
`.concat(ct,"-").concat(lt," ").concat(Ut),Lt+=2):(L+=q,q="",(Bt===1||Q===0)&&(L+=`
  `.concat(Ht),Lt++))}if(Lt>20&&Q<$t-2)return"".concat(K).concat(te,`
`).concat(L,`
`).concat(tt,"...").concat(lt).concat(q,`
`)+"".concat(tt,"...").concat(lt)}return"".concat(K).concat(D?te:"",`
`).concat(L).concat(q).concat(E).concat(st)}var kt=(function(et,nt){w(q,et);var mt=F(q);function q(L){var C;if(s(this,q),p(L)!=="object"||L===null)throw new k("options","Object",L);var E=L.message,D=L.operator,U=L.stackStartFn,W=L.actual,Y=L.expected,Q=Error.stackTraceLimit;if(Error.stackTraceLimit=0,E!=null)C=mt.call(this,String(E));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(tt="\x1B[34m",Z="\x1B[32m",lt="\x1B[39m",ct="\x1B[31m"):(tt="",Z="",lt="",ct="")),p(W)==="object"&&W!==null&&p(Y)==="object"&&Y!==null&&"stack"in W&&W instanceof Error&&"stack"in Y&&Y instanceof Error&&(W=Nt(W),Y=Nt(Y)),D==="deepStrictEqual"||D==="strictEqual")C=mt.call(this,Dt(W,Y,D));else if(D==="notDeepStrictEqual"||D==="notStrictEqual"){var st=Ft[D],ft=It(W).split(`
`);if(D==="notStrictEqual"&&p(W)==="object"&&W!==null&&(st=Ft.notStrictEqualObject),ft.length>30)for(ft[26]="".concat(tt,"...").concat(lt);ft.length>27;)ft.pop();ft.length===1?C=mt.call(this,"".concat(st," ").concat(ft[0])):C=mt.call(this,"".concat(st,`

`).concat(ft.join(`
`),`
`))}else{var pt=It(W),bt="",Et=Ft[D];D==="notDeepEqual"||D==="notEqual"?(pt="".concat(Ft[D],`

`).concat(pt),pt.length>1024&&(pt="".concat(pt.slice(0,1021),"..."))):(bt="".concat(It(Y)),pt.length>512&&(pt="".concat(pt.slice(0,509),"...")),bt.length>512&&(bt="".concat(bt.slice(0,509),"...")),D==="deepEqual"||D==="equal"?pt="".concat(Et,`

`).concat(pt,`

should equal

`):bt=" ".concat(D," ").concat(bt)),C=mt.call(this,"".concat(pt).concat(bt))}return Error.stackTraceLimit=Q,C.generatedMessage=!E,Object.defineProperty(j(C),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),C.code="ERR_ASSERTION",C.actual=W,C.expected=Y,C.operator=D,Error.captureStackTrace&&Error.captureStackTrace(j(C),U),C.stack,C.name="AssertionError",P(C)}return h(q,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:nt,value:function(C,E){return y(this,a(a({},E),{},{customInspect:!1,depth:0}))}}]),q})(T(Error),y.custom);return mn=kt,mn}var gn,Wo;function Oa(){if(Wo)return gn;Wo=1;var o=Object.prototype.toString;return gn=function(f){var s=o.call(f),i=s==="[object Arguments]";return i||(i=s!=="[object Array]"&&f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&o.call(f.callee)==="[object Function]"),i},gn}var dn,Uo;function tc(){if(Uo)return dn;Uo=1;var o;if(!Object.keys){var a=Object.prototype.hasOwnProperty,f=Object.prototype.toString,s=Oa(),i=Object.prototype.propertyIsEnumerable,h=!i.call({toString:null},"toString"),l=i.call(function(){},"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=function(T){var M=T.constructor;return M&&M.prototype===T},F={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},P=(function(){if(typeof window>"u")return!1;for(var T in window)try{if(!F["$"+T]&&a.call(window,T)&&window[T]!==null&&typeof window[T]=="object")try{w(window[T])}catch{return!0}}catch{return!0}return!1})(),j=function(T){if(typeof window>"u"||!P)return w(T);try{return w(T)}catch{return!1}};o=function(M){var $=M!==null&&typeof M=="object",z=f.call(M)==="[object Function]",O=s(M),c=$&&f.call(M)==="[object String]",p=[];if(!$&&!z&&!O)throw new TypeError("Object.keys called on a non-object");var g=l&&z;if(c&&M.length>0&&!a.call(M,0))for(var y=0;y<M.length;++y)p.push(String(y));if(O&&M.length>0)for(var S=0;S<M.length;++S)p.push(String(S));else for(var k in M)!(g&&k==="prototype")&&a.call(M,k)&&p.push(String(k));if(h)for(var R=j(M),X=0;X<d.length;++X)!(R&&d[X]==="constructor")&&a.call(M,d[X])&&p.push(d[X]);return p}}return dn=o,dn}var yn,Go;function _a(){if(Go)return yn;Go=1;var o=Array.prototype.slice,a=Oa(),f=Object.keys,s=f?function(l){return f(l)}:tc(),i=Object.keys;return s.shim=function(){if(Object.keys){var l=(function(){var d=Object.keys(arguments);return d&&d.length===arguments.length})(1,2);l||(Object.keys=function(w){return a(w)?i(o.call(w)):i(w)})}else Object.keys=s;return Object.keys||s},yn=s,yn}var wn,zo;function ec(){if(zo)return wn;zo=1;var o=_a(),a=pi()(),f=Ae(),s=mi(),i=f("Array.prototype.push"),h=f("Object.prototype.propertyIsEnumerable"),l=a?s.getOwnPropertySymbols:null;return wn=function(w,F){if(w==null)throw new TypeError("target must be an object");var P=s(w);if(arguments.length===1)return P;for(var j=1;j<arguments.length;++j){var T=s(arguments[j]),M=o(T),$=a&&(s.getOwnPropertySymbols||l);if($)for(var z=$(T),O=0;O<z.length;++O){var c=z[O];h(T,c)&&i(M,c)}for(var p=0;p<M.length;++p){var g=M[p];if(h(T,g)){var y=T[g];P[g]=y}}}return P},wn}var vn,Jo;function rc(){if(Jo)return vn;Jo=1;var o=ec(),a=function(){if(!Object.assign)return!1;for(var s="abcdefghijklmnopqrst",i=s.split(""),h={},l=0;l<i.length;++l)h[i[l]]=i[l];var d=Object.assign({},h),w="";for(var F in d)w+=F;return s!==w},f=function(){if(!Object.assign||!Object.preventExtensions)return!1;var s=Object.preventExtensions({1:2});try{Object.assign(s,"xy")}catch{return s[1]==="y"}return!1};return vn=function(){return!Object.assign||a()||f()?o:Object.assign},vn}var bn,Yo;function Aa(){if(Yo)return bn;Yo=1;var o=function(a){return a!==a};return bn=function(f,s){return f===0&&s===0?1/f===1/s:!!(f===s||o(f)&&o(s))},bn}var Sn,Qo;function bi(){if(Qo)return Sn;Qo=1;var o=Aa();return Sn=function(){return typeof Object.is=="function"?Object.is:o},Sn}var En,Ko;function nc(){if(Ko)return En;Ko=1;var o=vi(),a=rr(),f=a(o("String.prototype.indexOf"));return En=function(i,h){var l=o(i,!!h);return typeof l=="function"&&f(i,".prototype.")>-1?a(l):l},En}var On,Ho;function nr(){if(Ho)return On;Ho=1;var o=_a(),a=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",f=Object.prototype.toString,s=Array.prototype.concat,i=va(),h=function(F){return typeof F=="function"&&f.call(F)==="[object Function]"},l=ba()(),d=function(F,P,j,T){if(P in F){if(T===!0){if(F[P]===j)return}else if(!h(T)||!T())return}l?i(F,P,j,!0):i(F,P,j)},w=function(F,P){var j=arguments.length>2?arguments[2]:{},T=o(P);a&&(T=s.call(T,Object.getOwnPropertySymbols(P)));for(var M=0;M<T.length;M+=1)d(F,T[M],P[T[M]],j[T[M]])};return w.supportsDescriptors=!!l,On=w,On}var _n,Xo;function ic(){if(Xo)return _n;Xo=1;var o=bi(),a=nr();return _n=function(){var s=o();return a(Object,{is:s},{is:function(){return Object.is!==s}}),s},_n}var An,Zo;function oc(){if(Zo)return An;Zo=1;var o=nr(),a=rr(),f=Aa(),s=bi(),i=ic(),h=a(s(),Object);return o(h,{getPolyfill:s,implementation:f,shim:i}),An=h,An}var Fn,ts;function Fa(){return ts||(ts=1,Fn=function(a){return a!==a}),Fn}var jn,es;function ja(){if(es)return jn;es=1;var o=Fa();return jn=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:o},jn}var Pn,rs;function sc(){if(rs)return Pn;rs=1;var o=nr(),a=ja();return Pn=function(){var s=a();return o(Number,{isNaN:s},{isNaN:function(){return Number.isNaN!==s}}),s},Pn}var Rn,ns;function ac(){if(ns)return Rn;ns=1;var o=rr(),a=nr(),f=Fa(),s=ja(),i=sc(),h=o(s(),Number);return a(h,{getPolyfill:s,implementation:f,shim:i}),Rn=h,Rn}var Tn,is;function uc(){if(is)return Tn;is=1;function o(x,G){return h(x)||i(x,G)||f(x,G)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(x,G){if(x){if(typeof x=="string")return s(x,G);var ht=Object.prototype.toString.call(x).slice(8,-1);if(ht==="Object"&&x.constructor&&(ht=x.constructor.name),ht==="Map"||ht==="Set")return Array.from(x);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return s(x,G)}}function s(x,G){(G==null||G>x.length)&&(G=x.length);for(var ht=0,wt=new Array(G);ht<G;ht++)wt[ht]=x[ht];return wt}function i(x,G){var ht=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(ht!=null){var wt,vt,Rt,At,qt=[],Mt=!0,Qt=!1;try{if(Rt=(ht=ht.call(x)).next,G!==0)for(;!(Mt=(wt=Rt.call(ht)).done)&&(qt.push(wt.value),qt.length!==G);Mt=!0);}catch(ee){Qt=!0,vt=ee}finally{try{if(!Mt&&ht.return!=null&&(At=ht.return(),Object(At)!==At))return}finally{if(Qt)throw vt}}return qt}}function h(x){if(Array.isArray(x))return x}function l(x){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},l(x)}var d=/a/g.flags!==void 0,w=function(G){var ht=[];return G.forEach(function(wt){return ht.push(wt)}),ht},F=function(G){var ht=[];return G.forEach(function(wt,vt){return ht.push([vt,wt])}),ht},P=Object.is?Object.is:oc(),j=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},T=Number.isNaN?Number.isNaN:ac();function M(x){return x.call.bind(x)}var $=M(Object.prototype.hasOwnProperty),z=M(Object.prototype.propertyIsEnumerable),O=M(Object.prototype.toString),c=qe().types,p=c.isAnyArrayBuffer,g=c.isArrayBufferView,y=c.isDate,S=c.isMap,k=c.isRegExp,R=c.isSet,X=c.isNativeError,tt=c.isBoxedPrimitive,Z=c.isNumberObject,ct=c.isStringObject,lt=c.isBooleanObject,Ft=c.isBigIntObject,Pt=c.isSymbolObject,Nt=c.isFloat32Array,It=c.isFloat64Array;function Dt(x){if(x.length===0||x.length>10)return!0;for(var G=0;G<x.length;G++){var ht=x.charCodeAt(G);if(ht<48||ht>57)return!0}return x.length===10&&x>=Math.pow(2,32)}function kt(x){return Object.keys(x).filter(Dt).concat(j(x).filter(Object.prototype.propertyIsEnumerable.bind(x)))}function et(x,G){if(x===G)return 0;for(var ht=x.length,wt=G.length,vt=0,Rt=Math.min(ht,wt);vt<Rt;++vt)if(x[vt]!==G[vt]){ht=x[vt],wt=G[vt];break}return ht<wt?-1:wt<ht?1:0}var nt=!0,mt=!1,q=0,L=1,C=2,E=3;function D(x,G){return d?x.source===G.source&&x.flags===G.flags:RegExp.prototype.toString.call(x)===RegExp.prototype.toString.call(G)}function U(x,G){if(x.byteLength!==G.byteLength)return!1;for(var ht=0;ht<x.byteLength;ht++)if(x[ht]!==G[ht])return!1;return!0}function W(x,G){return x.byteLength!==G.byteLength?!1:et(new Uint8Array(x.buffer,x.byteOffset,x.byteLength),new Uint8Array(G.buffer,G.byteOffset,G.byteLength))===0}function Y(x,G){return x.byteLength===G.byteLength&&et(new Uint8Array(x),new Uint8Array(G))===0}function Q(x,G){return Z(x)?Z(G)&&P(Number.prototype.valueOf.call(x),Number.prototype.valueOf.call(G)):ct(x)?ct(G)&&String.prototype.valueOf.call(x)===String.prototype.valueOf.call(G):lt(x)?lt(G)&&Boolean.prototype.valueOf.call(x)===Boolean.prototype.valueOf.call(G):Ft(x)?Ft(G)&&BigInt.prototype.valueOf.call(x)===BigInt.prototype.valueOf.call(G):Pt(G)&&Symbol.prototype.valueOf.call(x)===Symbol.prototype.valueOf.call(G)}function st(x,G,ht,wt){if(x===G)return x!==0?!0:ht?P(x,G):!0;if(ht){if(l(x)!=="object")return typeof x=="number"&&T(x)&&T(G);if(l(G)!=="object"||x===null||G===null||Object.getPrototypeOf(x)!==Object.getPrototypeOf(G))return!1}else{if(x===null||l(x)!=="object")return G===null||l(G)!=="object"?x==G:!1;if(G===null||l(G)!=="object")return!1}var vt=O(x),Rt=O(G);if(vt!==Rt)return!1;if(Array.isArray(x)){if(x.length!==G.length)return!1;var At=kt(x),qt=kt(G);return At.length!==qt.length?!1:pt(x,G,ht,wt,L,At)}if(vt==="[object Object]"&&(!S(x)&&S(G)||!R(x)&&R(G)))return!1;if(y(x)){if(!y(G)||Date.prototype.getTime.call(x)!==Date.prototype.getTime.call(G))return!1}else if(k(x)){if(!k(G)||!D(x,G))return!1}else if(X(x)||x instanceof Error){if(x.message!==G.message||x.name!==G.name)return!1}else if(g(x)){if(!ht&&(Nt(x)||It(x))){if(!U(x,G))return!1}else if(!W(x,G))return!1;var Mt=kt(x),Qt=kt(G);return Mt.length!==Qt.length?!1:pt(x,G,ht,wt,q,Mt)}else{if(R(x))return!R(G)||x.size!==G.size?!1:pt(x,G,ht,wt,C);if(S(x))return!S(G)||x.size!==G.size?!1:pt(x,G,ht,wt,E);if(p(x)){if(!Y(x,G))return!1}else if(tt(x)&&!Q(x,G))return!1}return pt(x,G,ht,wt,q)}function ft(x,G){return G.filter(function(ht){return z(x,ht)})}function pt(x,G,ht,wt,vt,Rt){if(arguments.length===5){Rt=Object.keys(x);var At=Object.keys(G);if(Rt.length!==At.length)return!1}for(var qt=0;qt<Rt.length;qt++)if(!$(G,Rt[qt]))return!1;if(ht&&arguments.length===5){var Mt=j(x);if(Mt.length!==0){var Qt=0;for(qt=0;qt<Mt.length;qt++){var ee=Mt[qt];if(z(x,ee)){if(!z(G,ee))return!1;Rt.push(ee),Qt++}else if(z(G,ee))return!1}var we=j(G);if(Mt.length!==we.length&&ft(G,we).length!==Qt)return!1}else{var ye=j(G);if(ye.length!==0&&ft(G,ye).length!==0)return!1}}if(Rt.length===0&&(vt===q||vt===L&&x.length===0||x.size===0))return!0;if(wt===void 0)wt={val1:new Map,val2:new Map,position:0};else{var ve=wt.val1.get(x);if(ve!==void 0){var le=wt.val2.get(G);if(le!==void 0)return ve===le}wt.position++}wt.val1.set(x,wt.position),wt.val2.set(G,wt.position);var he=Bt(x,G,ht,Rt,wt,vt);return wt.val1.delete(x),wt.val2.delete(G),he}function bt(x,G,ht,wt){for(var vt=w(x),Rt=0;Rt<vt.length;Rt++){var At=vt[Rt];if(st(G,At,ht,wt))return x.delete(At),!0}return!1}function Et(x){switch(l(x)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":x=+x;case"number":if(T(x))return!1}return!0}function $t(x,G,ht){var wt=Et(ht);return wt??(G.has(wt)&&!x.has(wt))}function Kt(x,G,ht,wt,vt){var Rt=Et(ht);if(Rt!=null)return Rt;var At=G.get(Rt);return At===void 0&&!G.has(Rt)||!st(wt,At,!1,vt)?!1:!x.has(Rt)&&st(wt,At,!1,vt)}function Lt(x,G,ht,wt){for(var vt=null,Rt=w(x),At=0;At<Rt.length;At++){var qt=Rt[At];if(l(qt)==="object"&&qt!==null)vt===null&&(vt=new Set),vt.add(qt);else if(!G.has(qt)){if(ht||!$t(x,G,qt))return!1;vt===null&&(vt=new Set),vt.add(qt)}}if(vt!==null){for(var Mt=w(G),Qt=0;Qt<Mt.length;Qt++){var ee=Mt[Qt];if(l(ee)==="object"&&ee!==null){if(!bt(vt,ee,ht,wt))return!1}else if(!ht&&!x.has(ee)&&!bt(vt,ee,ht,wt))return!1}return vt.size===0}return!0}function K(x,G,ht,wt,vt,Rt){for(var At=w(x),qt=0;qt<At.length;qt++){var Mt=At[qt];if(st(ht,Mt,vt,Rt)&&st(wt,G.get(Mt),vt,Rt))return x.delete(Mt),!0}return!1}function te(x,G,ht,wt){for(var vt=null,Rt=F(x),At=0;At<Rt.length;At++){var qt=o(Rt[At],2),Mt=qt[0],Qt=qt[1];if(l(Mt)==="object"&&Mt!==null)vt===null&&(vt=new Set),vt.add(Mt);else{var ee=G.get(Mt);if(ee===void 0&&!G.has(Mt)||!st(Qt,ee,ht,wt)){if(ht||!Kt(x,G,Mt,Qt,wt))return!1;vt===null&&(vt=new Set),vt.add(Mt)}}}if(vt!==null){for(var we=F(G),ye=0;ye<we.length;ye++){var ve=o(we[ye],2),le=ve[0],he=ve[1];if(l(le)==="object"&&le!==null){if(!K(vt,x,le,he,ht,wt))return!1}else if(!ht&&(!x.has(le)||!st(x.get(le),he,!1,wt))&&!K(vt,x,le,he,!1,wt))return!1}return vt.size===0}return!0}function Bt(x,G,ht,wt,vt,Rt){var At=0;if(Rt===C){if(!Lt(x,G,ht,vt))return!1}else if(Rt===E){if(!te(x,G,ht,vt))return!1}else if(Rt===L)for(;At<x.length;At++)if($(x,At)){if(!$(G,At)||!st(x[At],G[At],ht,vt))return!1}else{if($(G,At))return!1;for(var qt=Object.keys(x);At<qt.length;At++){var Mt=qt[At];if(!$(G,Mt)||!st(x[Mt],G[Mt],ht,vt))return!1}return qt.length===Object.keys(G).length}for(At=0;At<wt.length;At++){var Qt=wt[At];if(!st(x[Qt],G[Qt],ht,vt))return!1}return!0}function Ut(x,G){return st(x,G,mt)}function Ht(x,G){return st(x,G,nt)}return Tn={isDeepEqual:Ut,isDeepStrictEqual:Ht},Tn}var os;function ui(){if(os)return lr.exports;os=1;function o(C){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},o(C)}function a(C,E,D){return Object.defineProperty(C,"prototype",{writable:!1}),C}function f(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}var s=Ea(),i=s.codes,h=i.ERR_AMBIGUOUS_ARGUMENT,l=i.ERR_INVALID_ARG_TYPE,d=i.ERR_INVALID_ARG_VALUE,w=i.ERR_INVALID_RETURN_VALUE,F=i.ERR_MISSING_ARGS,P=Zu(),j=qe(),T=j.inspect,M=qe().types,$=M.isPromise,z=M.isRegExp,O=rc()(),c=bi()(),p=nc()("RegExp.prototype.test"),g,y;function S(){var C=uc();g=C.isDeepEqual,y=C.isDeepStrictEqual}var k=!1,R=lr.exports=lt,X={};function tt(C){throw C.message instanceof Error?C.message:new P(C)}function Z(C,E,D,U,W){var Y=arguments.length,Q;if(Y===0)Q="Failed";else if(Y===1)D=C,C=void 0;else{if(k===!1){k=!0;var st=process.emitWarning?process.emitWarning:console.warn.bind(console);st("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Y===2&&(U="!=")}if(D instanceof Error)throw D;var ft={actual:C,expected:E,operator:U===void 0?"fail":U,stackStartFn:W||Z};D!==void 0&&(ft.message=D);var pt=new P(ft);throw Q&&(pt.message=Q,pt.generatedMessage=!0),pt}R.fail=Z,R.AssertionError=P;function ct(C,E,D,U){if(!D){var W=!1;if(E===0)W=!0,U="No value argument passed to `assert.ok()`";else if(U instanceof Error)throw U;var Y=new P({actual:D,expected:!0,message:U,operator:"==",stackStartFn:C});throw Y.generatedMessage=W,Y}}function lt(){for(var C=arguments.length,E=new Array(C),D=0;D<C;D++)E[D]=arguments[D];ct.apply(void 0,[lt,E.length].concat(E))}R.ok=lt,R.equal=function C(E,D,U){if(arguments.length<2)throw new F("actual","expected");E!=D&&tt({actual:E,expected:D,message:U,operator:"==",stackStartFn:C})},R.notEqual=function C(E,D,U){if(arguments.length<2)throw new F("actual","expected");E==D&&tt({actual:E,expected:D,message:U,operator:"!=",stackStartFn:C})},R.deepEqual=function C(E,D,U){if(arguments.length<2)throw new F("actual","expected");g===void 0&&S(),g(E,D)||tt({actual:E,expected:D,message:U,operator:"deepEqual",stackStartFn:C})},R.notDeepEqual=function C(E,D,U){if(arguments.length<2)throw new F("actual","expected");g===void 0&&S(),g(E,D)&&tt({actual:E,expected:D,message:U,operator:"notDeepEqual",stackStartFn:C})},R.deepStrictEqual=function C(E,D,U){if(arguments.length<2)throw new F("actual","expected");g===void 0&&S(),y(E,D)||tt({actual:E,expected:D,message:U,operator:"deepStrictEqual",stackStartFn:C})},R.notDeepStrictEqual=Ft;function Ft(C,E,D){if(arguments.length<2)throw new F("actual","expected");g===void 0&&S(),y(C,E)&&tt({actual:C,expected:E,message:D,operator:"notDeepStrictEqual",stackStartFn:Ft})}R.strictEqual=function C(E,D,U){if(arguments.length<2)throw new F("actual","expected");c(E,D)||tt({actual:E,expected:D,message:U,operator:"strictEqual",stackStartFn:C})},R.notStrictEqual=function C(E,D,U){if(arguments.length<2)throw new F("actual","expected");c(E,D)&&tt({actual:E,expected:D,message:U,operator:"notStrictEqual",stackStartFn:C})};var Pt=a(function C(E,D,U){var W=this;f(this,C),D.forEach(function(Y){Y in E&&(U!==void 0&&typeof U[Y]=="string"&&z(E[Y])&&p(E[Y],U[Y])?W[Y]=U[Y]:W[Y]=E[Y])})});function Nt(C,E,D,U,W,Y){if(!(D in C)||!y(C[D],E[D])){if(!U){var Q=new Pt(C,W),st=new Pt(E,W,C),ft=new P({actual:Q,expected:st,operator:"deepStrictEqual",stackStartFn:Y});throw ft.actual=C,ft.expected=E,ft.operator=Y.name,ft}tt({actual:C,expected:E,message:U,operator:Y.name,stackStartFn:Y})}}function It(C,E,D,U){if(typeof E!="function"){if(z(E))return p(E,C);if(arguments.length===2)throw new l("expected",["Function","RegExp"],E);if(o(C)!=="object"||C===null){var W=new P({actual:C,expected:E,message:D,operator:"deepStrictEqual",stackStartFn:U});throw W.operator=U.name,W}var Y=Object.keys(E);if(E instanceof Error)Y.push("name","message");else if(Y.length===0)throw new d("error",E,"may not be an empty object");return g===void 0&&S(),Y.forEach(function(Q){typeof C[Q]=="string"&&z(E[Q])&&p(E[Q],C[Q])||Nt(C,E,Q,D,Y,U)}),!0}return E.prototype!==void 0&&C instanceof E?!0:Error.isPrototypeOf(E)?!1:E.call({},C)===!0}function Dt(C){if(typeof C!="function")throw new l("fn","Function",C);try{C()}catch(E){return E}return X}function kt(C){return $(C)||C!==null&&o(C)==="object"&&typeof C.then=="function"&&typeof C.catch=="function"}function et(C){return Promise.resolve().then(function(){var E;if(typeof C=="function"){if(E=C(),!kt(E))throw new w("instance of Promise","promiseFn",E)}else if(kt(C))E=C;else throw new l("promiseFn",["Function","Promise"],C);return Promise.resolve().then(function(){return E}).then(function(){return X}).catch(function(D){return D})})}function nt(C,E,D,U){if(typeof D=="string"){if(arguments.length===4)throw new l("error",["Object","Error","Function","RegExp"],D);if(o(E)==="object"&&E!==null){if(E.message===D)throw new h("error/message",'The error message "'.concat(E.message,'" is identical to the message.'))}else if(E===D)throw new h("error/message",'The error "'.concat(E,'" is identical to the message.'));U=D,D=void 0}else if(D!=null&&o(D)!=="object"&&typeof D!="function")throw new l("error",["Object","Error","Function","RegExp"],D);if(E===X){var W="";D&&D.name&&(W+=" (".concat(D.name,")")),W+=U?": ".concat(U):".";var Y=C.name==="rejects"?"rejection":"exception";tt({actual:void 0,expected:D,operator:C.name,message:"Missing expected ".concat(Y).concat(W),stackStartFn:C})}if(D&&!It(E,D,U,C))throw E}function mt(C,E,D,U){if(E!==X){if(typeof D=="string"&&(U=D,D=void 0),!D||It(E,D)){var W=U?": ".concat(U):".",Y=C.name==="doesNotReject"?"rejection":"exception";tt({actual:E,expected:D,operator:C.name,message:"Got unwanted ".concat(Y).concat(W,`
`)+'Actual message: "'.concat(E&&E.message,'"'),stackStartFn:C})}throw E}}R.throws=function C(E){for(var D=arguments.length,U=new Array(D>1?D-1:0),W=1;W<D;W++)U[W-1]=arguments[W];nt.apply(void 0,[C,Dt(E)].concat(U))},R.rejects=function C(E){for(var D=arguments.length,U=new Array(D>1?D-1:0),W=1;W<D;W++)U[W-1]=arguments[W];return et(E).then(function(Y){return nt.apply(void 0,[C,Y].concat(U))})},R.doesNotThrow=function C(E){for(var D=arguments.length,U=new Array(D>1?D-1:0),W=1;W<D;W++)U[W-1]=arguments[W];mt.apply(void 0,[C,Dt(E)].concat(U))},R.doesNotReject=function C(E){for(var D=arguments.length,U=new Array(D>1?D-1:0),W=1;W<D;W++)U[W-1]=arguments[W];return et(E).then(function(Y){return mt.apply(void 0,[C,Y].concat(U))})},R.ifError=function C(E){if(E!=null){var D="ifError got unwanted exception: ";o(E)==="object"&&typeof E.message=="string"?E.message.length===0&&E.constructor?D+=E.constructor.name:D+=E.message:D+=T(E);var U=new P({actual:E,expected:null,operator:"ifError",message:D,stackStartFn:C}),W=E.stack;if(typeof W=="string"){var Y=W.split(`
`);Y.shift();for(var Q=U.stack.split(`
`),st=0;st<Y.length;st++){var ft=Q.indexOf(Y[st]);if(ft!==-1){Q=Q.slice(0,ft);break}}U.stack="".concat(Q.join(`
`),`
`).concat(Y.join(`
`))}throw U}};function q(C,E,D,U,W){if(!z(E))throw new l("regexp","RegExp",E);var Y=W==="match";if(typeof C!="string"||p(E,C)!==Y){if(D instanceof Error)throw D;var Q=!D;D=D||(typeof C!="string"?'The "string" argument must be of type string. Received type '+"".concat(o(C)," (").concat(T(C),")"):(Y?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(T(E),`. Input:

`).concat(T(C),`
`));var st=new P({actual:C,expected:E,message:D,operator:W,stackStartFn:U});throw st.generatedMessage=Q,st}}R.match=function C(E,D,U){q(E,D,U,C,"match")},R.doesNotMatch=function C(E,D,U){q(E,D,U,C,"doesNotMatch")};function L(){for(var C=arguments.length,E=new Array(C),D=0;D<C;D++)E[D]=arguments[D];ct.apply(void 0,[L,E.length].concat(E))}return R.strict=O(L,R,{equal:R.strictEqual,deepEqual:R.deepStrictEqual,notEqual:R.notStrictEqual,notDeepEqual:R.notDeepStrictEqual}),R.strict.strict=R.strict,lr.exports}var ze,ss;function De(){if(ss)return ze;ss=1;var o=ua,a=yu(),f=wu(),s=vu(),i=La,h,l;typeof Symbol=="function"&&typeof Symbol.for=="function"?(h=Symbol.for("graceful-fs.queue"),l=Symbol.for("graceful-fs.previous")):(h="___graceful-fs.queue",l="___graceful-fs.previous");function d(){}function w(O,c){Object.defineProperty(O,h,{get:function(){return c}})}var F=d;if(i.debuglog?F=i.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(F=function(){var O=i.format.apply(i,arguments);O="GFS4: "+O.split(/\n/).join(`
GFS4: `),console.error(O)}),!o[h]){var P=Re[h]||[];w(o,P),o.close=(function(O){function c(p,g){return O.call(o,p,function(y){y||$(),typeof g=="function"&&g.apply(this,arguments)})}return Object.defineProperty(c,l,{value:O}),c})(o.close),o.closeSync=(function(O){function c(p){O.apply(o,arguments),$()}return Object.defineProperty(c,l,{value:O}),c})(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){F(o[h]),ui().equal(o[h].length,0)})}Re[h]||w(Re,o[h]),ze=j(s(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(ze=j(o),o.__patched=!0);function j(O){a(O),O.gracefulify=j,O.createReadStream=mt,O.createWriteStream=q;var c=O.readFile;O.readFile=p;function p(E,D,U){return typeof D=="function"&&(U=D,D=null),W(E,D,U);function W(Y,Q,st,ft){return c(Y,Q,function(pt){pt&&(pt.code==="EMFILE"||pt.code==="ENFILE")?T([W,[Y,Q,st],pt,ft||Date.now(),Date.now()]):typeof st=="function"&&st.apply(this,arguments)})}}var g=O.writeFile;O.writeFile=y;function y(E,D,U,W){return typeof U=="function"&&(W=U,U=null),Y(E,D,U,W);function Y(Q,st,ft,pt,bt){return g(Q,st,ft,function(Et){Et&&(Et.code==="EMFILE"||Et.code==="ENFILE")?T([Y,[Q,st,ft,pt],Et,bt||Date.now(),Date.now()]):typeof pt=="function"&&pt.apply(this,arguments)})}}var S=O.appendFile;S&&(O.appendFile=k);function k(E,D,U,W){return typeof U=="function"&&(W=U,U=null),Y(E,D,U,W);function Y(Q,st,ft,pt,bt){return S(Q,st,ft,function(Et){Et&&(Et.code==="EMFILE"||Et.code==="ENFILE")?T([Y,[Q,st,ft,pt],Et,bt||Date.now(),Date.now()]):typeof pt=="function"&&pt.apply(this,arguments)})}}var R=O.copyFile;R&&(O.copyFile=X);function X(E,D,U,W){return typeof U=="function"&&(W=U,U=0),Y(E,D,U,W);function Y(Q,st,ft,pt,bt){return R(Q,st,ft,function(Et){Et&&(Et.code==="EMFILE"||Et.code==="ENFILE")?T([Y,[Q,st,ft,pt],Et,bt||Date.now(),Date.now()]):typeof pt=="function"&&pt.apply(this,arguments)})}}var tt=O.readdir;O.readdir=ct;var Z=/^v[0-5]\./;function ct(E,D,U){typeof D=="function"&&(U=D,D=null);var W=Z.test(process.version)?function(st,ft,pt,bt){return tt(st,Y(st,ft,pt,bt))}:function(st,ft,pt,bt){return tt(st,ft,Y(st,ft,pt,bt))};return W(E,D,U);function Y(Q,st,ft,pt){return function(bt,Et){bt&&(bt.code==="EMFILE"||bt.code==="ENFILE")?T([W,[Q,st,ft],bt,pt||Date.now(),Date.now()]):(Et&&Et.sort&&Et.sort(),typeof ft=="function"&&ft.call(this,bt,Et))}}}if(process.version.substr(0,4)==="v0.8"){var lt=f(O);Dt=lt.ReadStream,et=lt.WriteStream}var Ft=O.ReadStream;Ft&&(Dt.prototype=Object.create(Ft.prototype),Dt.prototype.open=kt);var Pt=O.WriteStream;Pt&&(et.prototype=Object.create(Pt.prototype),et.prototype.open=nt),Object.defineProperty(O,"ReadStream",{get:function(){return Dt},set:function(E){Dt=E},enumerable:!0,configurable:!0}),Object.defineProperty(O,"WriteStream",{get:function(){return et},set:function(E){et=E},enumerable:!0,configurable:!0});var Nt=Dt;Object.defineProperty(O,"FileReadStream",{get:function(){return Nt},set:function(E){Nt=E},enumerable:!0,configurable:!0});var It=et;Object.defineProperty(O,"FileWriteStream",{get:function(){return It},set:function(E){It=E},enumerable:!0,configurable:!0});function Dt(E,D){return this instanceof Dt?(Ft.apply(this,arguments),this):Dt.apply(Object.create(Dt.prototype),arguments)}function kt(){var E=this;C(E.path,E.flags,E.mode,function(D,U){D?(E.autoClose&&E.destroy(),E.emit("error",D)):(E.fd=U,E.emit("open",U),E.read())})}function et(E,D){return this instanceof et?(Pt.apply(this,arguments),this):et.apply(Object.create(et.prototype),arguments)}function nt(){var E=this;C(E.path,E.flags,E.mode,function(D,U){D?(E.destroy(),E.emit("error",D)):(E.fd=U,E.emit("open",U))})}function mt(E,D){return new O.ReadStream(E,D)}function q(E,D){return new O.WriteStream(E,D)}var L=O.open;O.open=C;function C(E,D,U,W){return typeof U=="function"&&(W=U,U=null),Y(E,D,U,W);function Y(Q,st,ft,pt,bt){return L(Q,st,ft,function(Et,$t){Et&&(Et.code==="EMFILE"||Et.code==="ENFILE")?T([Y,[Q,st,ft,pt],Et,bt||Date.now(),Date.now()]):typeof pt=="function"&&pt.apply(this,arguments)})}}return O}function T(O){F("ENQUEUE",O[0].name,O[1]),o[h].push(O),z()}var M;function $(){for(var O=Date.now(),c=0;c<o[h].length;++c)o[h][c].length>2&&(o[h][c][3]=O,o[h][c][4]=O);z()}function z(){if(clearTimeout(M),M=void 0,o[h].length!==0){var O=o[h].shift(),c=O[0],p=O[1],g=O[2],y=O[3],S=O[4];if(y===void 0)F("RETRY",c.name,p),c.apply(null,p);else if(Date.now()-y>=6e4){F("TIMEOUT",c.name,p);var k=p.pop();typeof k=="function"&&k.call(null,g)}else{var R=Date.now()-S,X=Math.max(S-y,1),tt=Math.min(X*1.2,100);R>=tt?(F("RETRY",c.name,p),c.apply(null,p.concat([y]))):o[h].push(O)}M===void 0&&(M=setTimeout(z,0))}}return ze}var as;function oe(){return as||(as=1,(function(o){const a=ie().fromCallback,f=De(),s=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof f[i]=="function");Object.assign(o,f),s.forEach(i=>{o[i]=a(f[i])}),o.exists=function(i,h){return typeof h=="function"?f.exists(i,h):new Promise(l=>f.exists(i,l))},o.read=function(i,h,l,d,w,F){return typeof F=="function"?f.read(i,h,l,d,w,F):new Promise((P,j)=>{f.read(i,h,l,d,w,(T,M,$)=>{if(T)return j(T);P({bytesRead:M,buffer:$})})})},o.write=function(i,h,...l){return typeof l[l.length-1]=="function"?f.write(i,h,...l):new Promise((d,w)=>{f.write(i,h,...l,(F,P,j)=>{if(F)return w(F);d({bytesWritten:P,buffer:j})})})},o.readv=function(i,h,...l){return typeof l[l.length-1]=="function"?f.readv(i,h,...l):new Promise((d,w)=>{f.readv(i,h,...l,(F,P,j)=>{if(F)return w(F);d({bytesRead:P,buffers:j})})})},o.writev=function(i,h,...l){return typeof l[l.length-1]=="function"?f.writev(i,h,...l):new Promise((d,w)=>{f.writev(i,h,...l,(F,P,j)=>{if(F)return w(F);d({bytesWritten:P,buffers:j})})})},typeof f.realpath.native=="function"?o.realpath.native=a(f.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(sr)),sr}var Je={},qn={},us;function cc(){if(us)return qn;us=1;const o=ce;return qn.checkPath=function(f){if(process.platform==="win32"&&/[<>:"|?*]/.test(f.replace(o.parse(f).root,""))){const i=new Error(`Path contains invalid characters: ${f}`);throw i.code="EINVAL",i}},qn}var cs;function lc(){if(cs)return Je;cs=1;const o=oe(),{checkPath:a}=cc(),f=s=>{const i={mode:511};return typeof s=="number"?s:{...i,...s}.mode};return Je.makeDir=async(s,i)=>(a(s),o.mkdir(s,{mode:f(i),recursive:!0})),Je.makeDirSync=(s,i)=>(a(s),o.mkdirSync(s,{mode:f(i),recursive:!0})),Je}var Cn,ls;function me(){if(ls)return Cn;ls=1;const o=ie().fromPromise,{makeDir:a,makeDirSync:f}=lc(),s=o(a);return Cn={mkdirs:s,mkdirsSync:f,mkdirp:s,mkdirpSync:f,ensureDir:s,ensureDirSync:f},Cn}var Mn,fs;function Se(){if(fs)return Mn;fs=1;const o=ie().fromPromise,a=oe();function f(s){return a.access(s).then(()=>!0).catch(()=>!1)}return Mn={pathExists:o(f),pathExistsSync:a.existsSync},Mn}var In,hs;function Pa(){if(hs)return In;hs=1;const o=oe(),a=ie().fromPromise;async function f(i,h,l){const d=await o.open(i,"r+");let w=null;try{await o.futimes(d,h,l)}finally{try{await o.close(d)}catch(F){w=F}}if(w)throw w}function s(i,h,l){const d=o.openSync(i,"r+");return o.futimesSync(d,h,l),o.closeSync(d)}return In={utimesMillis:a(f),utimesMillisSync:s},In}var kn,ps;function Fe(){if(ps)return kn;ps=1;const o=oe(),a=ce,f=ie().fromPromise;function s(T,M,$){const z=$.dereference?O=>o.stat(O,{bigint:!0}):O=>o.lstat(O,{bigint:!0});return Promise.all([z(T),z(M).catch(O=>{if(O.code==="ENOENT")return null;throw O})]).then(([O,c])=>({srcStat:O,destStat:c}))}function i(T,M,$){let z;const O=$.dereference?p=>o.statSync(p,{bigint:!0}):p=>o.lstatSync(p,{bigint:!0}),c=O(T);try{z=O(M)}catch(p){if(p.code==="ENOENT")return{srcStat:c,destStat:null};throw p}return{srcStat:c,destStat:z}}async function h(T,M,$,z){const{srcStat:O,destStat:c}=await s(T,M,z);if(c){if(F(O,c)){const p=a.basename(T),g=a.basename(M);if($==="move"&&p!==g&&p.toLowerCase()===g.toLowerCase())return{srcStat:O,destStat:c,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(O.isDirectory()&&!c.isDirectory())throw new Error(`Cannot overwrite non-directory '${M}' with directory '${T}'.`);if(!O.isDirectory()&&c.isDirectory())throw new Error(`Cannot overwrite directory '${M}' with non-directory '${T}'.`)}if(O.isDirectory()&&P(T,M))throw new Error(j(T,M,$));return{srcStat:O,destStat:c}}function l(T,M,$,z){const{srcStat:O,destStat:c}=i(T,M,z);if(c){if(F(O,c)){const p=a.basename(T),g=a.basename(M);if($==="move"&&p!==g&&p.toLowerCase()===g.toLowerCase())return{srcStat:O,destStat:c,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(O.isDirectory()&&!c.isDirectory())throw new Error(`Cannot overwrite non-directory '${M}' with directory '${T}'.`);if(!O.isDirectory()&&c.isDirectory())throw new Error(`Cannot overwrite directory '${M}' with non-directory '${T}'.`)}if(O.isDirectory()&&P(T,M))throw new Error(j(T,M,$));return{srcStat:O,destStat:c}}async function d(T,M,$,z){const O=a.resolve(a.dirname(T)),c=a.resolve(a.dirname($));if(c===O||c===a.parse(c).root)return;let p;try{p=await o.stat(c,{bigint:!0})}catch(g){if(g.code==="ENOENT")return;throw g}if(F(M,p))throw new Error(j(T,$,z));return d(T,M,c,z)}function w(T,M,$,z){const O=a.resolve(a.dirname(T)),c=a.resolve(a.dirname($));if(c===O||c===a.parse(c).root)return;let p;try{p=o.statSync(c,{bigint:!0})}catch(g){if(g.code==="ENOENT")return;throw g}if(F(M,p))throw new Error(j(T,$,z));return w(T,M,c,z)}function F(T,M){return M.ino!==void 0&&M.dev!==void 0&&M.ino===T.ino&&M.dev===T.dev}function P(T,M){const $=a.resolve(T).split(a.sep).filter(O=>O),z=a.resolve(M).split(a.sep).filter(O=>O);return $.every((O,c)=>z[c]===O)}function j(T,M,$){return`Cannot ${$} '${T}' to a subdirectory of itself, '${M}'.`}return kn={checkPaths:f(h),checkPathsSync:l,checkParentPaths:f(d),checkParentPathsSync:w,isSrcSubdir:P,areIdentical:F},kn}var Dn,ms;function fc(){if(ms)return Dn;ms=1;async function o(a,f){const s=[];for await(const i of a)s.push(f(i).then(()=>null,h=>h??new Error("unknown error")));await Promise.all(s.map(i=>i.then(h=>{if(h!==null)throw h})))}return Dn={asyncIteratorConcurrentProcess:o},Dn}var Nn,gs;function hc(){if(gs)return Nn;gs=1;const o=oe(),a=ce,{mkdirs:f}=me(),{pathExists:s}=Se(),{utimesMillis:i}=Pa(),h=Fe(),{asyncIteratorConcurrentProcess:l}=fc();async function d(O,c,p={}){typeof p=="function"&&(p={filter:p}),p.clobber="clobber"in p?!!p.clobber:!0,p.overwrite="overwrite"in p?!!p.overwrite:p.clobber,p.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:g,destStat:y}=await h.checkPaths(O,c,"copy",p);if(await h.checkParentPaths(O,g,c,"copy"),!await w(O,c,p))return;const k=a.dirname(c);await s(k)||await f(k),await F(y,O,c,p)}async function w(O,c,p){return p.filter?p.filter(O,c):!0}async function F(O,c,p,g){const S=await(g.dereference?o.stat:o.lstat)(c);if(S.isDirectory())return $(S,O,c,p,g);if(S.isFile()||S.isCharacterDevice()||S.isBlockDevice())return P(S,O,c,p,g);if(S.isSymbolicLink())return z(O,c,p,g);throw S.isSocket()?new Error(`Cannot copy a socket file: ${c}`):S.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${c}`):new Error(`Unknown file: ${c}`)}async function P(O,c,p,g,y){if(!c)return j(O,p,g,y);if(y.overwrite)return await o.unlink(g),j(O,p,g,y);if(y.errorOnExist)throw new Error(`'${g}' already exists`)}async function j(O,c,p,g){if(await o.copyFile(c,p),g.preserveTimestamps){T(O.mode)&&await M(p,O.mode);const y=await o.stat(c);await i(p,y.atime,y.mtime)}return o.chmod(p,O.mode)}function T(O){return(O&128)===0}function M(O,c){return o.chmod(O,c|128)}async function $(O,c,p,g,y){c||await o.mkdir(g),await l(await o.opendir(p),async S=>{const k=a.join(p,S.name),R=a.join(g,S.name);if(await w(k,R,y)){const{destStat:tt}=await h.checkPaths(k,R,"copy",y);await F(tt,k,R,y)}}),c||await o.chmod(g,O.mode)}async function z(O,c,p,g){let y=await o.readlink(c);if(g.dereference&&(y=a.resolve(process.cwd(),y)),!O)return o.symlink(y,p);let S=null;try{S=await o.readlink(p)}catch(k){if(k.code==="EINVAL"||k.code==="UNKNOWN")return o.symlink(y,p);throw k}if(g.dereference&&(S=a.resolve(process.cwd(),S)),h.isSrcSubdir(y,S))throw new Error(`Cannot copy '${y}' to a subdirectory of itself, '${S}'.`);if(h.isSrcSubdir(S,y))throw new Error(`Cannot overwrite '${S}' with '${y}'.`);return await o.unlink(p),o.symlink(y,p)}return Nn=d,Nn}var $n,ds;function pc(){if(ds)return $n;ds=1;const o=De(),a=ce,f=me().mkdirsSync,s=Pa().utimesMillisSync,i=Fe();function h(S,k,R){typeof R=="function"&&(R={filter:R}),R=R||{},R.clobber="clobber"in R?!!R.clobber:!0,R.overwrite="overwrite"in R?!!R.overwrite:R.clobber,R.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:X,destStat:tt}=i.checkPathsSync(S,k,"copy",R);if(i.checkParentPathsSync(S,X,k,"copy"),R.filter&&!R.filter(S,k))return;const Z=a.dirname(k);return o.existsSync(Z)||f(Z),l(tt,S,k,R)}function l(S,k,R,X){const Z=(X.dereference?o.statSync:o.lstatSync)(k);if(Z.isDirectory())return z(Z,S,k,R,X);if(Z.isFile()||Z.isCharacterDevice()||Z.isBlockDevice())return d(Z,S,k,R,X);if(Z.isSymbolicLink())return g(S,k,R,X);throw Z.isSocket()?new Error(`Cannot copy a socket file: ${k}`):Z.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${k}`):new Error(`Unknown file: ${k}`)}function d(S,k,R,X,tt){return k?w(S,R,X,tt):F(S,R,X,tt)}function w(S,k,R,X){if(X.overwrite)return o.unlinkSync(R),F(S,k,R,X);if(X.errorOnExist)throw new Error(`'${R}' already exists`)}function F(S,k,R,X){return o.copyFileSync(k,R),X.preserveTimestamps&&P(S.mode,k,R),M(R,S.mode)}function P(S,k,R){return j(S)&&T(R,S),$(k,R)}function j(S){return(S&128)===0}function T(S,k){return M(S,k|128)}function M(S,k){return o.chmodSync(S,k)}function $(S,k){const R=o.statSync(S);return s(k,R.atime,R.mtime)}function z(S,k,R,X,tt){return k?c(R,X,tt):O(S.mode,R,X,tt)}function O(S,k,R,X){return o.mkdirSync(R),c(k,R,X),M(R,S)}function c(S,k,R){const X=o.opendirSync(S);try{let tt;for(;(tt=X.readSync())!==null;)p(tt.name,S,k,R)}finally{X.closeSync()}}function p(S,k,R,X){const tt=a.join(k,S),Z=a.join(R,S);if(X.filter&&!X.filter(tt,Z))return;const{destStat:ct}=i.checkPathsSync(tt,Z,"copy",X);return l(ct,tt,Z,X)}function g(S,k,R,X){let tt=o.readlinkSync(k);if(X.dereference&&(tt=a.resolve(process.cwd(),tt)),S){let Z;try{Z=o.readlinkSync(R)}catch(ct){if(ct.code==="EINVAL"||ct.code==="UNKNOWN")return o.symlinkSync(tt,R);throw ct}if(X.dereference&&(Z=a.resolve(process.cwd(),Z)),i.isSrcSubdir(tt,Z))throw new Error(`Cannot copy '${tt}' to a subdirectory of itself, '${Z}'.`);if(i.isSrcSubdir(Z,tt))throw new Error(`Cannot overwrite '${Z}' with '${tt}'.`);return y(tt,R)}else return o.symlinkSync(tt,R)}function y(S,k){return o.unlinkSync(k),o.symlinkSync(S,k)}return $n=h,$n}var Bn,ys;function Si(){if(ys)return Bn;ys=1;const o=ie().fromPromise;return Bn={copy:o(hc()),copySync:pc()},Bn}var xn,ws;function ir(){if(ws)return xn;ws=1;const o=De(),a=ie().fromCallback;function f(i,h){o.rm(i,{recursive:!0,force:!0},h)}function s(i){o.rmSync(i,{recursive:!0,force:!0})}return xn={remove:a(f),removeSync:s},xn}var Vn,vs;function mc(){if(vs)return Vn;vs=1;const o=ie().fromPromise,a=oe(),f=ce,s=me(),i=ir(),h=o(async function(w){let F;try{F=await a.readdir(w)}catch{return s.mkdirs(w)}return Promise.all(F.map(P=>i.remove(f.join(w,P))))});function l(d){let w;try{w=a.readdirSync(d)}catch{return s.mkdirsSync(d)}w.forEach(F=>{F=f.join(d,F),i.removeSync(F)})}return Vn={emptyDirSync:l,emptydirSync:l,emptyDir:h,emptydir:h},Vn}var Ln,bs;function gc(){if(bs)return Ln;bs=1;const o=ie().fromPromise,a=ce,f=oe(),s=me();async function i(l){let d;try{d=await f.stat(l)}catch{}if(d&&d.isFile())return;const w=a.dirname(l);let F=null;try{F=await f.stat(w)}catch(P){if(P.code==="ENOENT"){await s.mkdirs(w),await f.writeFile(l,"");return}else throw P}F.isDirectory()?await f.writeFile(l,""):await f.readdir(w)}function h(l){let d;try{d=f.statSync(l)}catch{}if(d&&d.isFile())return;const w=a.dirname(l);try{f.statSync(w).isDirectory()||f.readdirSync(w)}catch(F){if(F&&F.code==="ENOENT")s.mkdirsSync(w);else throw F}f.writeFileSync(l,"")}return Ln={createFile:o(i),createFileSync:h},Ln}var Wn,Ss;function dc(){if(Ss)return Wn;Ss=1;const o=ie().fromPromise,a=ce,f=oe(),s=me(),{pathExists:i}=Se(),{areIdentical:h}=Fe();async function l(w,F){let P;try{P=await f.lstat(F)}catch{}let j;try{j=await f.lstat(w)}catch($){throw $.message=$.message.replace("lstat","ensureLink"),$}if(P&&h(j,P))return;const T=a.dirname(F);await i(T)||await s.mkdirs(T),await f.link(w,F)}function d(w,F){let P;try{P=f.lstatSync(F)}catch{}try{const M=f.lstatSync(w);if(P&&h(M,P))return}catch(M){throw M.message=M.message.replace("lstat","ensureLink"),M}const j=a.dirname(F);return f.existsSync(j)||s.mkdirsSync(j),f.linkSync(w,F)}return Wn={createLink:o(l),createLinkSync:d},Wn}var Un,Es;function yc(){if(Es)return Un;Es=1;const o=ce,a=oe(),{pathExists:f}=Se(),s=ie().fromPromise;async function i(l,d){if(o.isAbsolute(l)){try{await a.lstat(l)}catch(j){throw j.message=j.message.replace("lstat","ensureSymlink"),j}return{toCwd:l,toDst:l}}const w=o.dirname(d),F=o.join(w,l);if(await f(F))return{toCwd:F,toDst:l};try{await a.lstat(l)}catch(j){throw j.message=j.message.replace("lstat","ensureSymlink"),j}return{toCwd:l,toDst:o.relative(w,l)}}function h(l,d){if(o.isAbsolute(l)){if(!a.existsSync(l))throw new Error("absolute srcpath does not exist");return{toCwd:l,toDst:l}}const w=o.dirname(d),F=o.join(w,l);if(a.existsSync(F))return{toCwd:F,toDst:l};if(!a.existsSync(l))throw new Error("relative srcpath does not exist");return{toCwd:l,toDst:o.relative(w,l)}}return Un={symlinkPaths:s(i),symlinkPathsSync:h},Un}var Gn,Os;function wc(){if(Os)return Gn;Os=1;const o=oe(),a=ie().fromPromise;async function f(i,h){if(h)return h;let l;try{l=await o.lstat(i)}catch{return"file"}return l&&l.isDirectory()?"dir":"file"}function s(i,h){if(h)return h;let l;try{l=o.lstatSync(i)}catch{return"file"}return l&&l.isDirectory()?"dir":"file"}return Gn={symlinkType:a(f),symlinkTypeSync:s},Gn}var zn,_s;function vc(){if(_s)return zn;_s=1;const o=ie().fromPromise,a=ce,f=oe(),{mkdirs:s,mkdirsSync:i}=me(),{symlinkPaths:h,symlinkPathsSync:l}=yc(),{symlinkType:d,symlinkTypeSync:w}=wc(),{pathExists:F}=Se(),{areIdentical:P}=Fe();async function j(M,$,z){let O;try{O=await f.lstat($)}catch{}if(O&&O.isSymbolicLink()){const[y,S]=await Promise.all([f.stat(M),f.stat($)]);if(P(y,S))return}const c=await h(M,$);M=c.toDst;const p=await d(c.toCwd,z),g=a.dirname($);return await F(g)||await s(g),f.symlink(M,$,p)}function T(M,$,z){let O;try{O=f.lstatSync($)}catch{}if(O&&O.isSymbolicLink()){const y=f.statSync(M),S=f.statSync($);if(P(y,S))return}const c=l(M,$);M=c.toDst,z=w(c.toCwd,z);const p=a.dirname($);return f.existsSync(p)||i(p),f.symlinkSync(M,$,z)}return zn={createSymlink:o(j),createSymlinkSync:T},zn}var Jn,As;function bc(){if(As)return Jn;As=1;const{createFile:o,createFileSync:a}=gc(),{createLink:f,createLinkSync:s}=dc(),{createSymlink:i,createSymlinkSync:h}=vc();return Jn={createFile:o,createFileSync:a,ensureFile:o,ensureFileSync:a,createLink:f,createLinkSync:s,ensureLink:f,ensureLinkSync:s,createSymlink:i,createSymlinkSync:h,ensureSymlink:i,ensureSymlinkSync:h},Jn}var Yn,Fs;function Ei(){if(Fs)return Yn;Fs=1;function o(f,{EOL:s=`
`,finalEOL:i=!0,replacer:h=null,spaces:l}={}){const d=i?s:"";return JSON.stringify(f,h,l).replace(/\n/g,s)+d}function a(f){return Buffer.isBuffer(f)&&(f=f.toString("utf8")),f.replace(/^\uFEFF/,"")}return Yn={stringify:o,stripBom:a},Yn}var Qn,js;function Sc(){if(js)return Qn;js=1;let o;try{o=De()}catch{o=ua}const a=ie(),{stringify:f,stripBom:s}=Ei();async function i(P,j={}){typeof j=="string"&&(j={encoding:j});const T=j.fs||o,M="throws"in j?j.throws:!0;let $=await a.fromCallback(T.readFile)(P,j);$=s($);let z;try{z=JSON.parse($,j?j.reviver:null)}catch(O){if(M)throw O.message=`${P}: ${O.message}`,O;return null}return z}const h=a.fromPromise(i);function l(P,j={}){typeof j=="string"&&(j={encoding:j});const T=j.fs||o,M="throws"in j?j.throws:!0;try{let $=T.readFileSync(P,j);return $=s($),JSON.parse($,j.reviver)}catch($){if(M)throw $.message=`${P}: ${$.message}`,$;return null}}async function d(P,j,T={}){const M=T.fs||o,$=f(j,T);await a.fromCallback(M.writeFile)(P,$,T)}const w=a.fromPromise(d);function F(P,j,T={}){const M=T.fs||o,$=f(j,T);return M.writeFileSync(P,$,T)}return Qn={readFile:h,readFileSync:l,writeFile:w,writeFileSync:F},Qn}var Kn,Ps;function Ec(){if(Ps)return Kn;Ps=1;const o=Sc();return Kn={readJson:o.readFile,readJsonSync:o.readFileSync,writeJson:o.writeFile,writeJsonSync:o.writeFileSync},Kn}var Hn,Rs;function Oi(){if(Rs)return Hn;Rs=1;const o=ie().fromPromise,a=oe(),f=ce,s=me(),i=Se().pathExists;async function h(d,w,F="utf-8"){const P=f.dirname(d);return await i(P)||await s.mkdirs(P),a.writeFile(d,w,F)}function l(d,...w){const F=f.dirname(d);a.existsSync(F)||s.mkdirsSync(F),a.writeFileSync(d,...w)}return Hn={outputFile:o(h),outputFileSync:l},Hn}var Xn,Ts;function Oc(){if(Ts)return Xn;Ts=1;const{stringify:o}=Ei(),{outputFile:a}=Oi();async function f(s,i,h={}){const l=o(i,h);await a(s,l,h)}return Xn=f,Xn}var Zn,qs;function _c(){if(qs)return Zn;qs=1;const{stringify:o}=Ei(),{outputFileSync:a}=Oi();function f(s,i,h){const l=o(i,h);a(s,l,h)}return Zn=f,Zn}var ti,Cs;function Ac(){if(Cs)return ti;Cs=1;const o=ie().fromPromise,a=Ec();return a.outputJson=o(Oc()),a.outputJsonSync=_c(),a.outputJSON=a.outputJson,a.outputJSONSync=a.outputJsonSync,a.writeJSON=a.writeJson,a.writeJSONSync=a.writeJsonSync,a.readJSON=a.readJson,a.readJSONSync=a.readJsonSync,ti=a,ti}var ei,Ms;function Fc(){if(Ms)return ei;Ms=1;const o=oe(),a=ce,{copy:f}=Si(),{remove:s}=ir(),{mkdirp:i}=me(),{pathExists:h}=Se(),l=Fe();async function d(P,j,T={}){const M=T.overwrite||T.clobber||!1,{srcStat:$,isChangingCase:z=!1}=await l.checkPaths(P,j,"move",T);await l.checkParentPaths(P,$,j,"move");const O=a.dirname(j);return a.parse(O).root!==O&&await i(O),w(P,j,M,z)}async function w(P,j,T,M){if(!M){if(T)await s(j);else if(await h(j))throw new Error("dest already exists.")}try{await o.rename(P,j)}catch($){if($.code!=="EXDEV")throw $;await F(P,j,T)}}async function F(P,j,T){return await f(P,j,{overwrite:T,errorOnExist:!0,preserveTimestamps:!0}),s(P)}return ei=d,ei}var ri,Is;function jc(){if(Is)return ri;Is=1;const o=De(),a=ce,f=Si().copySync,s=ir().removeSync,i=me().mkdirpSync,h=Fe();function l(j,T,M){M=M||{};const $=M.overwrite||M.clobber||!1,{srcStat:z,isChangingCase:O=!1}=h.checkPathsSync(j,T,"move",M);return h.checkParentPathsSync(j,z,T,"move"),d(T)||i(a.dirname(T)),w(j,T,$,O)}function d(j){const T=a.dirname(j);return a.parse(T).root===T}function w(j,T,M,$){if($)return F(j,T,M);if(M)return s(T),F(j,T,M);if(o.existsSync(T))throw new Error("dest already exists.");return F(j,T,M)}function F(j,T,M){try{o.renameSync(j,T)}catch($){if($.code!=="EXDEV")throw $;return P(j,T,M)}}function P(j,T,M){return f(j,T,{overwrite:M,errorOnExist:!0,preserveTimestamps:!0}),s(j)}return ri=l,ri}var ni,ks;function Pc(){if(ks)return ni;ks=1;const o=ie().fromPromise;return ni={move:o(Fc()),moveSync:jc()},ni}var ii,Ds;function Rc(){return Ds||(Ds=1,ii={...oe(),...Si(),...mc(),...bc(),...Ac(),...me(),...Pc(),...Oi(),...Se(),...ir()}),ii}var Tc=Rc(),Tt={};const qc=Object.prototype.toString;function Ce(o){const a=qc.call(o);return a.endsWith("Array]")&&!a.includes("Big")}const Cc=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Ce},Symbol.toStringTag,{value:"Module"})),Mc=li(Cc);function Ic(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ce(o))throw new TypeError("input must be an array");if(o.length===0)throw new TypeError("input must not be empty");var f=a.fromIndex,s=f===void 0?0:f,i=a.toIndex,h=i===void 0?o.length:i;if(s<0||s>=o.length||!Number.isInteger(s))throw new Error("fromIndex must be a positive integer smaller than length");if(h<=s||h>o.length||!Number.isInteger(h))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=o[s],d=s+1;d<h;d++)o[d]>l&&(l=o[d]);return l}function kc(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ce(o))throw new TypeError("input must be an array");if(o.length===0)throw new TypeError("input must not be empty");var f=a.fromIndex,s=f===void 0?0:f,i=a.toIndex,h=i===void 0?o.length:i;if(s<0||s>=o.length||!Number.isInteger(s))throw new Error("fromIndex must be a positive integer smaller than length");if(h<=s||h>o.length||!Number.isInteger(h))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=o[s],d=s+1;d<h;d++)o[d]<l&&(l=o[d]);return l}function Dc(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ce(o)){if(o.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var f;if(a.output!==void 0){if(!Ce(a.output))throw new TypeError("output option must be an array if specified");f=a.output}else f=new Array(o.length);var s=kc(o),i=Ic(o);if(s===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var h=a.min,l=h===void 0?a.autoMinMax?s:0:h,d=a.max,w=d===void 0?a.autoMinMax?i:1:d;if(l>=w)throw new RangeError("min option must be smaller than max option");for(var F=(w-l)/(i-s),P=0;P<o.length;P++)f[P]=(o[P]-s)*F+l;return f}const Nc=Object.freeze(Object.defineProperty({__proto__:null,default:Dc},Symbol.toStringTag,{value:"Module"})),$c=li(Nc);var Ns;function Bc(){if(Ns)return Tt;Ns=1,Object.defineProperty(Tt,"__esModule",{value:!0});var o=Mc,a=$c;const f=" ".repeat(2),s=" ".repeat(4);function i(){return h(this)}function h(m,e={}){const{maxRows:r=15,maxColumns:t=10,maxNumSize:n=8,padMinus:u="auto"}=e;return`${m.constructor.name} {
${f}[
${s}${l(m,r,t,n,u)}
${f}]
${f}rows: ${m.rows}
${f}columns: ${m.columns}
}`}function l(m,e,r,t,n){const{rows:u,columns:v}=m,b=Math.min(u,e),_=Math.min(v,r),A=[];if(n==="auto"){n=!1;t:for(let V=0;V<b;V++)for(let I=0;I<_;I++)if(m.get(V,I)<0){n=!0;break t}}for(let V=0;V<b;V++){let I=[];for(let H=0;H<_;H++)I.push(d(m.get(V,H),t,n));A.push(`${I.join(" ")}`)}return _!==v&&(A[A.length-1]+=` ... ${v-r} more columns`),b!==u&&A.push(`... ${u-e} more rows`),A.join(`
${s}`)}function d(m,e,r){return(m>=0&&r?` ${w(m,e-1)}`:w(m,e)).padEnd(e)}function w(m,e){let r=m.toString();if(r.length<=e)return r;let t=m.toFixed(e);if(t.length>e&&(t=m.toFixed(Math.max(0,e-(t.length-e)))),t.length<=e&&!t.startsWith("0.000")&&!t.startsWith("-0.000"))return t;let n=m.toExponential(e);return n.length>e&&(n=m.toExponential(Math.max(0,e-(n.length-e)))),n.slice(0)}function F(m,e){m.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},m.prototype.addS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)+t);return this},m.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)+t.get(n,u));return this},m.add=function(t,n){return new e(t).add(n)},m.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},m.prototype.subS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)-t);return this},m.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)-t.get(n,u));return this},m.sub=function(t,n){return new e(t).sub(n)},m.prototype.subtract=m.prototype.sub,m.prototype.subtractS=m.prototype.subS,m.prototype.subtractM=m.prototype.subM,m.subtract=m.sub,m.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},m.prototype.mulS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)*t);return this},m.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)*t.get(n,u));return this},m.mul=function(t,n){return new e(t).mul(n)},m.prototype.multiply=m.prototype.mul,m.prototype.multiplyS=m.prototype.mulS,m.prototype.multiplyM=m.prototype.mulM,m.multiply=m.mul,m.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},m.prototype.divS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)/t);return this},m.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)/t.get(n,u));return this},m.div=function(t,n){return new e(t).div(n)},m.prototype.divide=m.prototype.div,m.prototype.divideS=m.prototype.divS,m.prototype.divideM=m.prototype.divM,m.divide=m.div,m.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},m.prototype.modS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)%t);return this},m.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)%t.get(n,u));return this},m.mod=function(t,n){return new e(t).mod(n)},m.prototype.modulus=m.prototype.mod,m.prototype.modulusS=m.prototype.modS,m.prototype.modulusM=m.prototype.modM,m.modulus=m.mod,m.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},m.prototype.andS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)&t);return this},m.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)&t.get(n,u));return this},m.and=function(t,n){return new e(t).and(n)},m.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},m.prototype.orS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)|t);return this},m.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)|t.get(n,u));return this},m.or=function(t,n){return new e(t).or(n)},m.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},m.prototype.xorS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)^t);return this},m.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)^t.get(n,u));return this},m.xor=function(t,n){return new e(t).xor(n)},m.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},m.prototype.leftShiftS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)<<t);return this},m.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)<<t.get(n,u));return this},m.leftShift=function(t,n){return new e(t).leftShift(n)},m.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},m.prototype.signPropagatingRightShiftS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)>>t);return this},m.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)>>t.get(n,u));return this},m.signPropagatingRightShift=function(t,n){return new e(t).signPropagatingRightShift(n)},m.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},m.prototype.rightShiftS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)>>>t);return this},m.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)>>>t.get(n,u));return this},m.rightShift=function(t,n){return new e(t).rightShift(n)},m.prototype.zeroFillRightShift=m.prototype.rightShift,m.prototype.zeroFillRightShiftS=m.prototype.rightShiftS,m.prototype.zeroFillRightShiftM=m.prototype.rightShiftM,m.zeroFillRightShift=m.rightShift,m.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,~this.get(t,n));return this},m.not=function(t){return new e(t).not()},m.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.abs(this.get(t,n)));return this},m.abs=function(t){return new e(t).abs()},m.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.acos(this.get(t,n)));return this},m.acos=function(t){return new e(t).acos()},m.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.acosh(this.get(t,n)));return this},m.acosh=function(t){return new e(t).acosh()},m.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.asin(this.get(t,n)));return this},m.asin=function(t){return new e(t).asin()},m.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.asinh(this.get(t,n)));return this},m.asinh=function(t){return new e(t).asinh()},m.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.atan(this.get(t,n)));return this},m.atan=function(t){return new e(t).atan()},m.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.atanh(this.get(t,n)));return this},m.atanh=function(t){return new e(t).atanh()},m.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.cbrt(this.get(t,n)));return this},m.cbrt=function(t){return new e(t).cbrt()},m.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.ceil(this.get(t,n)));return this},m.ceil=function(t){return new e(t).ceil()},m.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.clz32(this.get(t,n)));return this},m.clz32=function(t){return new e(t).clz32()},m.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.cos(this.get(t,n)));return this},m.cos=function(t){return new e(t).cos()},m.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.cosh(this.get(t,n)));return this},m.cosh=function(t){return new e(t).cosh()},m.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.exp(this.get(t,n)));return this},m.exp=function(t){return new e(t).exp()},m.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.expm1(this.get(t,n)));return this},m.expm1=function(t){return new e(t).expm1()},m.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.floor(this.get(t,n)));return this},m.floor=function(t){return new e(t).floor()},m.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.fround(this.get(t,n)));return this},m.fround=function(t){return new e(t).fround()},m.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log(this.get(t,n)));return this},m.log=function(t){return new e(t).log()},m.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log1p(this.get(t,n)));return this},m.log1p=function(t){return new e(t).log1p()},m.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log10(this.get(t,n)));return this},m.log10=function(t){return new e(t).log10()},m.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.log2(this.get(t,n)));return this},m.log2=function(t){return new e(t).log2()},m.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.round(this.get(t,n)));return this},m.round=function(t){return new e(t).round()},m.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sign(this.get(t,n)));return this},m.sign=function(t){return new e(t).sign()},m.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sin(this.get(t,n)));return this},m.sin=function(t){return new e(t).sin()},m.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sinh(this.get(t,n)));return this},m.sinh=function(t){return new e(t).sinh()},m.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.sqrt(this.get(t,n)));return this},m.sqrt=function(t){return new e(t).sqrt()},m.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.tan(this.get(t,n)));return this},m.tan=function(t){return new e(t).tan()},m.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.tanh(this.get(t,n)));return this},m.tanh=function(t){return new e(t).tanh()},m.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.set(t,n,Math.trunc(this.get(t,n)));return this},m.trunc=function(t){return new e(t).trunc()},m.pow=function(t,n){return new e(t).pow(n)},m.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},m.prototype.powS=function(t){for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)**t);return this},m.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let u=0;u<this.columns;u++)this.set(n,u,this.get(n,u)**t.get(n,u));return this}}function P(m,e,r){let t=r?m.rows:m.rows-1;if(e<0||e>t)throw new RangeError("Row index out of range")}function j(m,e,r){let t=r?m.columns:m.columns-1;if(e<0||e>t)throw new RangeError("Column index out of range")}function T(m,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==m.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function M(m,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==m.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function $(m,e){if(!o.isAnyArray(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=m.rows)throw new RangeError("row indices are out of range")}function z(m,e){if(!o.isAnyArray(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=m.columns)throw new RangeError("column indices are out of range")}function O(m,e,r,t,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(p("startRow",e),p("endRow",r),p("startColumn",t),p("endColumn",n),e>r||t>n||e<0||e>=m.rows||r<0||r>=m.rows||t<0||t>=m.columns||n<0||n>=m.columns)throw new RangeError("Submatrix indices are out of range")}function c(m,e=0){let r=[];for(let t=0;t<m;t++)r.push(e);return r}function p(m,e){if(typeof e!="number")throw new TypeError(`${m} must be a number`)}function g(m){if(m.isEmpty())throw new Error("Empty matrix has no elements to index")}function y(m){let e=c(m.rows);for(let r=0;r<m.rows;++r)for(let t=0;t<m.columns;++t)e[r]+=m.get(r,t);return e}function S(m){let e=c(m.columns);for(let r=0;r<m.rows;++r)for(let t=0;t<m.columns;++t)e[t]+=m.get(r,t);return e}function k(m){let e=0;for(let r=0;r<m.rows;r++)for(let t=0;t<m.columns;t++)e+=m.get(r,t);return e}function R(m){let e=c(m.rows,1);for(let r=0;r<m.rows;++r)for(let t=0;t<m.columns;++t)e[r]*=m.get(r,t);return e}function X(m){let e=c(m.columns,1);for(let r=0;r<m.rows;++r)for(let t=0;t<m.columns;++t)e[t]*=m.get(r,t);return e}function tt(m){let e=1;for(let r=0;r<m.rows;r++)for(let t=0;t<m.columns;t++)e*=m.get(r,t);return e}function Z(m,e,r){const t=m.rows,n=m.columns,u=[];for(let v=0;v<t;v++){let b=0,_=0,A=0;for(let V=0;V<n;V++)A=m.get(v,V)-r[v],b+=A,_+=A*A;e?u.push((_-b*b/n)/(n-1)):u.push((_-b*b/n)/n)}return u}function ct(m,e,r){const t=m.rows,n=m.columns,u=[];for(let v=0;v<n;v++){let b=0,_=0,A=0;for(let V=0;V<t;V++)A=m.get(V,v)-r[v],b+=A,_+=A*A;e?u.push((_-b*b/t)/(t-1)):u.push((_-b*b/t)/t)}return u}function lt(m,e,r){const t=m.rows,n=m.columns,u=t*n;let v=0,b=0,_=0;for(let A=0;A<t;A++)for(let V=0;V<n;V++)_=m.get(A,V)-r,v+=_,b+=_*_;return e?(b-v*v/u)/(u-1):(b-v*v/u)/u}function Ft(m,e){for(let r=0;r<m.rows;r++)for(let t=0;t<m.columns;t++)m.set(r,t,m.get(r,t)-e[r])}function Pt(m,e){for(let r=0;r<m.rows;r++)for(let t=0;t<m.columns;t++)m.set(r,t,m.get(r,t)-e[t])}function Nt(m,e){for(let r=0;r<m.rows;r++)for(let t=0;t<m.columns;t++)m.set(r,t,m.get(r,t)-e)}function It(m){const e=[];for(let r=0;r<m.rows;r++){let t=0;for(let n=0;n<m.columns;n++)t+=m.get(r,n)**2/(m.columns-1);e.push(Math.sqrt(t))}return e}function Dt(m,e){for(let r=0;r<m.rows;r++)for(let t=0;t<m.columns;t++)m.set(r,t,m.get(r,t)/e[r])}function kt(m){const e=[];for(let r=0;r<m.columns;r++){let t=0;for(let n=0;n<m.rows;n++)t+=m.get(n,r)**2/(m.rows-1);e.push(Math.sqrt(t))}return e}function et(m,e){for(let r=0;r<m.rows;r++)for(let t=0;t<m.columns;t++)m.set(r,t,m.get(r,t)/e[t])}function nt(m){const e=m.size-1;let r=0;for(let t=0;t<m.columns;t++)for(let n=0;n<m.rows;n++)r+=m.get(n,t)**2/e;return Math.sqrt(r)}function mt(m,e){for(let r=0;r<m.rows;r++)for(let t=0;t<m.columns;t++)m.set(r,t,m.get(r,t)/e)}class q{static from1DArray(e,r,t){if(e*r!==t.length)throw new RangeError("data length does not match given dimensions");let u=new E(e,r);for(let v=0;v<e;v++)for(let b=0;b<r;b++)u.set(v,b,t[v*r+b]);return u}static rowVector(e){let r=new E(1,e.length);for(let t=0;t<e.length;t++)r.set(0,t,e[t]);return r}static columnVector(e){let r=new E(e.length,1);for(let t=0;t<e.length;t++)r.set(t,0,e[t]);return r}static zeros(e,r){return new E(e,r)}static ones(e,r){return new E(e,r).fill(1)}static rand(e,r,t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{random:n=Math.random}=t;let u=new E(e,r);for(let v=0;v<e;v++)for(let b=0;b<r;b++)u.set(v,b,n());return u}static randInt(e,r,t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:n=0,max:u=1e3,random:v=Math.random}=t;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(u))throw new TypeError("max must be an integer");if(n>=u)throw new RangeError("min must be smaller than max");let b=u-n,_=new E(e,r);for(let A=0;A<e;A++)for(let V=0;V<r;V++){let I=n+Math.round(v()*b);_.set(A,V,I)}return _}static eye(e,r,t){r===void 0&&(r=e),t===void 0&&(t=1);let n=Math.min(e,r),u=this.zeros(e,r);for(let v=0;v<n;v++)u.set(v,v,t);return u}static diag(e,r,t){let n=e.length;r===void 0&&(r=n),t===void 0&&(t=r);let u=Math.min(n,r,t),v=this.zeros(r,t);for(let b=0;b<u;b++)v.set(b,b,e[b]);return v}static min(e,r){e=this.checkMatrix(e),r=this.checkMatrix(r);let t=e.rows,n=e.columns,u=new E(t,n);for(let v=0;v<t;v++)for(let b=0;b<n;b++)u.set(v,b,Math.min(e.get(v,b),r.get(v,b)));return u}static max(e,r){e=this.checkMatrix(e),r=this.checkMatrix(r);let t=e.rows,n=e.columns,u=new this(t,n);for(let v=0;v<t;v++)for(let b=0;b<n;b++)u.set(v,b,Math.max(e.get(v,b),r.get(v,b)));return u}static checkMatrix(e){return q.isMatrix(e)?e:new E(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)e.call(this,r,t);return this}to1DArray(){let e=[];for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)e.push(this.get(r,t));return e}to2DArray(){let e=[];for(let r=0;r<this.rows;r++){e.push([]);for(let t=0;t<this.columns;t++)e[r].push(this.get(r,t))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let r=0;r<=e;r++)if(this.get(e,r)!==this.get(r,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(this.get(e,e)!==0)return!1;return!0}isEchelonForm(){let e=0,r=0,t=-1,n=!0,u=!1;for(;e<this.rows&&n;){for(r=0,u=!1;r<this.columns&&u===!1;)this.get(e,r)===0?r++:this.get(e,r)===1&&r>t?(u=!0,t=r):(n=!1,u=!0);e++}return n}isReducedEchelonForm(){let e=0,r=0,t=-1,n=!0,u=!1;for(;e<this.rows&&n;){for(r=0,u=!1;r<this.columns&&u===!1;)this.get(e,r)===0?r++:this.get(e,r)===1&&r>t?(u=!0,t=r):(n=!1,u=!0);for(let v=r+1;v<this.rows;v++)this.get(e,v)!==0&&(n=!1);e++}return n}echelonForm(){let e=this.clone(),r=0,t=0;for(;r<e.rows&&t<e.columns;){let n=r;for(let u=r;u<e.rows;u++)e.get(u,t)>e.get(n,t)&&(n=u);if(e.get(n,t)===0)t++;else{e.swapRows(r,n);let u=e.get(r,t);for(let v=t;v<e.columns;v++)e.set(r,v,e.get(r,v)/u);for(let v=r+1;v<e.rows;v++){let b=e.get(v,t)/e.get(r,t);e.set(v,t,0);for(let _=t+1;_<e.columns;_++)e.set(v,_,e.get(v,_)-e.get(r,_)*b)}r++,t++}}return e}reducedEchelonForm(){let e=this.echelonForm(),r=e.columns,t=e.rows,n=t-1;for(;n>=0;)if(e.maxRow(n)===0)n--;else{let u=0,v=!1;for(;u<t&&v===!1;)e.get(n,u)===1?v=!0:u++;for(let b=0;b<n;b++){let _=e.get(b,u);for(let A=u;A<r;A++){let V=e.get(b,A)-_*e.get(n,A);e.set(b,A,V)}}n--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{rows:r=1,columns:t=1}=e;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(t)||t<=0)throw new TypeError("columns must be a positive integer");let n=new E(this.rows*r,this.columns*t);for(let u=0;u<r;u++)for(let v=0;v<t;v++)n.setSubMatrix(this,this.rows*u,this.columns*v);return n}fill(e){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)this.set(r,t,e);return this}neg(){return this.mulS(-1)}getRow(e){P(this,e);let r=[];for(let t=0;t<this.columns;t++)r.push(this.get(e,t));return r}getRowVector(e){return E.rowVector(this.getRow(e))}setRow(e,r){P(this,e),r=T(this,r);for(let t=0;t<this.columns;t++)this.set(e,t,r[t]);return this}swapRows(e,r){P(this,e),P(this,r);for(let t=0;t<this.columns;t++){let n=this.get(e,t);this.set(e,t,this.get(r,t)),this.set(r,t,n)}return this}getColumn(e){j(this,e);let r=[];for(let t=0;t<this.rows;t++)r.push(this.get(t,e));return r}getColumnVector(e){return E.columnVector(this.getColumn(e))}setColumn(e,r){j(this,e),r=M(this,r);for(let t=0;t<this.rows;t++)this.set(t,e,r[t]);return this}swapColumns(e,r){j(this,e),j(this,r);for(let t=0;t<this.rows;t++){let n=this.get(t,e);this.set(t,e,this.get(t,r)),this.set(t,r,n)}return this}addRowVector(e){e=T(this,e);for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)this.set(r,t,this.get(r,t)+e[t]);return this}subRowVector(e){e=T(this,e);for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)this.set(r,t,this.get(r,t)-e[t]);return this}mulRowVector(e){e=T(this,e);for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)this.set(r,t,this.get(r,t)*e[t]);return this}divRowVector(e){e=T(this,e);for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)this.set(r,t,this.get(r,t)/e[t]);return this}addColumnVector(e){e=M(this,e);for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)this.set(r,t,this.get(r,t)+e[r]);return this}subColumnVector(e){e=M(this,e);for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)this.set(r,t,this.get(r,t)-e[r]);return this}mulColumnVector(e){e=M(this,e);for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)this.set(r,t,this.get(r,t)*e[r]);return this}divColumnVector(e){e=M(this,e);for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)this.set(r,t,this.get(r,t)/e[r]);return this}mulRow(e,r){P(this,e);for(let t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*r);return this}mulColumn(e,r){j(this,e);for(let t=0;t<this.rows;t++)this.set(t,e,this.get(t,e)*r);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const r=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>r[t]&&(r[t]=this.get(t,n));return r}case"column":{const r=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>r[n]&&(r[n]=this.get(t,n));return r}case void 0:{let r=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>r&&(r=this.get(t,n));return r}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){g(this);let e=this.get(0,0),r=[0,0];for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[0]=t,r[1]=n);return r}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const r=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<r[t]&&(r[t]=this.get(t,n));return r}case"column":{const r=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<r[n]&&(r[n]=this.get(t,n));return r}case void 0:{let r=this.get(0,0);for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<r&&(r=this.get(t,n));return r}default:throw new Error(`invalid option: ${e}`)}}minIndex(){g(this);let e=this.get(0,0),r=[0,0];for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[0]=t,r[1]=n);return r}maxRow(e){if(P(this,e),this.isEmpty())return NaN;let r=this.get(e,0);for(let t=1;t<this.columns;t++)this.get(e,t)>r&&(r=this.get(e,t));return r}maxRowIndex(e){P(this,e),g(this);let r=this.get(e,0),t=[e,0];for(let n=1;n<this.columns;n++)this.get(e,n)>r&&(r=this.get(e,n),t[1]=n);return t}minRow(e){if(P(this,e),this.isEmpty())return NaN;let r=this.get(e,0);for(let t=1;t<this.columns;t++)this.get(e,t)<r&&(r=this.get(e,t));return r}minRowIndex(e){P(this,e),g(this);let r=this.get(e,0),t=[e,0];for(let n=1;n<this.columns;n++)this.get(e,n)<r&&(r=this.get(e,n),t[1]=n);return t}maxColumn(e){if(j(this,e),this.isEmpty())return NaN;let r=this.get(0,e);for(let t=1;t<this.rows;t++)this.get(t,e)>r&&(r=this.get(t,e));return r}maxColumnIndex(e){j(this,e),g(this);let r=this.get(0,e),t=[0,e];for(let n=1;n<this.rows;n++)this.get(n,e)>r&&(r=this.get(n,e),t[0]=n);return t}minColumn(e){if(j(this,e),this.isEmpty())return NaN;let r=this.get(0,e);for(let t=1;t<this.rows;t++)this.get(t,e)<r&&(r=this.get(t,e));return r}minColumnIndex(e){j(this,e),g(this);let r=this.get(0,e),t=[0,e];for(let n=1;n<this.rows;n++)this.get(n,e)<r&&(r=this.get(n,e),t[0]=n);return t}diag(){let e=Math.min(this.rows,this.columns),r=[];for(let t=0;t<e;t++)r.push(this.get(t,t));return r}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)e+=this.get(r,t),this.set(r,t,e);return this}dot(e){q.isMatrix(e)&&(e=e.to1DArray());let r=this.to1DArray();if(r.length!==e.length)throw new RangeError("vectors do not have the same size");let t=0;for(let n=0;n<r.length;n++)t+=r[n]*e[n];return t}mmul(e){e=E.checkMatrix(e);let r=this.rows,t=this.columns,n=e.columns,u=new E(r,n),v=new Float64Array(t);for(let b=0;b<n;b++){for(let _=0;_<t;_++)v[_]=e.get(_,b);for(let _=0;_<r;_++){let A=0;for(let V=0;V<t;V++)A+=this.get(_,V)*v[V];u.set(_,b,A)}}return u}mpow(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");let r=E.eye(this.rows),t=this;for(let n=e;n>=1;n/=2)(n&1)!==0&&(r=r.mmul(t)),t=t.mmul(t);return r}strassen2x2(e){e=E.checkMatrix(e);let r=new E(2,2);const t=this.get(0,0),n=e.get(0,0),u=this.get(0,1),v=e.get(0,1),b=this.get(1,0),_=e.get(1,0),A=this.get(1,1),V=e.get(1,1),I=(t+A)*(n+V),H=(b+A)*n,ut=t*(v-V),J=A*(_-n),rt=(t+u)*V,gt=(b-t)*(n+v),N=(u-A)*(_+V),at=I+J-rt+N,yt=ut+rt,_t=H+J,jt=I-H+ut+gt;return r.set(0,0,at),r.set(0,1,yt),r.set(1,0,_t),r.set(1,1,jt),r}strassen3x3(e){e=E.checkMatrix(e);let r=new E(3,3);const t=this.get(0,0),n=this.get(0,1),u=this.get(0,2),v=this.get(1,0),b=this.get(1,1),_=this.get(1,2),A=this.get(2,0),V=this.get(2,1),I=this.get(2,2),H=e.get(0,0),ut=e.get(0,1),J=e.get(0,2),rt=e.get(1,0),gt=e.get(1,1),N=e.get(1,2),at=e.get(2,0),yt=e.get(2,1),_t=e.get(2,2),jt=(t+n+u-v-b-V-I)*gt,Gt=(t-v)*(-ut+gt),St=b*(-H+ut+rt-gt-N-at+_t),Ot=(-t+v+b)*(H-ut+gt),Vt=(v+b)*(-H+ut),B=t*H,it=(-t+A+V)*(H-J+N),dt=(-t+A)*(J-N),ot=(A+V)*(-H+J),zt=(t+n+u-b-_-A-V)*N,xt=V*(-H+J+rt-gt-N-at+yt),Wt=(-u+V+I)*(gt+at-yt),Jt=(u-I)*(gt-yt),re=u*at,fe=(V+I)*(-at+yt),Xt=(-u+b+_)*(N+at-_t),pe=(u-_)*(N-_t),ge=(b+_)*(-at+_t),Ct=n*rt,ne=_*yt,se=v*J,ae=A*ut,Zt=I*_t,Ca=B+re+Ct,Ma=jt+Ot+Vt+B+Wt+re+fe,Ia=B+it+ot+zt+re+Xt+ge,ka=Gt+St+Ot+B+re+Xt+pe,Da=Gt+Ot+Vt+B+ne,Na=re+Xt+pe+ge+se,$a=B+it+dt+xt+Wt+Jt+re,Ba=Wt+Jt+re+fe+ae,xa=B+it+dt+ot+Zt;return r.set(0,0,Ca),r.set(0,1,Ma),r.set(0,2,Ia),r.set(1,0,ka),r.set(1,1,Da),r.set(1,2,Na),r.set(2,0,$a),r.set(2,1,Ba),r.set(2,2,xa),r}mmulStrassen(e){e=E.checkMatrix(e);let r=this.clone(),t=r.rows,n=r.columns,u=e.rows,v=e.columns;n!==u&&console.warn(`Multiplying ${t} x ${n} and ${u} x ${v} matrix: dimensions do not match.`);function b(I,H,ut){let J=I.rows,rt=I.columns;if(J===H&&rt===ut)return I;{let gt=q.zeros(H,ut);return gt=gt.setSubMatrix(I,0,0),gt}}let _=Math.max(t,u),A=Math.max(n,v);r=b(r,_,A),e=b(e,_,A);function V(I,H,ut,J){if(ut<=512||J<=512)return I.mmul(H);ut%2===1&&J%2===1?(I=b(I,ut+1,J+1),H=b(H,ut+1,J+1)):ut%2===1?(I=b(I,ut+1,J),H=b(H,ut+1,J)):J%2===1&&(I=b(I,ut,J+1),H=b(H,ut,J+1));let rt=parseInt(I.rows/2,10),gt=parseInt(I.columns/2,10),N=I.subMatrix(0,rt-1,0,gt-1),at=H.subMatrix(0,rt-1,0,gt-1),yt=I.subMatrix(0,rt-1,gt,I.columns-1),_t=H.subMatrix(0,rt-1,gt,H.columns-1),jt=I.subMatrix(rt,I.rows-1,0,gt-1),Gt=H.subMatrix(rt,H.rows-1,0,gt-1),St=I.subMatrix(rt,I.rows-1,gt,I.columns-1),Ot=H.subMatrix(rt,H.rows-1,gt,H.columns-1),Vt=V(q.add(N,St),q.add(at,Ot),rt,gt),B=V(q.add(jt,St),at,rt,gt),it=V(N,q.sub(_t,Ot),rt,gt),dt=V(St,q.sub(Gt,at),rt,gt),ot=V(q.add(N,yt),Ot,rt,gt),zt=V(q.sub(jt,N),q.add(at,_t),rt,gt),xt=V(q.sub(yt,St),q.add(Gt,Ot),rt,gt),Wt=q.add(Vt,dt);Wt.sub(ot),Wt.add(xt);let Jt=q.add(it,ot),re=q.add(B,dt),fe=q.sub(Vt,B);fe.add(it),fe.add(zt);let Xt=q.zeros(2*Wt.rows,2*Wt.columns);return Xt=Xt.setSubMatrix(Wt,0,0),Xt=Xt.setSubMatrix(Jt,Wt.rows,0),Xt=Xt.setSubMatrix(re,0,Wt.columns),Xt=Xt.setSubMatrix(fe,Wt.rows,Wt.columns),Xt.subMatrix(0,ut-1,0,J-1)}return V(r,e,_,A)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:r=0,max:t=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(t))throw new TypeError("max must be a number");if(r>=t)throw new RangeError("min must be smaller than max");let n=new E(this.rows,this.columns);for(let u=0;u<this.rows;u++){const v=this.getRow(u);v.length>0&&a(v,{min:r,max:t,output:v}),n.setRow(u,v)}return n}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:r=0,max:t=1}=e;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(t))throw new TypeError("max must be a number");if(r>=t)throw new RangeError("min must be smaller than max");let n=new E(this.rows,this.columns);for(let u=0;u<this.columns;u++){const v=this.getColumn(u);v.length&&a(v,{min:r,max:t,output:v}),n.setColumn(u,v)}return n}flipRows(){const e=Math.ceil(this.columns/2);for(let r=0;r<this.rows;r++)for(let t=0;t<e;t++){let n=this.get(r,t),u=this.get(r,this.columns-1-t);this.set(r,t,u),this.set(r,this.columns-1-t,n)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let r=0;r<this.columns;r++)for(let t=0;t<e;t++){let n=this.get(t,r),u=this.get(this.rows-1-t,r);this.set(t,r,u),this.set(this.rows-1-t,r,n)}return this}kroneckerProduct(e){e=E.checkMatrix(e);let r=this.rows,t=this.columns,n=e.rows,u=e.columns,v=new E(r*n,t*u);for(let b=0;b<r;b++)for(let _=0;_<t;_++)for(let A=0;A<n;A++)for(let V=0;V<u;V++)v.set(n*b+A,u*_+V,this.get(b,_)*e.get(A,V));return v}kroneckerSum(e){if(e=E.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let r=this.rows,t=e.rows,n=this.kroneckerProduct(E.eye(t,t)),u=E.eye(r,r).kroneckerProduct(e);return n.add(u)}transpose(){let e=new E(this.columns,this.rows);for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)e.set(t,r,this.get(r,t));return e}sortRows(e=L){for(let r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(e));return this}sortColumns(e=L){for(let r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(e));return this}subMatrix(e,r,t,n){O(this,e,r,t,n);let u=new E(r-e+1,n-t+1);for(let v=e;v<=r;v++)for(let b=t;b<=n;b++)u.set(v-e,b-t,this.get(v,b));return u}subMatrixRow(e,r,t){if(r===void 0&&(r=0),t===void 0&&(t=this.columns-1),r>t||r<0||r>=this.columns||t<0||t>=this.columns)throw new RangeError("Argument out of range");let n=new E(e.length,t-r+1);for(let u=0;u<e.length;u++)for(let v=r;v<=t;v++){if(e[u]<0||e[u]>=this.rows)throw new RangeError(`Row index out of range: ${e[u]}`);n.set(u,v-r,this.get(e[u],v))}return n}subMatrixColumn(e,r,t){if(r===void 0&&(r=0),t===void 0&&(t=this.rows-1),r>t||r<0||r>=this.rows||t<0||t>=this.rows)throw new RangeError("Argument out of range");let n=new E(t-r+1,e.length);for(let u=0;u<e.length;u++)for(let v=r;v<=t;v++){if(e[u]<0||e[u]>=this.columns)throw new RangeError(`Column index out of range: ${e[u]}`);n.set(v-r,u,this.get(v,e[u]))}return n}setSubMatrix(e,r,t){if(e=E.checkMatrix(e),e.isEmpty())return this;let n=r+e.rows-1,u=t+e.columns-1;O(this,r,n,t,u);for(let v=0;v<e.rows;v++)for(let b=0;b<e.columns;b++)this.set(r+v,t+b,e.get(v,b));return this}selection(e,r){$(this,e),z(this,r);let t=new E(e.length,r.length);for(let n=0;n<e.length;n++){let u=e[n];for(let v=0;v<r.length;v++){let b=r[v];t.set(n,v,this.get(u,b))}}return t}trace(){let e=Math.min(this.rows,this.columns),r=0;for(let t=0;t<e;t++)r+=this.get(t,t);return r}clone(){return this.constructor.copy(this,new E(this.rows,this.columns))}static copy(e,r){for(const[t,n,u]of e.entries())r.set(t,n,u);return r}sum(e){switch(e){case"row":return y(this);case"column":return S(this);case void 0:return k(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return R(this);case"column":return X(this);case void 0:return tt(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const r=this.sum(e);switch(e){case"row":{for(let t=0;t<this.rows;t++)r[t]/=this.columns;return r}case"column":{for(let t=0;t<this.columns;t++)r[t]/=this.rows;return r}case void 0:return r/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");const{unbiased:t=!0,mean:n=this.mean(e)}=r;if(typeof t!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!o.isAnyArray(n))throw new TypeError("mean must be an array");return Z(this,t,n)}case"column":{if(!o.isAnyArray(n))throw new TypeError("mean must be an array");return ct(this,t,n)}case void 0:{if(typeof n!="number")throw new TypeError("mean must be a number");return lt(this,t,n)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,r){typeof e=="object"&&(r=e,e=void 0);const t=this.variance(e,r);if(e===void 0)return Math.sqrt(t);for(let n=0;n<t.length;n++)t[n]=Math.sqrt(t[n]);return t}center(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");const{center:t=this.mean(e)}=r;switch(e){case"row":{if(!o.isAnyArray(t))throw new TypeError("center must be an array");return Ft(this,t),this}case"column":{if(!o.isAnyArray(t))throw new TypeError("center must be an array");return Pt(this,t),this}case void 0:{if(typeof t!="number")throw new TypeError("center must be a number");return Nt(this,t),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,r={}){if(typeof e=="object"&&(r=e,e=void 0),typeof r!="object")throw new TypeError("options must be an object");let t=r.scale;switch(e){case"row":{if(t===void 0)t=It(this);else if(!o.isAnyArray(t))throw new TypeError("scale must be an array");return Dt(this,t),this}case"column":{if(t===void 0)t=kt(this);else if(!o.isAnyArray(t))throw new TypeError("scale must be an array");return et(this,t),this}case void 0:{if(t===void 0)t=nt(this);else if(typeof t!="number")throw new TypeError("scale must be a number");return mt(this,t),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return h(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)yield[e,r,this.get(e,r)]}*values(){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)yield this.get(e,r)}}q.prototype.klass="Matrix",typeof Symbol<"u"&&(q.prototype[Symbol.for("nodejs.util.inspect.custom")]=i);function L(m,e){return m-e}function C(m){return m.every(e=>typeof e=="number")}q.random=q.rand,q.randomInt=q.randInt,q.diagonal=q.diag,q.prototype.diagonal=q.prototype.diag,q.identity=q.eye,q.prototype.negate=q.prototype.neg,q.prototype.tensorProduct=q.prototype.kroneckerProduct;class E extends q{data;#t(e,r){if(this.data=[],Number.isInteger(r)&&r>=0)for(let t=0;t<e;t++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");this.rows=e,this.columns=r}constructor(e,r){if(super(),E.isMatrix(e))this.#t(e.rows,e.columns),E.copy(e,this);else if(Number.isInteger(e)&&e>=0)this.#t(e,r);else if(o.isAnyArray(e)){const t=e;if(e=t.length,r=e?t[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<e;n++){if(t[n].length!==r)throw new RangeError("Inconsistent array dimensions");if(!C(t[n]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[n]))}this.rows=e,this.columns=r}else throw new TypeError("First argument must be a positive number or an array")}set(e,r,t){return this.data[e][r]=t,this}get(e,r){return this.data[e][r]}removeRow(e){return P(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,r){return r===void 0&&(r=e,e=this.rows),P(this,e,!0),r=Float64Array.from(T(this,r)),this.data.splice(e,0,r),this.rows+=1,this}removeColumn(e){j(this,e);for(let r=0;r<this.rows;r++){const t=new Float64Array(this.columns-1);for(let n=0;n<e;n++)t[n]=this.data[r][n];for(let n=e+1;n<this.columns;n++)t[n-1]=this.data[r][n];this.data[r]=t}return this.columns-=1,this}addColumn(e,r){typeof r>"u"&&(r=e,e=this.columns),j(this,e,!0),r=M(this,r);for(let t=0;t<this.rows;t++){const n=new Float64Array(this.columns+1);let u=0;for(;u<e;u++)n[u]=this.data[t][u];for(n[u++]=r[t];u<this.columns+1;u++)n[u]=this.data[t][u-1];this.data[t]=n}return this.columns+=1,this}}F(q,E);class D extends q{#t;get size(){return this.#t.size}get rows(){return this.#t.rows}get columns(){return this.#t.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return E.isMatrix(e)&&e.klassType==="SymmetricMatrix"}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}constructor(e){if(super(),E.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");this.#t=E.copy(e,new E(e.rows,e.rows))}else if(Number.isInteger(e)&&e>=0)this.#t=new E(e,e);else if(this.#t=new E(e),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const e=new D(this.diagonalSize);for(const[r,t,n]of this.upperRightEntries())e.set(r,t,n);return e}toMatrix(){return new E(this)}get(e,r){return this.#t.get(e,r)}set(e,r,t){return this.#t.set(e,r,t),this.#t.set(r,e,t),this}removeCross(e){return this.#t.removeRow(e),this.#t.removeColumn(e),this}addCross(e,r){r===void 0&&(r=e,e=this.diagonalSize);const t=r.slice();return t.splice(e,1),this.#t.addRow(e,t),this.#t.addColumn(e,r),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const r=[];for(const[t,n]of e.entries())n||r.push(t);r.reverse();for(const t of r)this.removeCross(t);return this}toCompact(){const{diagonalSize:e}=this,r=new Array(e*(e+1)/2);for(let t=0,n=0,u=0;u<r.length;u++)r[u]=this.get(n,t),++t>=e&&(t=++n);return r}static fromCompact(e){const r=e.length,t=(Math.sqrt(8*r+1)-1)/2;if(!Number.isInteger(t))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);const n=new D(t);for(let u=0,v=0,b=0;b<r;b++)n.set(u,v,e[b]),++u>=t&&(u=++v);return n}*upperRightEntries(){for(let e=0,r=0;e<this.diagonalSize;void 0){const t=this.get(e,r);yield[e,r,t],++r>=this.diagonalSize&&(r=++e)}}*upperRightValues(){for(let e=0,r=0;e<this.diagonalSize;void 0)yield this.get(e,r),++r>=this.diagonalSize&&(r=++e)}}D.prototype.klassType="SymmetricMatrix";class U extends D{static isDistanceMatrix(e){return D.isSymmetricMatrix(e)&&e.klassSubType==="DistanceMatrix"}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,r,t){return e===r&&(t=0),super.set(e,r,t)}addCross(e,r){return r===void 0&&(r=e,e=this.diagonalSize),r=r.slice(),r[e]=0,super.addCross(e,r)}toSymmetricMatrix(){return new D(this)}clone(){const e=new U(this.diagonalSize);for(const[r,t,n]of this.upperRightEntries())r!==t&&e.set(r,t,n);return e}toCompact(){const{diagonalSize:e}=this,r=(e-1)*e/2,t=new Array(r);for(let n=1,u=0,v=0;v<t.length;v++)t[v]=this.get(u,n),++n>=e&&(n=++u+1);return t}static fromCompact(e){const r=e.length;if(r===0)return new this(0);const t=(Math.sqrt(8*r+1)+1)/2;if(!Number.isInteger(t))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const n=new this(t);for(let u=1,v=0,b=0;b<r;b++)n.set(u,v,e[b]),++u>=t&&(u=++v+1);return n}}U.prototype.klassSubType="DistanceMatrix";class W extends q{constructor(e,r,t){super(),this.matrix=e,this.rows=r,this.columns=t}}class Y extends W{constructor(e,r){j(e,r),super(e,e.rows,1),this.column=r}set(e,r,t){return this.matrix.set(e,this.column,t),this}get(e){return this.matrix.get(e,this.column)}}class Q extends W{constructor(e,r){z(e,r),super(e,e.rows,r.length),this.columnIndices=r}set(e,r,t){return this.matrix.set(e,this.columnIndices[r],t),this}get(e,r){return this.matrix.get(e,this.columnIndices[r])}}class st extends W{constructor(e){super(e,e.rows,e.columns)}set(e,r,t){return this.matrix.set(e,this.columns-r-1,t),this}get(e,r){return this.matrix.get(e,this.columns-r-1)}}class ft extends W{constructor(e){super(e,e.rows,e.columns)}set(e,r,t){return this.matrix.set(this.rows-e-1,r,t),this}get(e,r){return this.matrix.get(this.rows-e-1,r)}}class pt extends W{constructor(e,r){P(e,r),super(e,1,e.columns),this.row=r}set(e,r,t){return this.matrix.set(this.row,r,t),this}get(e,r){return this.matrix.get(this.row,r)}}class bt extends W{constructor(e,r){$(e,r),super(e,r.length,e.columns),this.rowIndices=r}set(e,r,t){return this.matrix.set(this.rowIndices[e],r,t),this}get(e,r){return this.matrix.get(this.rowIndices[e],r)}}class Et extends W{constructor(e,r,t){$(e,r),z(e,t),super(e,r.length,t.length),this.rowIndices=r,this.columnIndices=t}set(e,r,t){return this.matrix.set(this.rowIndices[e],this.columnIndices[r],t),this}get(e,r){return this.matrix.get(this.rowIndices[e],this.columnIndices[r])}}class $t extends W{constructor(e,r,t,n,u){O(e,r,t,n,u),super(e,t-r+1,u-n+1),this.startRow=r,this.startColumn=n}set(e,r,t){return this.matrix.set(this.startRow+e,this.startColumn+r,t),this}get(e,r){return this.matrix.get(this.startRow+e,this.startColumn+r)}}class Kt extends W{constructor(e){super(e,e.columns,e.rows)}set(e,r,t){return this.matrix.set(r,e,t),this}get(e,r){return this.matrix.get(r,e)}}class Lt extends q{constructor(e,r={}){const{rows:t=1}=r;if(e.length%t!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=t,this.columns=e.length/t,this.data=e}set(e,r,t){let n=this._calculateIndex(e,r);return this.data[n]=t,this}get(e,r){let t=this._calculateIndex(e,r);return this.data[t]}_calculateIndex(e,r){return e*this.columns+r}}class K extends q{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,r,t){return this.data[e][r]=t,this}get(e,r){return this.data[e][r]}}function te(m,e){if(o.isAnyArray(m))return m[0]&&o.isAnyArray(m[0])?new K(m):new Lt(m,e);throw new Error("the argument is not an array")}class Bt{constructor(e){e=K.checkMatrix(e);let r=e.clone(),t=r.rows,n=r.columns,u=new Float64Array(t),v=1,b,_,A,V,I,H,ut,J,rt;for(b=0;b<t;b++)u[b]=b;for(J=new Float64Array(t),_=0;_<n;_++){for(b=0;b<t;b++)J[b]=r.get(b,_);for(b=0;b<t;b++){for(rt=Math.min(b,_),I=0,A=0;A<rt;A++)I+=r.get(b,A)*J[A];J[b]-=I,r.set(b,_,J[b])}for(V=_,b=_+1;b<t;b++)Math.abs(J[b])>Math.abs(J[V])&&(V=b);if(V!==_){for(A=0;A<n;A++)H=r.get(V,A),r.set(V,A,r.get(_,A)),r.set(_,A,H);ut=u[V],u[V]=u[_],u[_]=ut,v=-v}if(_<t&&r.get(_,_)!==0)for(b=_+1;b<t;b++)r.set(b,_,r.get(b,_)/r.get(_,_))}this.LU=r,this.pivotVector=u,this.pivotSign=v}isSingular(){let e=this.LU,r=e.columns;for(let t=0;t<r;t++)if(e.get(t,t)===0)return!0;return!1}solve(e){e=E.checkMatrix(e);let r=this.LU;if(r.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n=e.columns,u=e.subMatrixRow(this.pivotVector,0,n-1),v=r.columns,b,_,A;for(A=0;A<v;A++)for(b=A+1;b<v;b++)for(_=0;_<n;_++)u.set(b,_,u.get(b,_)-u.get(A,_)*r.get(b,A));for(A=v-1;A>=0;A--){for(_=0;_<n;_++)u.set(A,_,u.get(A,_)/r.get(A,A));for(b=0;b<A;b++)for(_=0;_<n;_++)u.set(b,_,u.get(b,_)-u.get(A,_)*r.get(b,A))}return u}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let r=this.pivotSign,t=e.columns;for(let n=0;n<t;n++)r*=e.get(n,n);return r}get lowerTriangularMatrix(){let e=this.LU,r=e.rows,t=e.columns,n=new E(r,t);for(let u=0;u<r;u++)for(let v=0;v<t;v++)u>v?n.set(u,v,e.get(u,v)):u===v?n.set(u,v,1):n.set(u,v,0);return n}get upperTriangularMatrix(){let e=this.LU,r=e.rows,t=e.columns,n=new E(r,t);for(let u=0;u<r;u++)for(let v=0;v<t;v++)u<=v?n.set(u,v,e.get(u,v)):n.set(u,v,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Ut(m,e){let r=0;return Math.abs(m)>Math.abs(e)?(r=e/m,Math.abs(m)*Math.sqrt(1+r*r)):e!==0?(r=m/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class Ht{constructor(e){e=K.checkMatrix(e);let r=e.clone(),t=e.rows,n=e.columns,u=new Float64Array(n),v,b,_,A;for(_=0;_<n;_++){let V=0;for(v=_;v<t;v++)V=Ut(V,r.get(v,_));if(V!==0){for(r.get(_,_)<0&&(V=-V),v=_;v<t;v++)r.set(v,_,r.get(v,_)/V);for(r.set(_,_,r.get(_,_)+1),b=_+1;b<n;b++){for(A=0,v=_;v<t;v++)A+=r.get(v,_)*r.get(v,b);for(A=-A/r.get(_,_),v=_;v<t;v++)r.set(v,b,r.get(v,b)+A*r.get(v,_))}}u[_]=-V}this.QR=r,this.Rdiag=u}solve(e){e=E.checkMatrix(e);let r=this.QR,t=r.rows;if(e.rows!==t)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n=e.columns,u=e.clone(),v=r.columns,b,_,A,V;for(A=0;A<v;A++)for(_=0;_<n;_++){for(V=0,b=A;b<t;b++)V+=r.get(b,A)*u.get(b,_);for(V=-V/r.get(A,A),b=A;b<t;b++)u.set(b,_,u.get(b,_)+V*r.get(b,A))}for(A=v-1;A>=0;A--){for(_=0;_<n;_++)u.set(A,_,u.get(A,_)/this.Rdiag[A]);for(b=0;b<A;b++)for(_=0;_<n;_++)u.set(b,_,u.get(b,_)-u.get(A,_)*r.get(b,A))}return u.subMatrix(0,v-1,0,n-1)}isFullRank(){let e=this.QR.columns;for(let r=0;r<e;r++)if(this.Rdiag[r]===0)return!1;return!0}get upperTriangularMatrix(){let e=this.QR,r=e.columns,t=new E(r,r),n,u;for(n=0;n<r;n++)for(u=0;u<r;u++)n<u?t.set(n,u,e.get(n,u)):n===u?t.set(n,u,this.Rdiag[n]):t.set(n,u,0);return t}get orthogonalMatrix(){let e=this.QR,r=e.rows,t=e.columns,n=new E(r,t),u,v,b,_;for(b=t-1;b>=0;b--){for(u=0;u<r;u++)n.set(u,b,0);for(n.set(b,b,1),v=b;v<t;v++)if(e.get(b,b)!==0){for(_=0,u=b;u<r;u++)_+=e.get(u,b)*n.get(u,v);for(_=-_/e.get(b,b),u=b;u<r;u++)n.set(u,v,n.get(u,v)+_*e.get(u,b))}}return n}}class x{constructor(e,r={}){if(e=K.checkMatrix(e),e.isEmpty())throw new Error("Matrix must be non-empty");let t=e.rows,n=e.columns;const{computeLeftSingularVectors:u=!0,computeRightSingularVectors:v=!0,autoTranspose:b=!1}=r;let _=!!u,A=!!v,V=!1,I;if(t<n)if(!b)I=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{I=e.transpose(),t=I.rows,n=I.columns,V=!0;let B=_;_=A,A=B}else I=e.clone();let H=Math.min(t,n),ut=Math.min(t+1,n),J=new Float64Array(ut),rt=new E(t,H),gt=new E(n,n),N=new Float64Array(n),at=new Float64Array(t),yt=new Float64Array(ut);for(let B=0;B<ut;B++)yt[B]=B;let _t=Math.min(t-1,n),jt=Math.max(0,Math.min(n-2,t)),Gt=Math.max(_t,jt);for(let B=0;B<Gt;B++){if(B<_t){J[B]=0;for(let it=B;it<t;it++)J[B]=Ut(J[B],I.get(it,B));if(J[B]!==0){I.get(B,B)<0&&(J[B]=-J[B]);for(let it=B;it<t;it++)I.set(it,B,I.get(it,B)/J[B]);I.set(B,B,I.get(B,B)+1)}J[B]=-J[B]}for(let it=B+1;it<n;it++){if(B<_t&&J[B]!==0){let dt=0;for(let ot=B;ot<t;ot++)dt+=I.get(ot,B)*I.get(ot,it);dt=-dt/I.get(B,B);for(let ot=B;ot<t;ot++)I.set(ot,it,I.get(ot,it)+dt*I.get(ot,B))}N[it]=I.get(B,it)}if(_&&B<_t)for(let it=B;it<t;it++)rt.set(it,B,I.get(it,B));if(B<jt){N[B]=0;for(let it=B+1;it<n;it++)N[B]=Ut(N[B],N[it]);if(N[B]!==0){N[B+1]<0&&(N[B]=0-N[B]);for(let it=B+1;it<n;it++)N[it]/=N[B];N[B+1]+=1}if(N[B]=-N[B],B+1<t&&N[B]!==0){for(let it=B+1;it<t;it++)at[it]=0;for(let it=B+1;it<t;it++)for(let dt=B+1;dt<n;dt++)at[it]+=N[dt]*I.get(it,dt);for(let it=B+1;it<n;it++){let dt=-N[it]/N[B+1];for(let ot=B+1;ot<t;ot++)I.set(ot,it,I.get(ot,it)+dt*at[ot])}}if(A)for(let it=B+1;it<n;it++)gt.set(it,B,N[it])}}let St=Math.min(n,t+1);if(_t<n&&(J[_t]=I.get(_t,_t)),t<St&&(J[St-1]=0),jt+1<St&&(N[jt]=I.get(jt,St-1)),N[St-1]=0,_){for(let B=_t;B<H;B++){for(let it=0;it<t;it++)rt.set(it,B,0);rt.set(B,B,1)}for(let B=_t-1;B>=0;B--)if(J[B]!==0){for(let it=B+1;it<H;it++){let dt=0;for(let ot=B;ot<t;ot++)dt+=rt.get(ot,B)*rt.get(ot,it);dt=-dt/rt.get(B,B);for(let ot=B;ot<t;ot++)rt.set(ot,it,rt.get(ot,it)+dt*rt.get(ot,B))}for(let it=B;it<t;it++)rt.set(it,B,-rt.get(it,B));rt.set(B,B,1+rt.get(B,B));for(let it=0;it<B-1;it++)rt.set(it,B,0)}else{for(let it=0;it<t;it++)rt.set(it,B,0);rt.set(B,B,1)}}if(A)for(let B=n-1;B>=0;B--){if(B<jt&&N[B]!==0)for(let it=B+1;it<n;it++){let dt=0;for(let ot=B+1;ot<n;ot++)dt+=gt.get(ot,B)*gt.get(ot,it);dt=-dt/gt.get(B+1,B);for(let ot=B+1;ot<n;ot++)gt.set(ot,it,gt.get(ot,it)+dt*gt.get(ot,B))}for(let it=0;it<n;it++)gt.set(it,B,0);gt.set(B,B,1)}let Ot=St-1,Vt=Number.EPSILON;for(;St>0;){let B,it;for(B=St-2;B>=-1&&B!==-1;B--){const dt=Number.MIN_VALUE+Vt*Math.abs(J[B]+Math.abs(J[B+1]));if(Math.abs(N[B])<=dt||Number.isNaN(N[B])){N[B]=0;break}}if(B===St-2)it=4;else{let dt;for(dt=St-1;dt>=B&&dt!==B;dt--){let ot=(dt!==St?Math.abs(N[dt]):0)+(dt!==B+1?Math.abs(N[dt-1]):0);if(Math.abs(J[dt])<=Vt*ot){J[dt]=0;break}}dt===B?it=3:dt===St-1?it=1:(it=2,B=dt)}switch(B++,it){case 1:{let dt=N[St-2];N[St-2]=0;for(let ot=St-2;ot>=B;ot--){let zt=Ut(J[ot],dt),xt=J[ot]/zt,Wt=dt/zt;if(J[ot]=zt,ot!==B&&(dt=-Wt*N[ot-1],N[ot-1]=xt*N[ot-1]),A)for(let Jt=0;Jt<n;Jt++)zt=xt*gt.get(Jt,ot)+Wt*gt.get(Jt,St-1),gt.set(Jt,St-1,-Wt*gt.get(Jt,ot)+xt*gt.get(Jt,St-1)),gt.set(Jt,ot,zt)}break}case 2:{let dt=N[B-1];N[B-1]=0;for(let ot=B;ot<St;ot++){let zt=Ut(J[ot],dt),xt=J[ot]/zt,Wt=dt/zt;if(J[ot]=zt,dt=-Wt*N[ot],N[ot]=xt*N[ot],_)for(let Jt=0;Jt<t;Jt++)zt=xt*rt.get(Jt,ot)+Wt*rt.get(Jt,B-1),rt.set(Jt,B-1,-Wt*rt.get(Jt,ot)+xt*rt.get(Jt,B-1)),rt.set(Jt,ot,zt)}break}case 3:{const dt=Math.max(Math.abs(J[St-1]),Math.abs(J[St-2]),Math.abs(N[St-2]),Math.abs(J[B]),Math.abs(N[B])),ot=J[St-1]/dt,zt=J[St-2]/dt,xt=N[St-2]/dt,Wt=J[B]/dt,Jt=N[B]/dt,re=((zt+ot)*(zt-ot)+xt*xt)/2,fe=ot*xt*(ot*xt);let Xt=0;(re!==0||fe!==0)&&(re<0?Xt=0-Math.sqrt(re*re+fe):Xt=Math.sqrt(re*re+fe),Xt=fe/(re+Xt));let pe=(Wt+ot)*(Wt-ot)+Xt,ge=Wt*Jt;for(let Ct=B;Ct<St-1;Ct++){let ne=Ut(pe,ge);ne===0&&(ne=Number.MIN_VALUE);let se=pe/ne,ae=ge/ne;if(Ct!==B&&(N[Ct-1]=ne),pe=se*J[Ct]+ae*N[Ct],N[Ct]=se*N[Ct]-ae*J[Ct],ge=ae*J[Ct+1],J[Ct+1]=se*J[Ct+1],A)for(let Zt=0;Zt<n;Zt++)ne=se*gt.get(Zt,Ct)+ae*gt.get(Zt,Ct+1),gt.set(Zt,Ct+1,-ae*gt.get(Zt,Ct)+se*gt.get(Zt,Ct+1)),gt.set(Zt,Ct,ne);if(ne=Ut(pe,ge),ne===0&&(ne=Number.MIN_VALUE),se=pe/ne,ae=ge/ne,J[Ct]=ne,pe=se*N[Ct]+ae*J[Ct+1],J[Ct+1]=-ae*N[Ct]+se*J[Ct+1],ge=ae*N[Ct+1],N[Ct+1]=se*N[Ct+1],_&&Ct<t-1)for(let Zt=0;Zt<t;Zt++)ne=se*rt.get(Zt,Ct)+ae*rt.get(Zt,Ct+1),rt.set(Zt,Ct+1,-ae*rt.get(Zt,Ct)+se*rt.get(Zt,Ct+1)),rt.set(Zt,Ct,ne)}N[St-2]=pe;break}case 4:{if(J[B]<=0&&(J[B]=J[B]<0?-J[B]:0,A))for(let dt=0;dt<=Ot;dt++)gt.set(dt,B,-gt.get(dt,B));for(;B<Ot&&!(J[B]>=J[B+1]);){let dt=J[B];if(J[B]=J[B+1],J[B+1]=dt,A&&B<n-1)for(let ot=0;ot<n;ot++)dt=gt.get(ot,B+1),gt.set(ot,B+1,gt.get(ot,B)),gt.set(ot,B,dt);if(_&&B<t-1)for(let ot=0;ot<t;ot++)dt=rt.get(ot,B+1),rt.set(ot,B+1,rt.get(ot,B)),rt.set(ot,B,dt);B++}St--;break}}}if(V){let B=gt;gt=rt,rt=B}this.m=t,this.n=n,this.s=J,this.U=rt,this.V=gt}solve(e){let r=e,t=this.threshold,n=this.s.length,u=E.zeros(n,n);for(let H=0;H<n;H++)Math.abs(this.s[H])<=t?u.set(H,H,0):u.set(H,H,1/this.s[H]);let v=this.U,b=this.rightSingularVectors,_=b.mmul(u),A=b.rows,V=v.rows,I=E.zeros(A,V);for(let H=0;H<A;H++)for(let ut=0;ut<V;ut++){let J=0;for(let rt=0;rt<n;rt++)J+=_.get(H,rt)*v.get(ut,rt);I.set(H,ut,J)}return I.mmul(r)}solveForDiagonal(e){return this.solve(E.diag(e))}inverse(){let e=this.V,r=this.threshold,t=e.rows,n=e.columns,u=new E(t,this.s.length);for(let V=0;V<t;V++)for(let I=0;I<n;I++)Math.abs(this.s[I])>r&&u.set(V,I,e.get(V,I)/this.s[I]);let v=this.U,b=v.rows,_=v.columns,A=new E(t,b);for(let V=0;V<t;V++)for(let I=0;I<b;I++){let H=0;for(let ut=0;ut<_;ut++)H+=u.get(V,ut)*v.get(I,ut);A.set(V,I,H)}return A}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,t=this.s;for(let n=0,u=t.length;n<u;n++)t[n]>e&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return E.diag(this.s)}}function G(m,e=!1){return m=K.checkMatrix(m),e?new x(m).inverse():ht(m,E.eye(m.rows))}function ht(m,e,r=!1){return m=K.checkMatrix(m),e=K.checkMatrix(e),r?new x(m).solve(e):m.isSquare()?new Bt(m).solve(e):new Ht(m).solve(e)}function wt(m){if(m=E.checkMatrix(m),m.isSquare()){if(m.columns===0)return 1;let e,r,t,n;if(m.columns===2)return e=m.get(0,0),r=m.get(0,1),t=m.get(1,0),n=m.get(1,1),e*n-r*t;if(m.columns===3){let u,v,b;return u=new Et(m,[1,2],[1,2]),v=new Et(m,[1,2],[0,2]),b=new Et(m,[1,2],[0,1]),e=m.get(0,0),r=m.get(0,1),t=m.get(0,2),e*wt(u)-r*wt(v)+t*wt(b)}else return new Bt(m).determinant}else throw Error("determinant can only be calculated for a square matrix")}function vt(m,e){let r=[];for(let t=0;t<m;t++)t!==e&&r.push(t);return r}function Rt(m,e,r,t=1e-9,n=1e-9){if(m>n)return new Array(e.rows+1).fill(0);{let u=e.addRow(r,[0]);for(let v=0;v<u.rows;v++)Math.abs(u.get(v,0))<t&&u.set(v,0,0);return u.to1DArray()}}function At(m,e={}){const{thresholdValue:r=1e-9,thresholdError:t=1e-9}=e;m=E.checkMatrix(m);let n=m.rows,u=new E(n,n);for(let v=0;v<n;v++){let b=E.columnVector(m.getRow(v)),_=m.subMatrixRow(vt(n,v)).transpose(),V=new x(_).solve(b),I=E.sub(b,_.mmul(V)).abs().max();u.setRow(v,Rt(I,V,v,r,t))}return u}function qt(m,e=Number.EPSILON){if(m=E.checkMatrix(m),m.isEmpty())return m.transpose();let r=new x(m,{autoTranspose:!0}),t=r.leftSingularVectors,n=r.rightSingularVectors,u=r.diagonal;for(let v=0;v<u.length;v++)Math.abs(u[v])>e?u[v]=1/u[v]:u[v]=0;return n.mmul(E.diag(u).mmul(t.transpose()))}function Mt(m,e=m,r={}){m=new E(m);let t=!1;if(typeof e=="object"&&!E.isMatrix(e)&&!o.isAnyArray(e)?(r=e,e=m,t=!0):e=new E(e),m.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:n=!0}=r;n&&(m=m.center("column"),t||(e=e.center("column")));const u=m.transpose().mmul(e);for(let v=0;v<u.rows;v++)for(let b=0;b<u.columns;b++)u.set(v,b,u.get(v,b)*(1/(m.rows-1)));return u}function Qt(m,e=m,r={}){m=new E(m);let t=!1;if(typeof e=="object"&&!E.isMatrix(e)&&!o.isAnyArray(e)?(r=e,e=m,t=!0):e=new E(e),m.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:n=!0,scale:u=!0}=r;n&&(m.center("column"),t||e.center("column")),u&&(m.scale("column"),t||e.scale("column"));const v=m.standardDeviation("column",{unbiased:!0}),b=t?v:e.standardDeviation("column",{unbiased:!0}),_=m.transpose().mmul(e);for(let A=0;A<_.rows;A++)for(let V=0;V<_.columns;V++)_.set(A,V,_.get(A,V)*(1/(v[A]*b[V]))*(1/(m.rows-1)));return _}class ee{constructor(e,r={}){const{assumeSymmetric:t=!1}=r;if(e=K.checkMatrix(e),!e.isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let n=e.columns,u=new E(n,n),v=new Float64Array(n),b=new Float64Array(n),_=e,A,V,I=!1;if(t?I=!0:I=e.isSymmetric(),I){for(A=0;A<n;A++)for(V=0;V<n;V++)u.set(A,V,_.get(A,V));we(n,b,v,u),ye(n,b,v,u)}else{let H=new E(n,n),ut=new Float64Array(n);for(V=0;V<n;V++)for(A=0;A<n;A++)H.set(A,V,_.get(A,V));ve(n,H,ut,u),le(n,b,v,u,H)}this.n=n,this.e=b,this.d=v,this.V=u}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e=this.n,r=this.e,t=this.d,n=new E(e,e),u,v;for(u=0;u<e;u++){for(v=0;v<e;v++)n.set(u,v,0);n.set(u,u,t[u]),r[u]>0?n.set(u,u+1,r[u]):r[u]<0&&n.set(u,u-1,r[u])}return n}}function we(m,e,r,t){let n,u,v,b,_,A,V,I;for(_=0;_<m;_++)r[_]=t.get(m-1,_);for(b=m-1;b>0;b--){for(I=0,v=0,A=0;A<b;A++)I=I+Math.abs(r[A]);if(I===0)for(e[b]=r[b-1],_=0;_<b;_++)r[_]=t.get(b-1,_),t.set(b,_,0),t.set(_,b,0);else{for(A=0;A<b;A++)r[A]/=I,v+=r[A]*r[A];for(n=r[b-1],u=Math.sqrt(v),n>0&&(u=-u),e[b]=I*u,v=v-n*u,r[b-1]=n-u,_=0;_<b;_++)e[_]=0;for(_=0;_<b;_++){for(n=r[_],t.set(_,b,n),u=e[_]+t.get(_,_)*n,A=_+1;A<=b-1;A++)u+=t.get(A,_)*r[A],e[A]+=t.get(A,_)*n;e[_]=u}for(n=0,_=0;_<b;_++)e[_]/=v,n+=e[_]*r[_];for(V=n/(v+v),_=0;_<b;_++)e[_]-=V*r[_];for(_=0;_<b;_++){for(n=r[_],u=e[_],A=_;A<=b-1;A++)t.set(A,_,t.get(A,_)-(n*e[A]+u*r[A]));r[_]=t.get(b-1,_),t.set(b,_,0)}}r[b]=v}for(b=0;b<m-1;b++){if(t.set(m-1,b,t.get(b,b)),t.set(b,b,1),v=r[b+1],v!==0){for(A=0;A<=b;A++)r[A]=t.get(A,b+1)/v;for(_=0;_<=b;_++){for(u=0,A=0;A<=b;A++)u+=t.get(A,b+1)*t.get(A,_);for(A=0;A<=b;A++)t.set(A,_,t.get(A,_)-u*r[A])}}for(A=0;A<=b;A++)t.set(A,b+1,0)}for(_=0;_<m;_++)r[_]=t.get(m-1,_),t.set(m-1,_,0);t.set(m-1,m-1,1),e[0]=0}function ye(m,e,r,t){let n,u,v,b,_,A,V,I,H,ut,J,rt,gt,N,at,yt;for(v=1;v<m;v++)e[v-1]=e[v];e[m-1]=0;let _t=0,jt=0,Gt=Number.EPSILON;for(A=0;A<m;A++){for(jt=Math.max(jt,Math.abs(r[A])+Math.abs(e[A])),V=A;V<m&&!(Math.abs(e[V])<=Gt*jt);)V++;if(V>A)do{for(n=r[A],I=(r[A+1]-n)/(2*e[A]),H=Ut(I,1),I<0&&(H=-H),r[A]=e[A]/(I+H),r[A+1]=e[A]*(I+H),ut=r[A+1],u=n-r[A],v=A+2;v<m;v++)r[v]-=u;for(_t=_t+u,I=r[V],J=1,rt=J,gt=J,N=e[A+1],at=0,yt=0,v=V-1;v>=A;v--)for(gt=rt,rt=J,yt=at,n=J*e[v],u=J*I,H=Ut(I,e[v]),e[v+1]=at*H,at=e[v]/H,J=I/H,I=J*r[v]-at*n,r[v+1]=u+at*(J*n+at*r[v]),_=0;_<m;_++)u=t.get(_,v+1),t.set(_,v+1,at*t.get(_,v)+J*u),t.set(_,v,J*t.get(_,v)-at*u);I=-at*yt*gt*N*e[A]/ut,e[A]=at*I,r[A]=J*I}while(Math.abs(e[A])>Gt*jt);r[A]=r[A]+_t,e[A]=0}for(v=0;v<m-1;v++){for(_=v,I=r[v],b=v+1;b<m;b++)r[b]<I&&(_=b,I=r[b]);if(_!==v)for(r[_]=r[v],r[v]=I,b=0;b<m;b++)I=t.get(b,v),t.set(b,v,t.get(b,_)),t.set(b,_,I)}}function ve(m,e,r,t){let n=0,u=m-1,v,b,_,A,V,I,H;for(I=n+1;I<=u-1;I++){for(H=0,A=I;A<=u;A++)H=H+Math.abs(e.get(A,I-1));if(H!==0){for(_=0,A=u;A>=I;A--)r[A]=e.get(A,I-1)/H,_+=r[A]*r[A];for(b=Math.sqrt(_),r[I]>0&&(b=-b),_=_-r[I]*b,r[I]=r[I]-b,V=I;V<m;V++){for(v=0,A=u;A>=I;A--)v+=r[A]*e.get(A,V);for(v=v/_,A=I;A<=u;A++)e.set(A,V,e.get(A,V)-v*r[A])}for(A=0;A<=u;A++){for(v=0,V=u;V>=I;V--)v+=r[V]*e.get(A,V);for(v=v/_,V=I;V<=u;V++)e.set(A,V,e.get(A,V)-v*r[V])}r[I]=H*r[I],e.set(I,I-1,H*b)}}for(A=0;A<m;A++)for(V=0;V<m;V++)t.set(A,V,A===V?1:0);for(I=u-1;I>=n+1;I--)if(e.get(I,I-1)!==0){for(A=I+1;A<=u;A++)r[A]=e.get(A,I-1);for(V=I;V<=u;V++){for(b=0,A=I;A<=u;A++)b+=r[A]*t.get(A,V);for(b=b/r[I]/e.get(I,I-1),A=I;A<=u;A++)t.set(A,V,t.get(A,V)+b*r[A])}}}function le(m,e,r,t,n){let u=m-1,v=0,b=m-1,_=Number.EPSILON,A=0,V=0,I=0,H=0,ut=0,J=0,rt=0,gt=0,N,at,yt,_t,jt,Gt,St,Ot,Vt,B,it,dt,ot,zt,xt;for(N=0;N<m;N++)for((N<v||N>b)&&(r[N]=n.get(N,N),e[N]=0),at=Math.max(N-1,0);at<m;at++)V=V+Math.abs(n.get(N,at));for(;u>=v;){for(_t=u;_t>v&&(J=Math.abs(n.get(_t-1,_t-1))+Math.abs(n.get(_t,_t)),J===0&&(J=V),!(Math.abs(n.get(_t,_t-1))<_*J));)_t--;if(_t===u)n.set(u,u,n.get(u,u)+A),r[u]=n.get(u,u),e[u]=0,u--,gt=0;else if(_t===u-1){if(St=n.get(u,u-1)*n.get(u-1,u),I=(n.get(u-1,u-1)-n.get(u,u))/2,H=I*I+St,rt=Math.sqrt(Math.abs(H)),n.set(u,u,n.get(u,u)+A),n.set(u-1,u-1,n.get(u-1,u-1)+A),Ot=n.get(u,u),H>=0){for(rt=I>=0?I+rt:I-rt,r[u-1]=Ot+rt,r[u]=r[u-1],rt!==0&&(r[u]=Ot-St/rt),e[u-1]=0,e[u]=0,Ot=n.get(u,u-1),J=Math.abs(Ot)+Math.abs(rt),I=Ot/J,H=rt/J,ut=Math.sqrt(I*I+H*H),I=I/ut,H=H/ut,at=u-1;at<m;at++)rt=n.get(u-1,at),n.set(u-1,at,H*rt+I*n.get(u,at)),n.set(u,at,H*n.get(u,at)-I*rt);for(N=0;N<=u;N++)rt=n.get(N,u-1),n.set(N,u-1,H*rt+I*n.get(N,u)),n.set(N,u,H*n.get(N,u)-I*rt);for(N=v;N<=b;N++)rt=t.get(N,u-1),t.set(N,u-1,H*rt+I*t.get(N,u)),t.set(N,u,H*t.get(N,u)-I*rt)}else r[u-1]=Ot+I,r[u]=Ot+I,e[u-1]=rt,e[u]=-rt;u=u-2,gt=0}else{if(Ot=n.get(u,u),Vt=0,St=0,_t<u&&(Vt=n.get(u-1,u-1),St=n.get(u,u-1)*n.get(u-1,u)),gt===10){for(A+=Ot,N=v;N<=u;N++)n.set(N,N,n.get(N,N)-Ot);J=Math.abs(n.get(u,u-1))+Math.abs(n.get(u-1,u-2)),Ot=Vt=.75*J,St=-.4375*J*J}if(gt===30&&(J=(Vt-Ot)/2,J=J*J+St,J>0)){for(J=Math.sqrt(J),Vt<Ot&&(J=-J),J=Ot-St/((Vt-Ot)/2+J),N=v;N<=u;N++)n.set(N,N,n.get(N,N)-J);A+=J,Ot=Vt=St=.964}for(gt=gt+1,jt=u-2;jt>=_t&&(rt=n.get(jt,jt),ut=Ot-rt,J=Vt-rt,I=(ut*J-St)/n.get(jt+1,jt)+n.get(jt,jt+1),H=n.get(jt+1,jt+1)-rt-ut-J,ut=n.get(jt+2,jt+1),J=Math.abs(I)+Math.abs(H)+Math.abs(ut),I=I/J,H=H/J,ut=ut/J,!(jt===_t||Math.abs(n.get(jt,jt-1))*(Math.abs(H)+Math.abs(ut))<_*(Math.abs(I)*(Math.abs(n.get(jt-1,jt-1))+Math.abs(rt)+Math.abs(n.get(jt+1,jt+1))))));)jt--;for(N=jt+2;N<=u;N++)n.set(N,N-2,0),N>jt+2&&n.set(N,N-3,0);for(yt=jt;yt<=u-1&&(zt=yt!==u-1,yt!==jt&&(I=n.get(yt,yt-1),H=n.get(yt+1,yt-1),ut=zt?n.get(yt+2,yt-1):0,Ot=Math.abs(I)+Math.abs(H)+Math.abs(ut),Ot!==0&&(I=I/Ot,H=H/Ot,ut=ut/Ot)),Ot!==0);yt++)if(J=Math.sqrt(I*I+H*H+ut*ut),I<0&&(J=-J),J!==0){for(yt!==jt?n.set(yt,yt-1,-J*Ot):_t!==jt&&n.set(yt,yt-1,-n.get(yt,yt-1)),I=I+J,Ot=I/J,Vt=H/J,rt=ut/J,H=H/I,ut=ut/I,at=yt;at<m;at++)I=n.get(yt,at)+H*n.get(yt+1,at),zt&&(I=I+ut*n.get(yt+2,at),n.set(yt+2,at,n.get(yt+2,at)-I*rt)),n.set(yt,at,n.get(yt,at)-I*Ot),n.set(yt+1,at,n.get(yt+1,at)-I*Vt);for(N=0;N<=Math.min(u,yt+3);N++)I=Ot*n.get(N,yt)+Vt*n.get(N,yt+1),zt&&(I=I+rt*n.get(N,yt+2),n.set(N,yt+2,n.get(N,yt+2)-I*ut)),n.set(N,yt,n.get(N,yt)-I),n.set(N,yt+1,n.get(N,yt+1)-I*H);for(N=v;N<=b;N++)I=Ot*t.get(N,yt)+Vt*t.get(N,yt+1),zt&&(I=I+rt*t.get(N,yt+2),t.set(N,yt+2,t.get(N,yt+2)-I*ut)),t.set(N,yt,t.get(N,yt)-I),t.set(N,yt+1,t.get(N,yt+1)-I*H)}}}if(V!==0){for(u=m-1;u>=0;u--)if(I=r[u],H=e[u],H===0)for(_t=u,n.set(u,u,1),N=u-1;N>=0;N--){for(St=n.get(N,N)-I,ut=0,at=_t;at<=u;at++)ut=ut+n.get(N,at)*n.get(at,u);if(e[N]<0)rt=St,J=ut;else if(_t=N,e[N]===0?n.set(N,u,St!==0?-ut/St:-ut/(_*V)):(Ot=n.get(N,N+1),Vt=n.get(N+1,N),H=(r[N]-I)*(r[N]-I)+e[N]*e[N],Gt=(Ot*J-rt*ut)/H,n.set(N,u,Gt),n.set(N+1,u,Math.abs(Ot)>Math.abs(rt)?(-ut-St*Gt)/Ot:(-J-Vt*Gt)/rt)),Gt=Math.abs(n.get(N,u)),_*Gt*Gt>1)for(at=N;at<=u;at++)n.set(at,u,n.get(at,u)/Gt)}else if(H<0)for(_t=u-1,Math.abs(n.get(u,u-1))>Math.abs(n.get(u-1,u))?(n.set(u-1,u-1,H/n.get(u,u-1)),n.set(u-1,u,-(n.get(u,u)-I)/n.get(u,u-1))):(xt=he(0,-n.get(u-1,u),n.get(u-1,u-1)-I,H),n.set(u-1,u-1,xt[0]),n.set(u-1,u,xt[1])),n.set(u,u-1,0),n.set(u,u,1),N=u-2;N>=0;N--){for(B=0,it=0,at=_t;at<=u;at++)B=B+n.get(N,at)*n.get(at,u-1),it=it+n.get(N,at)*n.get(at,u);if(St=n.get(N,N)-I,e[N]<0)rt=St,ut=B,J=it;else if(_t=N,e[N]===0?(xt=he(-B,-it,St,H),n.set(N,u-1,xt[0]),n.set(N,u,xt[1])):(Ot=n.get(N,N+1),Vt=n.get(N+1,N),dt=(r[N]-I)*(r[N]-I)+e[N]*e[N]-H*H,ot=(r[N]-I)*2*H,dt===0&&ot===0&&(dt=_*V*(Math.abs(St)+Math.abs(H)+Math.abs(Ot)+Math.abs(Vt)+Math.abs(rt))),xt=he(Ot*ut-rt*B+H*it,Ot*J-rt*it-H*B,dt,ot),n.set(N,u-1,xt[0]),n.set(N,u,xt[1]),Math.abs(Ot)>Math.abs(rt)+Math.abs(H)?(n.set(N+1,u-1,(-B-St*n.get(N,u-1)+H*n.get(N,u))/Ot),n.set(N+1,u,(-it-St*n.get(N,u)-H*n.get(N,u-1))/Ot)):(xt=he(-ut-Vt*n.get(N,u-1),-J-Vt*n.get(N,u),rt,H),n.set(N+1,u-1,xt[0]),n.set(N+1,u,xt[1]))),Gt=Math.max(Math.abs(n.get(N,u-1)),Math.abs(n.get(N,u))),_*Gt*Gt>1)for(at=N;at<=u;at++)n.set(at,u-1,n.get(at,u-1)/Gt),n.set(at,u,n.get(at,u)/Gt)}for(N=0;N<m;N++)if(N<v||N>b)for(at=N;at<m;at++)t.set(N,at,n.get(N,at));for(at=m-1;at>=v;at--)for(N=v;N<=b;N++){for(rt=0,yt=v;yt<=Math.min(at,b);yt++)rt=rt+t.get(N,yt)*n.get(yt,at);t.set(N,at,rt)}}}function he(m,e,r,t){let n,u;return Math.abs(r)>Math.abs(t)?(n=t/r,u=r+n*t,[(m+n*e)/u,(e-n*m)/u]):(n=r/t,u=t+n*r,[(n*m+e)/u,(n*e-m)/u])}class _i{constructor(e){if(e=K.checkMatrix(e),!e.isSymmetric())throw new Error("Matrix is not symmetric");let r=e,t=r.rows,n=new E(t,t),u=!0,v,b,_;for(b=0;b<t;b++){let A=0;for(_=0;_<b;_++){let V=0;for(v=0;v<_;v++)V+=n.get(_,v)*n.get(b,v);V=(r.get(b,_)-V)/n.get(_,_),n.set(b,_,V),A=A+V*V}for(A=r.get(b,b)-A,u&&=A>0,n.set(b,b,Math.sqrt(Math.max(A,0))),_=b+1;_<t;_++)n.set(b,_,0)}this.L=n,this.positiveDefinite=u}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=K.checkMatrix(e);let r=this.L,t=r.rows;if(e.rows!==t)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let n=e.columns,u=e.clone(),v,b,_;for(_=0;_<t;_++)for(b=0;b<n;b++){for(v=0;v<_;v++)u.set(_,b,u.get(_,b)-u.get(v,b)*r.get(_,v));u.set(_,b,u.get(_,b)/r.get(_,_))}for(_=t-1;_>=0;_--)for(b=0;b<n;b++){for(v=_+1;v<t;v++)u.set(_,b,u.get(_,b)-u.get(v,b)*r.get(v,_));u.set(_,b,u.get(_,b)/r.get(_,_))}return u}get lowerTriangularMatrix(){return this.L}}class Ai{constructor(e,r={}){e=K.checkMatrix(e);let{Y:t}=r;const{scaleScores:n=!1,maxIterations:u=1e3,terminationCriteria:v=1e-10}=r;let b;if(t){if(o.isAnyArray(t)&&typeof t[0]=="number"?t=E.columnVector(t):t=K.checkMatrix(t),t.rows!==e.rows)throw new Error("Y should have the same number of rows as X");b=t.getColumnVector(0)}else b=e.getColumnVector(0);let _=1,A,V,I,H;for(let ut=0;ut<u&&_>v;ut++)I=e.transpose().mmul(b).div(b.transpose().mmul(b).get(0,0)),I=I.div(I.norm()),A=e.mmul(I).div(I.transpose().mmul(I).get(0,0)),ut>0&&(_=A.clone().sub(H).pow(2).sum()),H=A.clone(),t?(V=t.transpose().mmul(A).div(A.transpose().mmul(A).get(0,0)),V=V.div(V.norm()),b=t.mmul(V).div(V.transpose().mmul(V).get(0,0))):b=A;if(t){let ut=e.transpose().mmul(A).div(A.transpose().mmul(A).get(0,0));ut=ut.div(ut.norm());let J=e.clone().sub(A.clone().mmul(ut.transpose())),rt=b.transpose().mmul(A).div(A.transpose().mmul(A).get(0,0)),gt=t.clone().sub(A.clone().mulS(rt.get(0,0)).mmul(V.transpose()));this.t=A,this.p=ut.transpose(),this.w=I.transpose(),this.q=V,this.u=b,this.s=A.transpose().mmul(A),this.xResidual=J,this.yResidual=gt,this.betas=rt}else this.w=I.transpose(),this.s=A.transpose().mmul(A).sqrt(),n?this.t=A.clone().div(this.s.get(0,0)):this.t=A,this.xResidual=e.sub(A.mmul(I.transpose()))}}return Tt.AbstractMatrix=q,Tt.CHO=_i,Tt.CholeskyDecomposition=_i,Tt.DistanceMatrix=U,Tt.EVD=ee,Tt.EigenvalueDecomposition=ee,Tt.LU=Bt,Tt.LuDecomposition=Bt,Tt.Matrix=E,Tt.MatrixColumnSelectionView=Q,Tt.MatrixColumnView=Y,Tt.MatrixFlipColumnView=st,Tt.MatrixFlipRowView=ft,Tt.MatrixRowSelectionView=bt,Tt.MatrixRowView=pt,Tt.MatrixSelectionView=Et,Tt.MatrixSubView=$t,Tt.MatrixTransposeView=Kt,Tt.NIPALS=Ai,Tt.Nipals=Ai,Tt.QR=Ht,Tt.QrDecomposition=Ht,Tt.SVD=x,Tt.SingularValueDecomposition=x,Tt.SymmetricMatrix=D,Tt.WrapperMatrix1D=Lt,Tt.WrapperMatrix2D=K,Tt.correlation=Qt,Tt.covariance=Mt,Tt.default=E,Tt.determinant=wt,Tt.inverse=G,Tt.linearDependencies=At,Tt.pseudoInverse=qt,Tt.solve=ht,Tt.wrap=te,Tt}var Ne=Bc();const $s=ci(Ne),xc=Ne.EigenvalueDecomposition,Ye=Ne.Matrix,Vc=Ne.covariance;$s.Matrix?$s.Matrix:Ne.Matrix;class Oe{instanceId="AgentManagerInstance";static instance;agents=new Ye([]);constructor(a){this.agents=a instanceof Ye?a:new Ye(a)}static getInstance(a){return Oe.instance||(Oe.instance=new Oe(a)),Oe.instance}getCovarianceMatrix(){return Vc(this.agents.transpose())}setAgentData(a,f){this.agents.setRow(a,f)}getAgentData(a){return this.agents.getRow(a)}getAllAgentsData(){return this.agents.to2DArray()}streamlineAgentAnalysis(){return this.getCovarianceMatrix()}addAgent(a){this.agents.addRow(a)}removeAgent(a){this.agents.removeRow(a)}getAgentCount(){return this.agents.rows}getAgentMean(a){const f=this.agents.getRow(a);return f.reduce((s,i)=>s+i,0)/f.length}getAgentVariance(a){const f=this.agents.getRow(a),s=this.getAgentMean(a);return f.reduce((i,h)=>i+Math.pow(h-s,2),0)/f.length}getCorrelationMatrix(){const a=this.agents.rows,f=Ye.zeros(a,a);for(let s=0;s<a;s++)for(let i=0;i<a;i++){const h=this.agents.getRow(s),l=this.agents.getRow(i),d=this.getAgentMean(s),w=this.getAgentMean(i),F=h.reduce((j,T,M)=>j+(T-d)*(l[M]-w),0),P=Math.sqrt(h.reduce((j,T)=>j+Math.pow(T-d,2),0)*l.reduce((j,T)=>j+Math.pow(T-w,2),0));f.set(s,i,P===0?0:F/P)}return f}}const Bs="symmetric";function Ra(o,a,f=!1){if(o.length===0)throw new Error("Cannot determine symmetric padding for data of zero length.");const s=Math.floor(a/o.length);return(f?s:s+1)%2===0?o[a%o.length]:o[o.length-1-a%o.length]}const xs="antisymmetric";function Lc(o,a,f=!1){return(Math.floor(a/o.length)%2===0?-1:1)*Ra(o,a,f)}const Vs="constant";function Wc(o,a=!1){if(o.length===0)throw new Error("Cannot determine constant padding for data of zero length.");return a?o[0]:o[o.length-1]}const Ls="periodic";function Uc(o,a,f=!1){if(o.length===0)throw new Error("Cannot determine periodic padding for data of zero length.");return f?o[o.length-1-a%o.length]:o[a%o.length]}const Ws="reflect";function Gc(o,a,f=!1){if(o.length===0)throw new Error("Cannot determine reflect padding for data of zero length.");if(o.length===1)return o[0];const s=Math.floor(a/(o.length-1));return(f?s:s+1)%2===0?o[a%(o.length-1)+1]:o[o.length-2-a%(o.length-1)]}const Us="smooth";function zc(o,a,f=!1){if(o.length===0)throw new Error("Cannot determine smooth padding for data of zero length.");const s=o.length-1,i=f?o[0]:o[s],h=f?o.length===1?o[0]:o[0]-o[1]:o.length===1?-o[0]:o[s]-o[s-1];return i+(a+1)*h}const Gs="zero";function Jc(){return 0}const de={antisymmetric:xs,constant:Vs,periodic:Ls,reflect:Ws,smooth:Us,symmetric:Bs,zero:Gs,modes:[Gs,Vs,Bs,Ls,Us,Ws,xs]},oi=[1/Math.SQRT2,1/Math.SQRT2],zs=[(1+Math.sqrt(3))/(4*Math.SQRT2),(3+Math.sqrt(3))/(4*Math.SQRT2),(3-Math.sqrt(3))/(4*Math.SQRT2),(1-Math.sqrt(3))/(4*Math.SQRT2)],Js=[.33267055295008263,.8068915093110925,.45987750211849154,-.13501102001025458,-.08544127388202666,.03522629188570953],Ys=[.2303778133088965,.7148465705529157,.6308807679298589,-.027983769416859854,-.18703481171909309,.030841381835560764,.0328830116668852,-.010597401785069032],Qs=[.16010239797419293,.6038292697971896,.7243085284377729,.13842814590132074,-.24229488706638203,-.032244869584638375,.07757149384004572,-.006241490212798274,-.012580751999081999,.0033357252854737712],Ks=[.11154074335010947,.49462389039845306,.7511339080210954,.31525035170919763,-.22626469396543983,-.12976686756726194,.09750160558732304,.027522865530305727,-.03158203931748603,.0005538422011614961,.004777257510945511,-.0010773010853084796],Hs=[.07785205408500918,.3965393194819173,.7291320908462351,.4697822874051931,-.14390600392856498,-.22403618499387498,.07130921926683026,.08061260915108308,-.03802993693501441,-.01657454163066688,.01255099855609984,.0004295779729213665,-.0018016407040474908,.00035371379997452024],Xs=[.05441584224310401,.31287159091429995,.6756307362972898,.5853546836542067,-.015829105256349306,-.2840155429615469,.0004724845739132828,.12874742662047847,-.017369301001807547,-.044088253930794755,.013981027917398282,.008746094047405777,-.004870352993451574,-.00039174037337694705,.0006754494064505693,-.00011747678412476953],Zs=[.038077947363878345,.24383467461259034,.6048231236901112,.6572880780513005,.13319738582500756,-.2932737832791749,-.09684078322297646,.14854074933810638,.03072568147933338,-.06763282906132997,.00025094711483145197,.022361662123679096,-.004723204757751397,-.00428150368246343,.0018476468830562265,.00023038576352319597,-.0002519631889427101,393473203162716e-19],ta=[.026670057900555554,.1881768000776915,.5272011889317256,.6884590394536035,.2811723436605775,-.24984642432731538,-.19594627437737705,.12736934033579325,.09305736460357235,-.07139414716639708,-.029457536821875813,.033212674059341,.0036065535669561697,-.010733175483330575,.001395351747052901,.001992405295185056,-.0006858566949597116,-.00011646685512928545,9358867032006959e-20,-13264202894521244e-21],Yc={db1:oi,db2:zs,db3:Js,db4:Ys,db5:Qs,db6:Ks,db7:Hs,db8:Xs,db9:Zs,db10:ta,D2:oi,D4:zs,D6:Js,D8:Ys,D10:Qs,D12:Ks,D14:Hs,D16:Xs,D18:Zs,D20:ta,haar:oi};function ea(o,a){if(o.length!==a.length)throw new Error("Both arrays have to have the same length.");return o.map((f,s)=>f+a[s])}function Qc(o,a){if(o.length!==a.length)throw new Error("Approximation and detail coefficients must have equal length.");if(o.length===0)throw new Error("Approximation and detail coefficients must not have zero length.");return!0}function Kc(o){if(o.length<1)throw new Error("Invalid coefficients. Array length must not be zero.");return!0}function ra(o){if(o.high.length!==o.low.length)throw new Error("High-pass and low-pass filters have to have equal length.");if(o.low.length<2)throw new Error("Wavelet filter length has to be larger than or equal to two.");return!0}function Qe(o){return typeof o!="string"?o:Xc(Yc[o])}function Pe(o,a=0){if(!Number.isInteger(o))throw new Error("Length has to be an integer.");if(o<0)throw new Error("Length must not be smaller than zero.");return Array.apply(null,Array(o)).map((f,s)=>typeof a=="function"?a(s):a)}function na(o,a){if(o.length!==a.length)throw new Error("Both arrays have to have the same length.");return o.reduce((f,s,i)=>f+s*a[i],0)}function ia(o,a){return a.map(f=>o*f)}function oa(o,a,f,s){switch(s){case de.antisymmetric:return Lc(o,a,f);case de.constant:return Wc(o,f);case de.periodic:return Uc(o,a,f);case de.reflect:return Gc(o,a,f);case de.smooth:return zc(o,a,f);case de.symmetric:return Ra(o,a,f);case de.zero:return Jc();default:throw new Error('Unknown signal extension mode: "'+s+'"')}}function Hc(o,a){if(o<=0)throw new Error("Cannot determine padding widths for data of length less than or equal to zero.");if(a<2)throw new Error("Cannot determine padding widths for filter of length less than two.");return[a-2,(o+a)%2===0?a-2:a-1]}function Xc(o){if(o.length<2)throw new Error("Scaling numbers length has to be larger than or equal to two.");const a=o.slice().reverse().map((f,s)=>s%2===0?f:-f);return{dec:{low:o.slice(),high:a.slice()},rec:{low:o.slice(),high:a.slice()}}}const sa=de.symmetric;class aa{static Modes=de;static dwt(a,f,s=sa){const h=Qe(f).dec;ra(h);const l=h.low.length;a=this.pad(a,Hc(a.length,l),s);let d=[],w=[];for(let F=0;F+l<=a.length;F+=2){const P=a.slice(F,F+l);d.push(na(P,h.low)),w.push(na(P,h.high))}return[d,w]}static energy(a){let f=0;for(const s of a)typeof s=="number"?f+=Math.pow(s,2):f+=this.energy(s);return f}static idwt(a,f,s){if(a===void 0&&f!==void 0&&(a=Pe(f.length,0)),f===void 0&&a!==void 0&&(f=Pe(a.length,0)),a===void 0||f===void 0)throw new Error("Coefficients must not be undefined.");Qc(a,f);const h=Qe(s).rec;ra(h);const l=h.low.length,d=a.length;let w=Pe(l+(d-1)*2,0);for(let F=0;F<d;F++){const P=2*F;let j=w.slice(P,P+l);j=ea(j,ia(a[F],h.low)),j=ea(j,ia(f[F],h.high)),w=w.slice(0,P).concat(j).concat(w.slice(P+j.length))}return w.slice(l-2,w.length-(l-2))}static maxLevel(a,f){if(!Number.isInteger(a))throw new Error("Length of data is not an integer. This is not allowed.");if(a<0)throw new Error("Data length cannot be less than zero.");if(a===0)return 0;const i=Qe(f).dec.low.length;return Math.max(0,Math.floor(Math.log2(a/(i-1))))}static pad(a,f,s){if(!a)throw new Error("Cannot add padding to empty data.");const i=f[0],h=f[1];return Pe(i,l=>oa(a,i-1-l,!0,s)).concat(a).concat(Pe(h,l=>oa(a,l,!1,s)))}static wavedec(a,f,s=sa,i){if(i===void 0&&(i=this.maxLevel(a.length,f)),i<0)throw new Error("Decomposition level must not be less than zero");let h=[],l=a.slice();for(let d=1;d<=i;d++){const w=this.dwt(l,f,s);l=w[0];const F=w[1];h.unshift(F.slice())}return h.unshift(l.slice()),h}static waverec(a,f){Kc(a),f=Qe(f);let s=a[0];for(let i=1;i<a.length;i++){const h=a[i];s.length===h.length+1&&(s=s.slice(0,s.length-1)),s=this.idwt(s,h,f)}return s.slice()}}function Ta(o){return o.map(a=>o.map(f=>Math.cos(a.phase-f.phase)))}function Zc(o){const a=[],f=new Me(o);for(let i of o){const h=aa.wavedec(i.data,"db2","symmetric",3),l=aa.energy(h),d=f.deriveCoherence(i.data);a.push({id:i.id,wave:h,energy:l,coherence:d})}const s=new xc(Ta(o));return console.log("Eigenvalues:",s.realEigenvalues),console.log("Eigenvectors:",s.eigenvectorMatrix.to2DArray()),{results:a,eigen:s}}const tl=Object.freeze(Object.defineProperty({__proto__:null,getFieldMatrix:Ta,scanWaveletRouting:Zc},Symbol.toStringTag,{value:"Module"})),be=new du;be.version("0.0.6").usage("[options] [signal]").option("-s, --sample-rate [sampleRate]","Set sample rate [1000]","1000");be.parse(process.argv);const qa=parseFloat(be.opts().sampleRate);isNaN(qa)&&(console.log("Please pass a valid sample rate with the -s option!"),be.outputHelp(),process.exit(1));be.args.length<1&&(console.log("Please pass a valid signal file!"),be.outputHelp(),process.exit(1));Tc.readFile(be.args[0],"utf8",function(o,a){if(o)return console.log(o);const f=new Float64Array(a.toString().split(",").map(parseFloat));console.log("Signal: ",f);const i=new Me(f.length).forward(f);console.log("FFT: ",i);const h=ca(i);console.log("FFT Magnitudes: ",h);const l=la(i,qa);console.log("FFT Frequencies: ",l)});exports.AgentManager=Oe;exports.ComplexArray=Te;exports.DSP=Wa;exports.FFT=Xe;exports.FFTProcessor=Me;exports.InvFFT=Ya;exports.Router=tl;exports.computeFFT=eu;exports.computeFFTSpectrum=ru;exports.exponent=Ua;exports.fftFreq=la;exports.fftMag=ca;exports.frequencyMap=Qa;
